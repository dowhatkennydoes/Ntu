(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},1204:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(1369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kenny/Documents/CodeProjects/Ntu/NTUapp/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kenny/Documents/CodeProjects/Ntu/NTUapp/src/app/page.tsx","default")},2599:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(5239),e=c(8088),f=c(7220),g=c(1289),h=c(6191),i=c(4823),j=c(1998),k=c(2603),l=c(4649),m=c(2781),n=c(2602),o=c(1268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(6713),u=c(3365),v=c(1454),w=c(7778),x=c(6143),y=c(9105),z=c(8171),A=c(6439),B=c(6133),C=c.n(B),D=c(893),E=c(2836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,1204)),"/Users/kenny/Documents/CodeProjects/Ntu/NTUapp/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,4431)),"/Users/kenny/Documents/CodeProjects/Ntu/NTUapp/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,6133,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,849,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,9868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,9615,23)),"next/dist/client/components/builtin/unauthorized.js"]}],H=["/Users/kenny/Documents/CodeProjects/Ntu/NTUapp/src/app/page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3567:(a,b,c)=>{"use strict";var d=c(3210),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useSyncExternalStore,g=d.useRef,h=d.useEffect,i=d.useMemo,j=d.useDebugValue;b.useSyncExternalStoreWithSelector=function(a,b,c,d,k){var l=g(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=f(a,(l=i(function(){function a(a){if(!h){if(h=!0,f=a,a=d(a),void 0!==k&&m.hasValue){var b=m.value;if(k(b,a))return g=b}return g=a}if(b=g,e(f,a))return b;var c=d(a);return void 0!==k&&k(b,c)?(f=a,b):(f=a,g=c)}var f,g,h=!1,i=void 0===c?null:c;return[function(){return a(b())},null===i?void 0:function(){return a(i())}]},[b,c,d,k]))[0],l[1]);return h(function(){m.hasValue=!0,m.value=n},[n]),j(n),n}},3873:a=>{"use strict";a.exports=require("path")},4641:(a,b,c)=>{Promise.resolve().then(c.bind(c,5898))},5898:(a,b,c)=>{"use strict";let d;c.r(b),c.d(b,{default:()=>ji});var e,f,g,h,i,j,k,l=c(687),m=c(3210),n=c.t(m,2);let o=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}),p=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),q=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}),r=(a,b)=>{if(0===a.length)return b.classGroupId;let c=a[0],d=b.nextPart.get(c),e=d?r(a.slice(1),d):void 0;if(e)return e;if(0===b.validators.length)return;let f=a.join("-");return b.validators.find(({validator:a})=>a(f))?.classGroupId},s=/^\[(.+)\]$/,t=(a,b,c,d)=>{a.forEach(a=>{if("string"==typeof a){(""===a?b:u(b,a)).classGroupId=c;return}if("function"==typeof a)return v(a)?void t(a(d),b,c,d):void b.validators.push({validator:a,classGroupId:c});Object.entries(a).forEach(([a,e])=>{t(e,u(b,a),c,d)})})},u=(a,b)=>{let c=a;return b.split("-").forEach(a=>{c.nextPart.has(a)||c.nextPart.set(a,{nextPart:new Map,validators:[]}),c=c.nextPart.get(a)}),c},v=a=>a.isThemeGetter,w=/\s+/;function x(){let a,b,c=0,d="";for(;c<arguments.length;)(a=arguments[c++])&&(b=y(a))&&(d&&(d+=" "),d+=b);return d}let y=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=y(a[d]))&&(c&&(c+=" "),c+=b);return c},z=a=>{let b=b=>b[a]||[];return b.isThemeGetter=!0,b},A=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,B=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C=/^\d+\/\d+$/,D=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,G=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,I=a=>C.test(a),J=a=>!!a&&!Number.isNaN(Number(a)),K=a=>!!a&&Number.isInteger(Number(a)),L=a=>a.endsWith("%")&&J(a.slice(0,-1)),M=a=>D.test(a),N=()=>!0,O=a=>E.test(a)&&!F.test(a),P=()=>!1,Q=a=>G.test(a),R=a=>H.test(a),S=a=>!U(a)&&!$(a),T=a=>af(a,aj,P),U=a=>A.test(a),V=a=>af(a,ak,O),W=a=>af(a,al,J),X=a=>af(a,ah,P),Y=a=>af(a,ai,R),Z=a=>af(a,an,Q),$=a=>B.test(a),_=a=>ag(a,ak),aa=a=>ag(a,am),ab=a=>ag(a,ah),ac=a=>ag(a,aj),ad=a=>ag(a,ai),ae=a=>ag(a,an,!0),af=(a,b,c)=>{let d=A.exec(a);return!!d&&(d[1]?b(d[1]):c(d[2]))},ag=(a,b,c=!1)=>{let d=B.exec(a);return!!d&&(d[1]?b(d[1]):c)},ah=a=>"position"===a||"percentage"===a,ai=a=>"image"===a||"url"===a,aj=a=>"length"===a||"size"===a||"bg-size"===a,ak=a=>"length"===a,al=a=>"number"===a,am=a=>"family-name"===a,an=a=>"shadow"===a;Symbol.toStringTag;let ao=function(a,...b){let c,d,e,f=function(h){let i;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=new Map,d=new Map,e=(e,f)=>{c.set(e,f),++b>a&&(b=0,d=c,c=new Map)};return{get(a){let b=c.get(a);return void 0!==b?b:void 0!==(b=d.get(a))?(e(a,b),b):void 0},set(a,b){c.has(a)?c.set(a,b):e(a,b)}}})((i=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{prefix:b,experimentalParseClassName:c}=a,d=a=>{let b,c,d=[],e=0,f=0,g=0;for(let c=0;c<a.length;c++){let h=a[c];if(0===e&&0===f){if(":"===h){d.push(a.slice(g,c)),g=c+1;continue}if("/"===h){b=c;continue}}"["===h?e++:"]"===h?e--:"("===h?f++:")"===h&&f--}let h=0===d.length?a:a.substring(g),i=(c=h).endsWith("!")?c.substring(0,c.length-1):c.startsWith("!")?c.substring(1):c;return{modifiers:d,hasImportantModifier:i!==h,baseClassName:i,maybePostfixModifierPosition:b&&b>g?b-g:void 0}};if(b){let a=b+":",c=d;d=b=>b.startsWith(a)?c(b.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:b,maybePostfixModifierPosition:void 0}}if(c){let a=d;d=b=>c({className:b,parseClassName:a})}return d})(i),sortModifiers:(a=>{let b=Object.fromEntries(a.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;let c=[],d=[];return a.forEach(a=>{"["===a[0]||b[a]?(c.push(...d.sort(),a),d=[]):d.push(a)}),c.push(...d.sort()),c}})(i),...(a=>{let b=(a=>{let{theme:b,classGroups:c}=a,d={nextPart:new Map,validators:[]};for(let a in c)t(c[a],d,a,b);return d})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{let c=a.split("-");return""===c[0]&&1!==c.length&&c.shift(),r(c,b)||(a=>{if(s.test(a)){let b=s.exec(a)[1],c=b?.substring(0,b.indexOf(":"));if(c)return"arbitrary.."+c}})(a)},getConflictingClassGroupIds:(a,b)=>{let e=c[a]||[];return b&&d[a]?[...e,...d[a]]:e}}})(i)}).cache.get,e=c.cache.set,f=g,g(h)};function g(a){let b=d(a);if(b)return b;let f=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e,sortModifiers:f}=b,g=[],h=a.trim().split(w),i="";for(let a=h.length-1;a>=0;a-=1){let b=h[a],{isExternal:j,modifiers:k,hasImportantModifier:l,baseClassName:m,maybePostfixModifierPosition:n}=c(b);if(j){i=b+(i.length>0?" "+i:i);continue}let o=!!n,p=d(o?m.substring(0,n):m);if(!p){if(!o||!(p=d(m))){i=b+(i.length>0?" "+i:i);continue}o=!1}let q=f(k).join(":"),r=l?q+"!":q,s=r+p;if(g.includes(s))continue;g.push(s);let t=e(p,o);for(let a=0;a<t.length;++a){let b=t[a];g.push(r+b)}i=b+(i.length>0?" "+i:i)}return i})(a,c);return e(a,f),f}return function(){return f(x.apply(null,arguments))}}(()=>{let a=z("color"),b=z("font"),c=z("text"),d=z("font-weight"),e=z("tracking"),f=z("leading"),g=z("breakpoint"),h=z("container"),i=z("spacing"),j=z("radius"),k=z("shadow"),l=z("inset-shadow"),m=z("text-shadow"),n=z("drop-shadow"),o=z("blur"),p=z("perspective"),q=z("aspect"),r=z("ease"),s=z("animate"),t=()=>["auto","avoid","all","avoid-page","page","left","right","column"],u=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],v=()=>[...u(),$,U],w=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],y=()=>[$,U,i],A=()=>[I,"full","auto",...y()],B=()=>[K,"none","subgrid",$,U],C=()=>["auto",{span:["full",K,$,U]},K,$,U],D=()=>[K,"auto",$,U],E=()=>["auto","min","max","fr",$,U],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...y()],O=()=>[I,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],P=()=>[a,$,U],Q=()=>[...u(),ab,X,{position:[$,U]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],af=()=>["auto","cover","contain",ac,T,{size:[$,U]}],ag=()=>[L,_,V],ah=()=>["","none","full",j,$,U],ai=()=>["",J,_,V],aj=()=>["solid","dashed","dotted","double"],ak=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],al=()=>[J,L,ab,X],am=()=>["","none",o,$,U],an=()=>["none",J,$,U],ao=()=>["none",J,$,U],ap=()=>[J,$,U],aq=()=>[I,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[M],breakpoint:[M],color:[N],container:[M],"drop-shadow":[M],ease:["in","out","in-out"],font:[S],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[M],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[M],shadow:[M],spacing:["px",J],text:[M],"text-shadow":[M],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",I,U,$,q]}],container:["container"],columns:[{columns:[J,U,$,h]}],"break-after":[{"break-after":t()}],"break-before":[{"break-before":t()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[K,"auto",$,U]}],basis:[{basis:[I,"full","auto",h,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[J,I,"auto","initial","none",U]}],grow:[{grow:["",J,$,U]}],shrink:[{shrink:["",J,$,U]}],order:[{order:[K,"first","last","none",$,U]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[h,"screen",...O()]}],"min-w":[{"min-w":[h,"screen","none",...O()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[g]},...O()]}],h:[{h:["screen","lh",...O()]}],"min-h":[{"min-h":["screen","lh","none",...O()]}],"max-h":[{"max-h":["screen","lh",...O()]}],"font-size":[{text:["base",c,_,V]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,$,W]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",L,U]}],"font-family":[{font:[aa,U,b]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[e,$,U]}],"line-clamp":[{"line-clamp":[J,"none",$,W]}],leading:[{leading:[f,...y()]}],"list-image":[{"list-image":["none",$,U]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$,U]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...aj(),"wavy"]}],"text-decoration-thickness":[{decoration:[J,"from-font","auto",$,V]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[J,"auto",$,U]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$,U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$,U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:af()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},K,$,U],radial:["",$,U],conic:[K,$,U]},ad,Y]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:ag()}],"gradient-via-pos":[{via:ag()}],"gradient-to-pos":[{to:ag()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:ah()}],"rounded-s":[{"rounded-s":ah()}],"rounded-e":[{"rounded-e":ah()}],"rounded-t":[{"rounded-t":ah()}],"rounded-r":[{"rounded-r":ah()}],"rounded-b":[{"rounded-b":ah()}],"rounded-l":[{"rounded-l":ah()}],"rounded-ss":[{"rounded-ss":ah()}],"rounded-se":[{"rounded-se":ah()}],"rounded-ee":[{"rounded-ee":ah()}],"rounded-es":[{"rounded-es":ah()}],"rounded-tl":[{"rounded-tl":ah()}],"rounded-tr":[{"rounded-tr":ah()}],"rounded-br":[{"rounded-br":ah()}],"rounded-bl":[{"rounded-bl":ah()}],"border-w":[{border:ai()}],"border-w-x":[{"border-x":ai()}],"border-w-y":[{"border-y":ai()}],"border-w-s":[{"border-s":ai()}],"border-w-e":[{"border-e":ai()}],"border-w-t":[{"border-t":ai()}],"border-w-r":[{"border-r":ai()}],"border-w-b":[{"border-b":ai()}],"border-w-l":[{"border-l":ai()}],"divide-x":[{"divide-x":ai()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ai()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...aj(),"hidden","none"]}],"divide-style":[{divide:[...aj(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...aj(),"none","hidden"]}],"outline-offset":[{"outline-offset":[J,$,U]}],"outline-w":[{outline:["",J,_,V]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",k,ae,Z]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",l,ae,Z]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:ai()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[J,V]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":ai()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",m,ae,Z]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[J,$,U]}],"mix-blend":[{"mix-blend":[...ak(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ak()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[J]}],"mask-image-linear-from-pos":[{"mask-linear-from":al()}],"mask-image-linear-to-pos":[{"mask-linear-to":al()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":al()}],"mask-image-t-to-pos":[{"mask-t-to":al()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":al()}],"mask-image-r-to-pos":[{"mask-r-to":al()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":al()}],"mask-image-b-to-pos":[{"mask-b-to":al()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":al()}],"mask-image-l-to-pos":[{"mask-l-to":al()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":al()}],"mask-image-x-to-pos":[{"mask-x-to":al()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":al()}],"mask-image-y-to-pos":[{"mask-y-to":al()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[$,U]}],"mask-image-radial-from-pos":[{"mask-radial-from":al()}],"mask-image-radial-to-pos":[{"mask-radial-to":al()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":u()}],"mask-image-conic-pos":[{"mask-conic":[J]}],"mask-image-conic-from-pos":[{"mask-conic-from":al()}],"mask-image-conic-to-pos":[{"mask-conic-to":al()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:af()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$,U]}],filter:[{filter:["","none",$,U]}],blur:[{blur:am()}],brightness:[{brightness:[J,$,U]}],contrast:[{contrast:[J,$,U]}],"drop-shadow":[{"drop-shadow":["","none",n,ae,Z]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",J,$,U]}],"hue-rotate":[{"hue-rotate":[J,$,U]}],invert:[{invert:["",J,$,U]}],saturate:[{saturate:[J,$,U]}],sepia:[{sepia:["",J,$,U]}],"backdrop-filter":[{"backdrop-filter":["","none",$,U]}],"backdrop-blur":[{"backdrop-blur":am()}],"backdrop-brightness":[{"backdrop-brightness":[J,$,U]}],"backdrop-contrast":[{"backdrop-contrast":[J,$,U]}],"backdrop-grayscale":[{"backdrop-grayscale":["",J,$,U]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[J,$,U]}],"backdrop-invert":[{"backdrop-invert":["",J,$,U]}],"backdrop-opacity":[{"backdrop-opacity":[J,$,U]}],"backdrop-saturate":[{"backdrop-saturate":[J,$,U]}],"backdrop-sepia":[{"backdrop-sepia":["",J,$,U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$,U]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[J,"initial",$,U]}],ease:[{ease:["linear","initial",r,$,U]}],delay:[{delay:[J,$,U]}],animate:[{animate:["none",s,$,U]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,$,U]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:an()}],"rotate-x":[{"rotate-x":an()}],"rotate-y":[{"rotate-y":an()}],"rotate-z":[{"rotate-z":an()}],scale:[{scale:ao()}],"scale-x":[{"scale-x":ao()}],"scale-y":[{"scale-y":ao()}],"scale-z":[{"scale-z":ao()}],"scale-3d":["scale-3d"],skew:[{skew:ap()}],"skew-x":[{"skew-x":ap()}],"skew-y":[{"skew-y":ap()}],transform:[{transform:[$,U,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:aq()}],"translate-x":[{"translate-x":aq()}],"translate-y":[{"translate-y":aq()}],"translate-z":[{"translate-z":aq()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$,U]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$,U]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[J,_,V,W]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function ap(...a){return ao(function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}(a))}var aq=c(7590),ar=c(6842);function as(){let[a,b]=(0,m.useState)([]),[c,d]=(0,m.useState)(""),[e,f]=(0,m.useState)(!1),{currentWorkflow:g,currentStep:h,steps:i}=(0,ar.j)(),j=async a=>{if(a.preventDefault(),!c.trim()||e)return;let j={id:Date.now().toString(),role:"user",content:c,timestamp:new Date().toISOString(),workflowStep:g?`Step ${h+1}: ${i[h]?.title}`:void 0};b(a=>[...a,j]),d(""),f(!0);try{let a=await fetch("/api/mere",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c})});if(!a.ok)throw Error("Failed to get response from Mere");let d=await a.json();b(a=>[...a,{...d,aiProcessing:!0,workflowStep:g?`AI Processing: ${i[h]?.title}`:void 0}])}catch(a){aq.oR.error("Failed to get response from Mere"),console.error("Error in Mere chat:",a)}finally{f(!1)}};return(0,l.jsxs)("div",{className:"flex h-full flex-col",children:[g&&(0,l.jsx)("div",{className:"bg-blue-50 border-b border-blue-200 p-3",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[(0,l.jsx)(o,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:["Active Workflow: ",i[h]?.title]}),i[h]?.aiAssisted&&(0,l.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 rounded-full text-xs",children:[(0,l.jsx)(p,{className:"h-3 w-3"}),"AI Assisted"]})]})}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,l.jsxs)("div",{className:"mx-auto max-w-3xl space-y-4",children:[0===a.length&&(0,l.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,l.jsx)("p",{className:"text-lg font-medium",children:"Welcome to Mere"}),(0,l.jsx)("p",{className:"text-sm",children:"Ask me anything to get started"}),g&&(0,l.jsxs)("p",{className:"text-xs mt-2 text-blue-600",children:["Currently assisting with: ",i[h]?.title]})]}),a.map(a=>(0,l.jsx)("div",{className:ap("flex w-full","assistant"===a.role?"justify-start":"justify-end"),children:(0,l.jsxs)("div",{className:"max-w-[80%]",children:[a.workflowStep&&(0,l.jsx)("div",{className:"text-xs text-muted-foreground mb-1 px-1",children:a.workflowStep}),(0,l.jsxs)("div",{className:ap("rounded-lg px-4 py-2 relative","assistant"===a.role?"bg-accent text-accent-foreground":"bg-primary text-primary-foreground"),children:[a.aiProcessing&&(0,l.jsx)("div",{className:"absolute -top-1 -right-1",children:(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center",children:(0,l.jsx)(o,{className:"h-2 w-2 text-white animate-spin"})})}),(0,l.jsx)("p",{children:a.content})]})]})},a.id)),e&&(0,l.jsx)("div",{className:"flex justify-start",children:(0,l.jsx)("div",{className:"bg-accent rounded-lg px-4 py-2 text-accent-foreground",children:(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current"}),(0,l.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:0.2s]"}),(0,l.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:0.4s]"})]})})})]})}),(0,l.jsx)("div",{className:"border-t bg-background p-4",children:(0,l.jsx)("form",{onSubmit:j,className:"mx-auto max-w-3xl",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"text",value:c,onChange:a=>d(a.target.value),placeholder:"Ask me anything...",className:"flex-1 rounded-lg border bg-background px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"}),(0,l.jsx)("button",{type:"submit",disabled:!c.trim()||e,className:"rounded-lg bg-primary p-2 text-primary-foreground hover:bg-primary/90 disabled:opacity-50",children:(0,l.jsx)(q,{className:"h-5 w-5"})})]})})})]})}function at(a){return null!==a&&"object"==typeof a&&"function"==typeof a.start}let au=a=>Array.isArray(a);function av(a,b){if(!Array.isArray(b))return!1;let c=b.length;if(c!==a.length)return!1;for(let d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}function aw(a){return"string"==typeof a||Array.isArray(a)}function ax(a){let b=[{},{}];return null==a||a.values.forEach((a,c)=>{b[0][c]=a.get(),b[1][c]=a.getVelocity()}),b}function ay(a,b,c,d){if("function"==typeof b){let[e,f]=ax(d);b=b(void 0!==c?c:a.custom,e,f)}if("string"==typeof b&&(b=a.variants&&a.variants[b]),"function"==typeof b){let[e,f]=ax(d);b=b(void 0!==c?c:a.custom,e,f)}return b}function az(a,b,c){let d=a.getProps();return ay(d,b,void 0!==c?c:d.custom,a)}let aA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aB=["initial",...aA];function aC(a){let b;return()=>(void 0===b&&(b=a()),b)}let aD=aC(()=>void 0!==window.ScrollTimeline);class aE{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}get finished(){return Promise.all(this.animations.map(a=>"finished"in a?a.finished:a))}getAll(a){return this.animations[0][a]}setAll(a,b){for(let c=0;c<this.animations.length;c++)this.animations[c][a]=b}attachTimeline(a,b){let c=this.animations.map(c=>aD()&&c.attachTimeline?c.attachTimeline(a):"function"==typeof b?b(c):void 0);return()=>{c.forEach((a,b)=>{a&&a(),this.animations[b].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get startTime(){return this.getAll("startTime")}get duration(){let a=0;for(let b=0;b<this.animations.length;b++)a=Math.max(a,this.animations[b].duration);return a}runAll(a){this.animations.forEach(b=>b[a]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class aF extends aE{then(a,b){return Promise.all(this.animations).then(a).catch(b)}}function aG(a,b){return a?a[b]||a.default||a:void 0}function aH(a){let b=0,c=a.next(b);for(;!c.done&&b<2e4;)b+=50,c=a.next(b);return b>=2e4?1/0:b}function aI(a){return"function"==typeof a}function aJ(a,b){a.timeline=b,a.onfinish=null}let aK=a=>Array.isArray(a)&&"number"==typeof a[0],aL={linearEasing:void 0},aM=function(a,b){let c=aC(a);return()=>{var a;return null!=(a=aL[b])?a:c()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(a){return!1}return!0},"linearEasing"),aN=(a,b,c)=>{let d=b-a;return 0===d?1:(c-a)/d},aO=(a,b,c=10)=>{let d="",e=Math.max(Math.round(b/c),2);for(let b=0;b<e;b++)d+=a(aN(0,e-1,b))+", ";return`linear(${d.substring(0,d.length-2)})`},aP=([a,b,c,d])=>`cubic-bezier(${a}, ${b}, ${c}, ${d})`,aQ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:aP([0,.65,.55,1]),circOut:aP([.55,0,1,.45]),backIn:aP([.31,.01,.66,-.59]),backOut:aP([.33,1.53,.69,.99])},aR={x:!1,y:!1};function aS(a,b){let c=function(a,b,c){if(a instanceof Element)return[a];if("string"==typeof a){let b=document.querySelectorAll(a);return b?Array.from(b):[]}return Array.from(a)}(a),d=new AbortController;return[c,{passive:!0,...b,signal:d.signal},()=>d.abort()]}function aT(a){return b=>{"touch"===b.pointerType||aR.x||aR.y||a(b)}}let aU=(a,b)=>!!b&&(a===b||aU(a,b.parentElement)),aV=a=>"mouse"===a.pointerType?"number"!=typeof a.button||a.button<=0:!1!==a.isPrimary,aW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),aX=new WeakSet;function aY(a){return b=>{"Enter"===b.key&&a(b)}}function aZ(a,b){a.dispatchEvent(new PointerEvent("pointer"+b,{isPrimary:!0,bubbles:!0}))}function a$(a){return aV(a)&&!(aR.x||aR.y)}let a_=a=>1e3*a,a0=a=>a,a1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],a2=new Set(a1),a3=new Set(["width","height","top","left","right","bottom",...a1]),a4=a=>au(a)?a[a.length-1]||0:a,a5={skipAnimations:!1,useManualTiming:!1},a6=["read","resolveKeyframes","update","preRender","render","postRender"];function a7(a,b){let c=!1,d=!0,e={delta:0,timestamp:0,isProcessing:!1},f=()=>c=!0,g=a6.reduce((a,b)=>(a[b]=function(a){let b=new Set,c=new Set,d=!1,e=!1,f=new WeakSet,g={delta:0,timestamp:0,isProcessing:!1};function h(b){f.has(b)&&(i.schedule(b),a()),b(g)}let i={schedule:(a,e=!1,g=!1)=>{let h=g&&d?b:c;return e&&f.add(a),h.has(a)||h.add(a),a},cancel:a=>{c.delete(a),f.delete(a)},process:a=>{if(g=a,d){e=!0;return}d=!0,[b,c]=[c,b],b.forEach(h),b.clear(),d=!1,e&&(e=!1,i.process(a))}};return i}(f),a),{}),{read:h,resolveKeyframes:i,update:j,preRender:k,render:l,postRender:m}=g,n=()=>{let f=a5.useManualTiming?e.timestamp:performance.now();c=!1,e.delta=d?1e3/60:Math.max(Math.min(f-e.timestamp,40),1),e.timestamp=f,e.isProcessing=!0,h.process(e),i.process(e),j.process(e),k.process(e),l.process(e),m.process(e),e.isProcessing=!1,c&&b&&(d=!1,a(n))};return{schedule:a6.reduce((b,f)=>{let h=g[f];return b[f]=(b,f=!1,g=!1)=>(!c&&(c=!0,d=!0,e.isProcessing||a(n)),h.schedule(b,f,g)),b},{}),cancel:a=>{for(let b=0;b<a6.length;b++)g[a6[b]].cancel(a)},state:e,steps:g}}let{schedule:a8,cancel:a9,state:ba,steps:bb}=a7("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:a0,!0);function bc(){d=void 0}let bd={now:()=>(void 0===d&&bd.set(ba.isProcessing||a5.useManualTiming?ba.timestamp:performance.now()),d),set:a=>{d=a,queueMicrotask(bc)}};function be(a,b){-1===a.indexOf(b)&&a.push(b)}function bf(a,b){let c=a.indexOf(b);c>-1&&a.splice(c,1)}class bg{constructor(){this.subscriptions=[]}add(a){return be(this.subscriptions,a),()=>bf(this.subscriptions,a)}notify(a,b,c){let d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(let e=0;e<d;e++){let d=this.subscriptions[e];d&&d(a,b,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let bh={current:void 0};class bi{constructor(a,b={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,b=!0)=>{let c=bd.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),b&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(a),this.owner=b.owner}setCurrent(a){this.current=a,this.updatedAt=bd.now(),null===this.canTrackVelocity&&void 0!==a&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,b){this.events[a]||(this.events[a]=new bg);let c=this.events[a].add(b);return"change"===a?()=>{c(),a8.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(let a in this.events)this.events[a].clear()}attach(a,b){this.passiveEffect=a,this.stopPassiveEffect=b}set(a,b=!0){b&&this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a,b)}setWithVelocity(a,b,c){this.set(b),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-c}jump(a,b=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,b&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return bh.current&&bh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var a;let b=bd.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||b-this.updatedAt>30)return 0;let c=Math.min(this.updatedAt-this.prevUpdatedAt,30);return a=parseFloat(this.current)-parseFloat(this.prevFrameValue),c?1e3/c*a:0}start(a){return this.stop(),new Promise(b=>{this.hasAnimated=!0,this.animation=a(b),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bj(a,b){return new bi(a,b)}let bk=a=>!!(a&&a.getVelocity);function bl(a,b){let c=a.getValue("willChange");if(bk(c)&&c.add)return c.add(b)}let bm=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bn="data-"+bm("framerAppearId"),bo={current:!1},bp=(a,b,c)=>(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a;function bq(a,b,c,d){return a===b&&c===d?a0:e=>0===e||1===e?e:bp(function(a,b,c,d,e){let f,g,h=0;do(f=bp(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>1e-7&&++h<12);return g}(e,0,1,a,c),b,d)}let br=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,bs=a=>b=>1-a(1-b),bt=bq(.33,1.53,.69,.99),bu=bs(bt),bv=br(bu),bw=a=>(a*=2)<1?.5*bu(a):.5*(2-Math.pow(2,-10*(a-1))),bx=a=>1-Math.sin(Math.acos(a)),by=bs(bx),bz=br(bx),bA=a=>/^0[^.\s]+$/u.test(a),bB=(a,b,c)=>c>b?b:c<a?a:c,bC={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},bD={...bC,transform:a=>bB(0,1,a)},bE={...bC,default:1},bF=a=>Math.round(1e5*a)/1e5,bG=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,bH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bI=(a,b)=>c=>!!("string"==typeof c&&bH.test(c)&&c.startsWith(a)||b&&null!=c&&Object.prototype.hasOwnProperty.call(c,b)),bJ=(a,b,c)=>d=>{if("string"!=typeof d)return d;let[e,f,g,h]=d.match(bG);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},bK={...bC,transform:a=>Math.round(bB(0,255,a))},bL={test:bI("rgb","red"),parse:bJ("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+bK.transform(a)+", "+bK.transform(b)+", "+bK.transform(c)+", "+bF(bD.transform(d))+")"},bM={test:bI("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),e=a.substring(7,9)):(b=a.substring(1,2),c=a.substring(2,3),d=a.substring(3,4),e=a.substring(4,5),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:bL.transform},bN=a=>({test:b=>"string"==typeof b&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),bO=bN("deg"),bP=bN("%"),bQ=bN("px"),bR=bN("vh"),bS=bN("vw"),bT={...bP,parse:a=>bP.parse(a)/100,transform:a=>bP.transform(100*a)},bU={test:bI("hsl","hue"),parse:bJ("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+bP.transform(bF(b))+", "+bP.transform(bF(c))+", "+bF(bD.transform(d))+")"},bV={test:a=>bL.test(a)||bM.test(a)||bU.test(a),parse:a=>bL.test(a)?bL.parse(a):bU.test(a)?bU.parse(a):bM.parse(a),transform:a=>"string"==typeof a?a:a.hasOwnProperty("red")?bL.transform(a):bU.transform(a)},bW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,bX="number",bY="color",bZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function b$(a){let b=a.toString(),c=[],d={color:[],number:[],var:[]},e=[],f=0,g=b.replace(bZ,a=>(bV.test(a)?(d.color.push(f),e.push(bY),c.push(bV.parse(a))):a.startsWith("var(")?(d.var.push(f),e.push("var"),c.push(a)):(d.number.push(f),e.push(bX),c.push(parseFloat(a))),++f,"${}")).split("${}");return{values:c,split:g,indexes:d,types:e}}function b_(a){return b$(a).values}function b0(a){let{split:b,types:c}=b$(a),d=b.length;return a=>{let e="";for(let f=0;f<d;f++)if(e+=b[f],void 0!==a[f]){let b=c[f];b===bX?e+=bF(a[f]):b===bY?e+=bV.transform(a[f]):e+=a[f]}return e}}let b1=a=>"number"==typeof a?0:a,b2={test:function(a){var b,c;return isNaN(a)&&"string"==typeof a&&((null==(b=a.match(bG))?void 0:b.length)||0)+((null==(c=a.match(bW))?void 0:c.length)||0)>0},parse:b_,createTransformer:b0,getAnimatableNone:function(a){let b=b_(a);return b0(a)(b.map(b1))}},b3=new Set(["brightness","contrast","saturate","opacity"]);function b4(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;let[d]=c.match(bG)||[];if(!d)return a;let e=c.replace(d,""),f=+!!b3.has(b);return d!==c&&(f*=100),b+"("+f+e+")"}let b5=/\b([a-z-]*)\(.*?\)/gu,b6={...b2,getAnimatableNone:a=>{let b=a.match(b5);return b?b.map(b4).join(" "):a}},b7={...bC,transform:Math.round},b8={borderWidth:bQ,borderTopWidth:bQ,borderRightWidth:bQ,borderBottomWidth:bQ,borderLeftWidth:bQ,borderRadius:bQ,radius:bQ,borderTopLeftRadius:bQ,borderTopRightRadius:bQ,borderBottomRightRadius:bQ,borderBottomLeftRadius:bQ,width:bQ,maxWidth:bQ,height:bQ,maxHeight:bQ,top:bQ,right:bQ,bottom:bQ,left:bQ,padding:bQ,paddingTop:bQ,paddingRight:bQ,paddingBottom:bQ,paddingLeft:bQ,margin:bQ,marginTop:bQ,marginRight:bQ,marginBottom:bQ,marginLeft:bQ,backgroundPositionX:bQ,backgroundPositionY:bQ,rotate:bO,rotateX:bO,rotateY:bO,rotateZ:bO,scale:bE,scaleX:bE,scaleY:bE,scaleZ:bE,skew:bO,skewX:bO,skewY:bO,distance:bQ,translateX:bQ,translateY:bQ,translateZ:bQ,x:bQ,y:bQ,z:bQ,perspective:bQ,transformPerspective:bQ,opacity:bD,originX:bT,originY:bT,originZ:bQ,zIndex:b7,size:bQ,fillOpacity:bD,strokeOpacity:bD,numOctaves:b7},b9={...b8,color:bV,backgroundColor:bV,outlineColor:bV,fill:bV,stroke:bV,borderColor:bV,borderTopColor:bV,borderRightColor:bV,borderBottomColor:bV,borderLeftColor:bV,filter:b6,WebkitFilter:b6},ca=a=>b9[a];function cb(a,b){let c=ca(a);return c!==b6&&(c=b2),c.getAnimatableNone?c.getAnimatableNone(b):void 0}let cc=new Set(["auto","none","0"]),cd=a=>a===bC||a===bQ,ce=(a,b)=>parseFloat(a.split(", ")[b]),cf=(a,b)=>(c,{transform:d})=>{if("none"===d||!d)return 0;let e=d.match(/^matrix3d\((.+)\)$/u);if(e)return ce(e[1],b);{let b=d.match(/^matrix\((.+)\)$/u);return b?ce(b[1],a):0}},cg=new Set(["x","y","z"]),ch=a1.filter(a=>!cg.has(a)),ci={width:({x:a},{paddingLeft:b="0",paddingRight:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),height:({y:a},{paddingTop:b="0",paddingBottom:c="0"})=>a.max-a.min-parseFloat(b)-parseFloat(c),top:(a,{top:b})=>parseFloat(b),left:(a,{left:b})=>parseFloat(b),bottom:({y:a},{top:b})=>parseFloat(b)+(a.max-a.min),right:({x:a},{left:b})=>parseFloat(b)+(a.max-a.min),x:cf(4,13),y:cf(5,14)};ci.translateX=ci.x,ci.translateY=ci.y;let cj=new Set,ck=!1,cl=!1;function cm(){if(cl){let a=Array.from(cj).filter(a=>a.needsMeasurement),b=new Set(a.map(a=>a.element)),c=new Map;b.forEach(a=>{let b=function(a){let b=[];return ch.forEach(c=>{let d=a.getValue(c);void 0!==d&&(b.push([c,d.get()]),d.set(+!!c.startsWith("scale")))}),b}(a);b.length&&(c.set(a,b),a.render())}),a.forEach(a=>a.measureInitialState()),b.forEach(a=>{a.render();let b=c.get(a);b&&b.forEach(([b,c])=>{var d;null==(d=a.getValue(b))||d.set(c)})}),a.forEach(a=>a.measureEndState()),a.forEach(a=>{void 0!==a.suspendedScrollY&&window.scrollTo(0,a.suspendedScrollY)})}cl=!1,ck=!1,cj.forEach(a=>a.complete()),cj.clear()}function cn(){cj.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(cl=!0)})}class co{constructor(a,b,c,d,e,f=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...a],this.onComplete=b,this.name=c,this.motionValue=d,this.element=e,this.isAsync=f}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cj.add(this),ck||(ck=!0,a8.read(cn),a8.resolveKeyframes(cm))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:a,name:b,element:c,motionValue:d}=this;for(let e=0;e<a.length;e++)if(null===a[e])if(0===e){let e=null==d?void 0:d.get(),f=a[a.length-1];if(void 0!==e)a[0]=e;else if(c&&b){let d=c.readValue(b,f);null!=d&&(a[0]=d)}void 0===a[0]&&(a[0]=f),d&&void 0===e&&d.set(a[0])}else a[e]=a[e-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cj.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cj.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let cp=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a),cq=a=>b=>"string"==typeof b&&b.startsWith(a),cr=cq("--"),cs=cq("var(--"),ct=a=>!!cs(a)&&cu.test(a.split("/*")[0].trim()),cu=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,cw=a=>b=>b.test(a),cx=[bC,bQ,bP,bO,bS,bR,{test:a=>"auto"===a,parse:a=>a}],cy=a=>cx.find(cw(a));class cz extends co{constructor(a,b,c,d,e){super(a,b,c,d,e,!0)}readKeyframes(){let{unresolvedKeyframes:a,element:b,name:c}=this;if(!b||!b.current)return;super.readKeyframes();for(let c=0;c<a.length;c++){let d=a[c];if("string"==typeof d&&ct(d=d.trim())){let e=function a(b,c,d=1){a0(d<=4,`Max CSS variable fallback depth detected in property "${b}". This may indicate a circular fallback dependency.`);let[e,f]=function(a){let b=cv.exec(a);if(!b)return[,];let[,c,d,e]=b;return[`--${null!=c?c:d}`,e]}(b);if(!e)return;let g=window.getComputedStyle(c).getPropertyValue(e);if(g){let a=g.trim();return cp(a)?parseFloat(a):a}return ct(f)?a(f,c,d+1):f}(d,b.current);void 0!==e&&(a[c]=e),c===a.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!a3.has(c)||2!==a.length)return;let[d,e]=a,f=cy(d),g=cy(e);if(f!==g)if(cd(f)&&cd(g))for(let b=0;b<a.length;b++){let c=a[b];"string"==typeof c&&(a[b]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){let{unresolvedKeyframes:a,name:b}=this,c=[];for(let b=0;b<a.length;b++){var d;("number"==typeof(d=a[b])?0===d:null===d||"none"===d||"0"===d||bA(d))&&c.push(b)}c.length&&function(a,b,c){let d,e=0;for(;e<a.length&&!d;){let b=a[e];"string"==typeof b&&!cc.has(b)&&b$(b).values.length&&(d=a[e]),e++}if(d&&c)for(let e of b)a[e]=cb(c,d)}(a,c,b)}measureInitialState(){let{element:a,unresolvedKeyframes:b,name:c}=this;if(!a||!a.current)return;"height"===c&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ci[c](a.measureViewportBox(),window.getComputedStyle(a.current)),b[0]=this.measuredOrigin;let d=b[b.length-1];void 0!==d&&a.getValue(c,d).jump(d,!1)}measureEndState(){var a;let{element:b,name:c,unresolvedKeyframes:d}=this;if(!b||!b.current)return;let e=b.getValue(c);e&&e.jump(this.measuredOrigin,!1);let f=d.length-1,g=d[f];d[f]=ci[c](b.measureViewportBox(),window.getComputedStyle(b.current)),null!==g&&void 0===this.finalKeyframe&&(this.finalKeyframe=g),(null==(a=this.removedTransforms)?void 0:a.length)&&this.removedTransforms.forEach(([a,c])=>{b.getValue(a).set(c)}),this.resolveNoneKeyframes()}}let cA=(a,b)=>"zIndex"!==b&&!!("number"==typeof a||Array.isArray(a)||"string"==typeof a&&(b2.test(a)||"0"===a)&&!a.startsWith("url(")),cB=a=>null!==a;function cC(a,{repeat:b,repeatType:c="loop"},d){let e=a.filter(cB),f=b&&"loop"!==c&&b%2==1?0:e.length-1;return f&&void 0!==d?d:e[f]}class cD{constructor({autoplay:a=!0,delay:b=0,type:c="keyframes",repeat:d=0,repeatDelay:e=0,repeatType:f="loop",...g}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bd.now(),this.options={autoplay:a,delay:b,type:c,repeat:d,repeatDelay:e,repeatType:f,...g},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(cn(),cm()),this._resolved}onKeyframesResolved(a,b){this.resolvedAt=bd.now(),this.hasAttemptedResolve=!0;let{name:c,type:d,velocity:e,delay:f,onComplete:g,onUpdate:h,isGenerator:i}=this.options;if(!i&&!function(a,b,c,d){let e=a[0];if(null===e)return!1;if("display"===b||"visibility"===b)return!0;let f=a[a.length-1],g=cA(e,b),h=cA(f,b);return a0(g===h,`You are trying to animate ${b} from "${e}" to "${f}". ${e} is not an animatable value - to enable this animation set ${e} to a value animatable to ${f} via the \`style\` property.`),!!g&&!!h&&(function(a){let b=a[0];if(1===a.length)return!0;for(let c=0;c<a.length;c++)if(a[c]!==b)return!0}(a)||("spring"===c||aI(c))&&d)}(a,c,d,e))if(bo.current||!f){h&&h(cC(a,this.options,b)),g&&g(),this.resolveFinishedPromise();return}else this.options.duration=0;let j=this.initPlayback(a,b);!1!==j&&(this._resolved={keyframes:a,finalKeyframe:b,...j},this.onPostResolved())}onPostResolved(){}then(a,b){return this.currentFinishedPromise.then(a,b)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(a=>{this.resolveFinishedPromise=a})}}let cE=(a,b,c)=>a+(b-a)*c;function cF(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function cG(a,b){return c=>c>0?b:a}let cH=(a,b,c)=>{let d=a*a,e=c*(b*b-d)+d;return e<0?0:Math.sqrt(e)},cI=[bM,bL,bU];function cJ(a){let b=cI.find(b=>b.test(a));if(a0(!!b,`'${a}' is not an animatable color. Use the equivalent color code instead.`),!b)return!1;let c=b.parse(a);return b===bU&&(c=function({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,c/=100;let e=0,f=0,g=0;if(b/=100){let d=c<.5?c*(1+b):c+b-c*b,h=2*c-d;e=cF(h,d,a+1/3),f=cF(h,d,a),g=cF(h,d,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}(c)),c}let cK=(a,b)=>{let c=cJ(a),d=cJ(b);if(!c||!d)return cG(a,b);let e={...c};return a=>(e.red=cH(c.red,d.red,a),e.green=cH(c.green,d.green,a),e.blue=cH(c.blue,d.blue,a),e.alpha=cE(c.alpha,d.alpha,a),bL.transform(e))},cL=(a,b)=>c=>b(a(c)),cM=(...a)=>a.reduce(cL),cN=new Set(["none","hidden"]);function cO(a,b){return c=>cE(a,b,c)}function cP(a){return"number"==typeof a?cO:"string"==typeof a?ct(a)?cG:bV.test(a)?cK:cS:Array.isArray(a)?cQ:"object"==typeof a?bV.test(a)?cK:cR:cG}function cQ(a,b){let c=[...a],d=c.length,e=a.map((a,c)=>cP(a)(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}}function cR(a,b){let c={...a,...b},d={};for(let e in c)void 0!==a[e]&&void 0!==b[e]&&(d[e]=cP(a[e])(a[e],b[e]));return a=>{for(let b in d)c[b]=d[b](a);return c}}let cS=(a,b)=>{let c=b2.createTransformer(b),d=b$(a),e=b$(b);return d.indexes.var.length===e.indexes.var.length&&d.indexes.color.length===e.indexes.color.length&&d.indexes.number.length>=e.indexes.number.length?cN.has(a)&&!e.values.length||cN.has(b)&&!d.values.length?function(a,b){return cN.has(a)?c=>c<=0?a:b:c=>c>=1?b:a}(a,b):cM(cQ(function(a,b){var c;let d=[],e={color:0,var:0,number:0};for(let f=0;f<b.values.length;f++){let g=b.types[f],h=a.indexes[g][e[g]],i=null!=(c=a.values[h])?c:0;d[f]=i,e[g]++}return d}(d,e),e.values),c):(a0(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),cG(a,b))};function cT(a,b,c){return"number"==typeof a&&"number"==typeof b&&"number"==typeof c?cE(a,b,c):cP(a)(a,b)}function cU(a,b,c){var d,e;let f=Math.max(b-5,0);return d=c-a(f),(e=b-f)?1e3/e*d:0}let cV={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function cW(a,b){return a*Math.sqrt(1-b*b)}let cX=["duration","bounce"],cY=["stiffness","damping","mass"];function cZ(a,b){return b.some(b=>void 0!==a[b])}function c$(a=cV.visualDuration,b=cV.bounce){let c,d="object"!=typeof a?{visualDuration:a,keyframes:[0,1],bounce:b}:a,{restSpeed:e,restDelta:f}=d,g=d.keyframes[0],h=d.keyframes[d.keyframes.length-1],i={done:!1,value:g},{stiffness:j,damping:k,mass:l,duration:m,velocity:n,isResolvedFromDuration:o}=function(a){let b={velocity:cV.velocity,stiffness:cV.stiffness,damping:cV.damping,mass:cV.mass,isResolvedFromDuration:!1,...a};if(!cZ(a,cY)&&cZ(a,cX))if(a.visualDuration){let c=2*Math.PI/(1.2*a.visualDuration),d=c*c,e=2*bB(.05,1,1-(a.bounce||0))*Math.sqrt(d);b={...b,mass:cV.mass,stiffness:d,damping:e}}else{let c=function({duration:a=cV.duration,bounce:b=cV.bounce,velocity:c=cV.velocity,mass:d=cV.mass}){let e,f;a0(a<=a_(cV.maxDuration),"Spring duration must be 10 seconds or less");let g=1-b;g=bB(cV.minDamping,cV.maxDamping,g),a=bB(cV.minDuration,cV.maxDuration,a/1e3),g<1?(e=b=>{let d=b*g,e=d*a;return .001-(d-c)/cW(b,g)*Math.exp(-e)},f=b=>{let d=b*g*a,f=Math.pow(g,2)*Math.pow(b,2)*a,h=Math.exp(-d),i=cW(Math.pow(b,2),g);return(d*c+c-f)*h*(-e(b)+.001>0?-1:1)/i}):(e=b=>-.001+Math.exp(-b*a)*((b-c)*a+1),f=b=>a*a*(c-b)*Math.exp(-b*a));let h=function(a,b,c){let d=c;for(let c=1;c<12;c++)d-=a(d)/b(d);return d}(e,f,5/a);if(a=a_(a),isNaN(h))return{stiffness:cV.stiffness,damping:cV.damping,duration:a};{let b=Math.pow(h,2)*d;return{stiffness:b,damping:2*g*Math.sqrt(d*b),duration:a}}}(a);(b={...b,...c,mass:cV.mass}).isResolvedFromDuration=!0}return b}({...d,velocity:-((d.velocity||0)/1e3)}),p=n||0,q=k/(2*Math.sqrt(j*l)),r=h-g,s=Math.sqrt(j/l)/1e3,t=5>Math.abs(r);if(e||(e=t?cV.restSpeed.granular:cV.restSpeed.default),f||(f=t?cV.restDelta.granular:cV.restDelta.default),q<1){let a=cW(s,q);c=b=>h-Math.exp(-q*s*b)*((p+q*s*r)/a*Math.sin(a*b)+r*Math.cos(a*b))}else if(1===q)c=a=>h-Math.exp(-s*a)*(r+(p+s*r)*a);else{let a=s*Math.sqrt(q*q-1);c=b=>{let c=Math.exp(-q*s*b),d=Math.min(a*b,300);return h-c*((p+q*s*r)*Math.sinh(d)+a*r*Math.cosh(d))/a}}let u={calculatedDuration:o&&m||null,next:a=>{let b=c(a);if(o)i.done=a>=m;else{let d=0;q<1&&(d=0===a?a_(p):cU(c,a,b));let g=Math.abs(h-b)<=f;i.done=Math.abs(d)<=e&&g}return i.value=i.done?h:b,i},toString:()=>{let a=Math.min(aH(u),2e4),b=aO(b=>u.next(a*b).value,a,30);return a+"ms "+b}};return u}function c_({keyframes:a,velocity:b=0,power:c=.8,timeConstant:d=325,bounceDamping:e=10,bounceStiffness:f=500,modifyTarget:g,min:h,max:i,restDelta:j=.5,restSpeed:k}){let l,m,n=a[0],o={done:!1,value:n},p=c*b,q=n+p,r=void 0===g?q:g(q);r!==q&&(p=r-n);let s=a=>-p*Math.exp(-a/d),t=a=>r+s(a),u=a=>{let b=s(a),c=t(a);o.done=Math.abs(b)<=j,o.value=o.done?r:c},v=a=>{let b;if(b=o.value,void 0!==h&&b<h||void 0!==i&&b>i){var c;l=a,m=c$({keyframes:[o.value,(c=o.value,void 0===h?i:void 0===i||Math.abs(h-c)<Math.abs(i-c)?h:i)],velocity:cU(t,a,o.value),damping:e,stiffness:f,restDelta:j,restSpeed:k})}};return v(0),{calculatedDuration:null,next:a=>{let b=!1;return(m||void 0!==l||(b=!0,u(a),v(a)),void 0!==l&&a>=l)?m.next(a-l):(b||u(a),o)}}}let c0=bq(.42,0,1,1),c1=bq(0,0,.58,1),c2=bq(.42,0,.58,1),c3={linear:a0,easeIn:c0,easeInOut:c2,easeOut:c1,circIn:bx,circInOut:bz,circOut:by,backIn:bu,backInOut:bv,backOut:bt,anticipate:bw},c4=a=>{if(aK(a)){a0(4===a.length,"Cubic bezier arrays must contain four numerical values.");let[b,c,d,e]=a;return bq(b,c,d,e)}return"string"==typeof a?(a0(void 0!==c3[a],`Invalid easing type '${a}'`),c3[a]):a};function c5({duration:a=300,keyframes:b,times:c,ease:d="easeInOut"}){var e;let f=Array.isArray(d)&&"number"!=typeof d[0]?d.map(c4):c4(d),g={done:!1,value:b[0]},h=function(a,b,{clamp:c=!0,ease:d,mixer:e}={}){let f=a.length;if(a0(f===b.length,"Both input and output ranges must be the same length"),1===f)return()=>b[0];if(2===f&&b[0]===b[1])return()=>b[1];let g=a[0]===a[1];a[0]>a[f-1]&&(a=[...a].reverse(),b=[...b].reverse());let h=function(a,b,c){let d=[],e=c||cT,f=a.length-1;for(let c=0;c<f;c++){let f=e(a[c],a[c+1]);b&&(f=cM(Array.isArray(b)?b[c]||a0:b,f)),d.push(f)}return d}(b,d,e),i=h.length,j=c=>{if(g&&c<a[0])return b[0];let d=0;if(i>1)for(;d<a.length-2&&!(c<a[d+1]);d++);let e=aN(a[d],a[d+1],c);return h[d](e)};return c?b=>j(bB(a[0],a[f-1],b)):j}((e=c&&c.length===b.length?c:function(a){let b=[0];return!function(a,b){let c=a[a.length-1];for(let d=1;d<=b;d++){let e=aN(0,b,d);a.push(cE(c,1,e))}}(b,a.length-1),b}(b),e.map(b=>b*a)),b,{ease:Array.isArray(f)?f:b.map(()=>f||c2).splice(0,b.length-1)});return{calculatedDuration:a,next:b=>(g.value=h(b),g.done=b>=a,g)}}let c6=a=>{let b=({timestamp:b})=>a(b);return{start:()=>a8.update(b,!0),stop:()=>a9(b),now:()=>ba.isProcessing?ba.timestamp:bd.now()}},c7={decay:c_,inertia:c_,tween:c5,keyframes:c5,spring:c$},c8=a=>a/100;class c9 extends cD{constructor(a){super(a),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:a}=this.options;a&&a()};let{name:b,motionValue:c,element:d,keyframes:e}=this.options,f=(null==d?void 0:d.KeyframeResolver)||co;this.resolver=new f(e,(a,b)=>this.onKeyframesResolved(a,b),b,c,d),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(a){let b,c,{type:d="keyframes",repeat:e=0,repeatDelay:f=0,repeatType:g,velocity:h=0}=this.options,i=aI(d)?d:c7[d]||c5;i!==c5&&"number"!=typeof a[0]&&(b=cM(c8,cT(a[0],a[1])),a=[0,100]);let j=i({...this.options,keyframes:a});"mirror"===g&&(c=i({...this.options,keyframes:[...a].reverse(),velocity:-h})),null===j.calculatedDuration&&(j.calculatedDuration=aH(j));let{calculatedDuration:k}=j,l=k+f;return{generator:j,mirroredGenerator:c,mapPercentToKeyframes:b,calculatedDuration:k,resolvedDuration:l,totalDuration:l*(e+1)-f}}onPostResolved(){let{autoplay:a=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&a?this.state=this.pendingPlayState:this.pause()}tick(a,b=!1){let{resolved:c}=this;if(!c){let{keyframes:a}=this.options;return{done:!0,value:a[a.length-1]}}let{finalKeyframe:d,generator:e,mirroredGenerator:f,mapPercentToKeyframes:g,keyframes:h,calculatedDuration:i,totalDuration:j,resolvedDuration:k}=c;if(null===this.startTime)return e.next(0);let{delay:l,repeat:m,repeatType:n,repeatDelay:o,onUpdate:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-j/this.speed,this.startTime)),b?this.currentTime=a:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(a-this.startTime)*this.speed;let q=this.currentTime-l*(this.speed>=0?1:-1),r=this.speed>=0?q<0:q>j;this.currentTime=Math.max(q,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=j);let s=this.currentTime,t=e;if(m){let a=Math.min(this.currentTime,j)/k,b=Math.floor(a),c=a%1;!c&&a>=1&&(c=1),1===c&&b--,(b=Math.min(b,m+1))%2&&("reverse"===n?(c=1-c,o&&(c-=o/k)):"mirror"===n&&(t=f)),s=bB(0,1,c)*k}let u=r?{done:!1,value:h[0]}:t.next(s);g&&(u.value=g(u.value));let{done:v}=u;r||null===i||(v=this.speed>=0?this.currentTime>=j:this.currentTime<=0);let w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&v);return w&&void 0!==d&&(u.value=cC(h,this.options,d)),p&&p(u.value),w&&this.finish(),u}get duration(){let{resolved:a}=this;return a?a.calculatedDuration/1e3:0}get time(){return this.currentTime/1e3}set time(a){a=a_(a),this.currentTime=a,null!==this.holdTime||0===this.speed?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.speed)}get speed(){return this.playbackSpeed}set speed(a){let b=this.playbackSpeed!==a;this.playbackSpeed=a,b&&(this.time=this.currentTime/1e3)}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:a=c6,onPlay:b,startTime:c}=this.options;this.driver||(this.driver=a(a=>this.tick(a))),b&&b();let d=this.driver.now();null!==this.holdTime?this.startTime=d-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=d):this.startTime=null!=c?c:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var a;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!=(a=this.currentTime)?a:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:a}=this.options;a&&a()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}}let da=new Set(["opacity","clipPath","filter","transform"]),db=aC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),dc={anticipate:bw,backInOut:bv,circInOut:bz};class dd extends cD{constructor(a){super(a);let{name:b,motionValue:c,element:d,keyframes:e}=this.options;this.resolver=new cz(e,(a,b)=>this.onKeyframesResolved(a,b),b,c,d),this.resolver.scheduleResolve()}initPlayback(a,b){var c;let{duration:d=300,times:e,ease:f,type:g,motionValue:h,name:i,startTime:j}=this.options;if(!h.owner||!h.owner.current)return!1;if("string"==typeof f&&aM()&&f in dc&&(f=dc[f]),aI((c=this.options).type)||"spring"===c.type||!function a(b){return!!("function"==typeof b&&aM()||!b||"string"==typeof b&&(b in aQ||aM())||aK(b)||Array.isArray(b)&&b.every(a))}(c.ease)){let{onComplete:b,onUpdate:c,motionValue:h,element:i,...j}=this.options,k=function(a,b){let c=new c9({...b,keyframes:a,repeat:0,delay:0,isGenerator:!0}),d={done:!1,value:a[0]},e=[],f=0;for(;!d.done&&f<2e4;)e.push((d=c.sample(f)).value),f+=10;return{times:void 0,keyframes:e,duration:f-10,ease:"linear"}}(a,j);1===(a=k.keyframes).length&&(a[1]=a[0]),d=k.duration,e=k.times,f=k.ease,g="keyframes"}let k=function(a,b,c,{delay:d=0,duration:e=300,repeat:f=0,repeatType:g="loop",ease:h="easeInOut",times:i}={}){let j={[b]:c};i&&(j.offset=i);let k=function a(b,c){if(b)return"function"==typeof b&&aM()?aO(b,c):aK(b)?aP(b):Array.isArray(b)?b.map(b=>a(b,c)||aQ.easeOut):aQ[b]}(h,e);return Array.isArray(k)&&(j.easing=k),a.animate(j,{delay:d,duration:e,easing:Array.isArray(k)?"linear":k,fill:"both",iterations:f+1,direction:"reverse"===g?"alternate":"normal"})}(h.owner.current,i,a,{...this.options,duration:d,times:e,ease:f});return k.startTime=null!=j?j:this.calcStartTime(),this.pendingTimeline?(aJ(k,this.pendingTimeline),this.pendingTimeline=void 0):k.onfinish=()=>{let{onComplete:c}=this.options;h.set(cC(a,this.options,b)),c&&c(),this.cancel(),this.resolveFinishedPromise()},{animation:k,duration:d,times:e,type:g,ease:f,keyframes:a}}get duration(){let{resolved:a}=this;if(!a)return 0;let{duration:b}=a;return b/1e3}get time(){let{resolved:a}=this;if(!a)return 0;let{animation:b}=a;return(b.currentTime||0)/1e3}set time(a){let{resolved:b}=this;if(!b)return;let{animation:c}=b;c.currentTime=a_(a)}get speed(){let{resolved:a}=this;if(!a)return 1;let{animation:b}=a;return b.playbackRate}set speed(a){let{resolved:b}=this;if(!b)return;let{animation:c}=b;c.playbackRate=a}get state(){let{resolved:a}=this;if(!a)return"idle";let{animation:b}=a;return b.playState}get startTime(){let{resolved:a}=this;if(!a)return null;let{animation:b}=a;return b.startTime}attachTimeline(a){if(this._resolved){let{resolved:b}=this;if(!b)return a0;let{animation:c}=b;aJ(c,a)}else this.pendingTimeline=a;return a0}play(){if(this.isStopped)return;let{resolved:a}=this;if(!a)return;let{animation:b}=a;"finished"===b.playState&&this.updateFinishedPromise(),b.play()}pause(){let{resolved:a}=this;if(!a)return;let{animation:b}=a;b.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:a}=this;if(!a)return;let{animation:b,keyframes:c,duration:d,type:e,ease:f,times:g}=a;if("idle"===b.playState||"finished"===b.playState)return;if(this.time){let{motionValue:a,onUpdate:b,onComplete:h,element:i,...j}=this.options,k=new c9({...j,keyframes:c,duration:d,type:e,ease:f,times:g,isGenerator:!0}),l=a_(this.time);a.setWithVelocity(k.sample(l-10).value,k.sample(l).value,10)}let{onStop:h}=this.options;h&&h(),this.cancel()}complete(){let{resolved:a}=this;a&&a.animation.finish()}cancel(){let{resolved:a}=this;a&&a.animation.cancel()}static supports(a){let{motionValue:b,name:c,repeatDelay:d,repeatType:e,damping:f,type:g}=a;if(!b||!b.owner||!(b.owner.current instanceof HTMLElement))return!1;let{onUpdate:h,transformTemplate:i}=b.owner.getProps();return db()&&c&&da.has(c)&&!h&&!i&&!d&&"mirror"!==e&&0!==f&&"inertia"!==g}}let de={type:"spring",stiffness:500,damping:25,restSpeed:10},df={type:"keyframes",duration:.8},dg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dh=(a,b,c,d={},e,f)=>g=>{let h=aG(d,a)||{},i=h.delay||d.delay||0,{elapsed:j=0}=d;j-=a_(i);let k={keyframes:Array.isArray(c)?c:[null,c],ease:"easeOut",velocity:b.getVelocity(),...h,delay:-j,onUpdate:a=>{b.set(a),h.onUpdate&&h.onUpdate(a)},onComplete:()=>{g(),h.onComplete&&h.onComplete()},name:a,motionValue:b,element:f?void 0:e};!function({when:a,delay:b,delayChildren:c,staggerChildren:d,staggerDirection:e,repeat:f,repeatType:g,repeatDelay:h,from:i,elapsed:j,...k}){return!!Object.keys(k).length}(h)&&(k={...k,...((a,{keyframes:b})=>b.length>2?df:a2.has(a)?a.startsWith("scale")?{type:"spring",stiffness:550,damping:0===b[1]?2*Math.sqrt(550):30,restSpeed:10}:de:dg)(a,k)}),k.duration&&(k.duration=a_(k.duration)),k.repeatDelay&&(k.repeatDelay=a_(k.repeatDelay)),void 0!==k.from&&(k.keyframes[0]=k.from);let l=!1;if(!1!==k.type&&(0!==k.duration||k.repeatDelay)||(k.duration=0,0===k.delay&&(l=!0)),(bo.current||a5.skipAnimations)&&(l=!0,k.duration=0,k.delay=0),l&&!f&&void 0!==b.get()){let a=cC(k.keyframes,h);if(void 0!==a)return a8.update(()=>{k.onUpdate(a),k.onComplete()}),new aF([])}return!f&&dd.supports(k)?new dd(k):new c9(k)};function di(a,b,{delay:c=0,transitionOverride:d,type:e}={}){var f;let{transition:g=a.getDefaultTransition(),transitionEnd:h,...i}=b;d&&(g=d);let j=[],k=e&&a.animationState&&a.animationState.getState()[e];for(let b in i){let d=a.getValue(b,null!=(f=a.latestValues[b])?f:null),e=i[b];if(void 0===e||k&&function({protectedKeys:a,needsAnimating:b},c){let d=a.hasOwnProperty(c)&&!0!==b[c];return b[c]=!1,d}(k,b))continue;let h={delay:c,...aG(g||{},b)},l=!1;if(window.MotionHandoffAnimation){let c=a.props[bn];if(c){let a=window.MotionHandoffAnimation(c,b,a8);null!==a&&(h.startTime=a,l=!0)}}bl(a,b),d.start(dh(b,d,e,a.shouldReduceMotion&&a3.has(b)?{type:!1}:h,a,l));let m=d.animation;m&&j.push(m)}return h&&Promise.all(j).then(()=>{a8.update(()=>{h&&function(a,b){let{transitionEnd:c={},transition:d={},...e}=az(a,b)||{};for(let b in e={...e,...c}){let c=a4(e[b]);a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,bj(c))}}(a,h)})}),j}function dj(a,b,c={}){var d;let e=az(a,b,"exit"===c.type?null==(d=a.presenceContext)?void 0:d.custom:void 0),{transition:f=a.getDefaultTransition()||{}}=e||{};c.transitionOverride&&(f=c.transitionOverride);let g=e?()=>Promise.all(di(a,e,c)):()=>Promise.resolve(),h=a.variantChildren&&a.variantChildren.size?(d=0)=>{let{delayChildren:e=0,staggerChildren:g,staggerDirection:h}=f;return function(a,b,c=0,d=0,e=1,f){let g=[],h=(a.variantChildren.size-1)*d,i=1===e?(a=0)=>a*d:(a=0)=>h-a*d;return Array.from(a.variantChildren).sort(dk).forEach((a,d)=>{a.notify("AnimationStart",b),g.push(dj(a,b,{...f,delay:c+i(d)}).then(()=>a.notify("AnimationComplete",b)))}),Promise.all(g)}(a,b,e+d,g,h,c)}:()=>Promise.resolve(),{when:i}=f;if(!i)return Promise.all([g(),h(c.delay)]);{let[a,b]="beforeChildren"===i?[g,h]:[h,g];return a().then(()=>b())}}function dk(a,b){return a.sortNodePosition(b)}let dl=aB.length,dm=[...aA].reverse(),dn=aA.length;function dp(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dq(){return{animate:dp(!0),whileInView:dp(),whileHover:dp(),whileTap:dp(),whileDrag:dp(),whileFocus:dp(),exit:dp()}}class dr{constructor(a){this.isMounted=!1,this.node=a}update(){}}class ds extends dr{constructor(a){super(a),a.animationState||(a.animationState=function(a){let b=b=>Promise.all(b.map(({animation:b,options:c})=>(function(a,b,c={}){let d;if(a.notify("AnimationStart",b),Array.isArray(b))d=Promise.all(b.map(b=>dj(a,b,c)));else if("string"==typeof b)d=dj(a,b,c);else{let e="function"==typeof b?az(a,b,c.custom):b;d=Promise.all(di(a,e,c))}return d.then(()=>{a.notify("AnimationComplete",b)})})(a,b,c))),c=dq(),d=!0,e=b=>(c,d)=>{var e;let f=az(a,d,"exit"===b?null==(e=a.presenceContext)?void 0:e.custom:void 0);if(f){let{transition:a,transitionEnd:b,...d}=f;c={...c,...d,...b}}return c};function f(f){let{props:g}=a,h=function a(b){if(!b)return;if(!b.isControllingVariants){let c=b.parent&&a(b.parent)||{};return void 0!==b.props.initial&&(c.initial=b.props.initial),c}let c={};for(let a=0;a<dl;a++){let d=aB[a],e=b.props[d];(aw(e)||!1===e)&&(c[d]=e)}return c}(a.parent)||{},i=[],j=new Set,k={},l=1/0;for(let b=0;b<dn;b++){var m,n;let o=dm[b],p=c[o],q=void 0!==g[o]?g[o]:h[o],r=aw(q),s=o===f?p.isActive:null;!1===s&&(l=b);let t=q===h[o]&&q!==g[o]&&r;if(t&&d&&a.manuallyAnimateOnMount&&(t=!1),p.protectedKeys={...k},!p.isActive&&null===s||!q&&!p.prevProp||at(q)||"boolean"==typeof q)continue;let u=(m=p.prevProp,"string"==typeof(n=q)?n!==m:!!Array.isArray(n)&&!av(n,m)),v=u||o===f&&p.isActive&&!t&&r||b>l&&r,w=!1,x=Array.isArray(q)?q:[q],y=x.reduce(e(o),{});!1===s&&(y={});let{prevResolvedValues:z={}}=p,A={...z,...y},B=b=>{v=!0,j.has(b)&&(w=!0,j.delete(b)),p.needsAnimating[b]=!0;let c=a.getValue(b);c&&(c.liveStyle=!1)};for(let a in A){let b=y[a],c=z[a];if(!k.hasOwnProperty(a))(au(b)&&au(c)?av(b,c):b===c)?void 0!==b&&j.has(a)?B(a):p.protectedKeys[a]=!0:null!=b?B(a):j.add(a)}p.prevProp=q,p.prevResolvedValues=y,p.isActive&&(k={...k,...y}),d&&a.blockInitialAnimation&&(v=!1);let C=!(t&&u)||w;v&&C&&i.push(...x.map(a=>({animation:a,options:{type:o}})))}if(j.size){let b={};j.forEach(c=>{let d=a.getBaseTarget(c),e=a.getValue(c);e&&(e.liveStyle=!0),b[c]=null!=d?d:null}),i.push({animation:b})}let o=!!i.length;return d&&(!1===g.initial||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(o=!1),d=!1,o?b(i):Promise.resolve()}return{animateChanges:f,setActive:function(b,d){var e;if(c[b].isActive===d)return Promise.resolve();null==(e=a.variantChildren)||e.forEach(a=>{var c;return null==(c=a.animationState)?void 0:c.setActive(b,d)}),c[b].isActive=d;let g=f(b);for(let a in c)c[a].protectedKeys={};return g},setAnimateFunction:function(c){b=c(a)},getState:()=>c,reset:()=>{c=dq(),d=!0}}}(a))}updateAnimationControlsSubscription(){let{animate:a}=this.node.getProps();at(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:a}=this.node.getProps(),{animate:b}=this.node.prevProps||{};a!==b&&this.updateAnimationControlsSubscription()}unmount(){var a;this.node.animationState.reset(),null==(a=this.unmountControls)||a.call(this)}}let dt=0;class du extends dr{constructor(){super(...arguments),this.id=dt++}update(){if(!this.node.presenceContext)return;let{isPresent:a,onExitComplete:b}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===c)return;let d=this.node.animationState.setActive("exit",!a);b&&!a&&d.then(()=>b(this.id))}mount(){let{register:a}=this.node.presenceContext||{};a&&(this.unmount=a(this.id))}unmount(){}}function dv(a,b,c,d={passive:!0}){return a.addEventListener(b,c,d),()=>a.removeEventListener(b,c)}function dw(a){return{point:{x:a.pageX,y:a.pageY}}}function dx(a,b,c,d){return dv(a,b,a=>aV(a)&&c(a,dw(a)),d)}let dy=(a,b)=>Math.abs(a-b);class dz{constructor(a,b,{transformPagePoint:c,contextWindow:d,dragSnapToOrigin:e=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=dC(this.lastMoveEventInfo,this.history),b=null!==this.startEvent,c=function(a,b){return Math.sqrt(dy(a.x,b.x)**2+dy(a.y,b.y)**2)}(a.offset,{x:0,y:0})>=3;if(!b&&!c)return;let{point:d}=a,{timestamp:e}=ba;this.history.push({...d,timestamp:e});let{onStart:f,onMove:g}=this.handlers;b||(f&&f(this.lastMoveEvent,a),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,a)},this.handlePointerMove=(a,b)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=dA(b,this.transformPagePoint),a8.update(this.updatePoint,!0)},this.handlePointerUp=(a,b)=>{this.end();let{onEnd:c,onSessionEnd:d,resumeAnimation:e}=this.handlers;if(this.dragSnapToOrigin&&e&&e(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let f=dC("pointercancel"===a.type?this.lastMoveEventInfo:dA(b,this.transformPagePoint),this.history);this.startEvent&&c&&c(a,f),d&&d(a,f)},!aV(a))return;this.dragSnapToOrigin=e,this.handlers=b,this.transformPagePoint=c,this.contextWindow=d||window;let f=dA(dw(a),this.transformPagePoint),{point:g}=f,{timestamp:h}=ba;this.history=[{...g,timestamp:h}];let{onSessionStart:i}=b;i&&i(a,dC(f,this.history)),this.removeListeners=cM(dx(this.contextWindow,"pointermove",this.handlePointerMove),dx(this.contextWindow,"pointerup",this.handlePointerUp),dx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),a9(this.updatePoint)}}function dA(a,b){return b?{point:b(a.point)}:a}function dB(a,b){return{x:a.x-b.x,y:a.y-b.y}}function dC({point:a},b){return{point:a,delta:dB(a,dD(b)),offset:dB(a,b[0]),velocity:function(a,b){if(a.length<2)return{x:0,y:0};let c=a.length-1,d=null,e=dD(a);for(;c>=0&&(d=a[c],!(e.timestamp-d.timestamp>a_(.1)));)c--;if(!d)return{x:0,y:0};let f=(e.timestamp-d.timestamp)/1e3;if(0===f)return{x:0,y:0};let g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}(b,.1)}}function dD(a){return a[a.length-1]}function dE(a){return a&&"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}function dF(a){return a.max-a.min}function dG(a,b,c,d=.5){a.origin=d,a.originPoint=cE(b.min,b.max,a.origin),a.scale=dF(c)/dF(b),a.translate=cE(c.min,c.max,a.origin)-a.originPoint,(a.scale>=.9999&&a.scale<=1.0001||isNaN(a.scale))&&(a.scale=1),(a.translate>=-.01&&a.translate<=.01||isNaN(a.translate))&&(a.translate=0)}function dH(a,b,c,d){dG(a.x,b.x,c.x,d?d.originX:void 0),dG(a.y,b.y,c.y,d?d.originY:void 0)}function dI(a,b,c){a.min=c.min+b.min,a.max=a.min+dF(b)}function dJ(a,b,c){a.min=b.min-c.min,a.max=a.min+dF(b)}function dK(a,b,c){dJ(a.x,b.x,c.x),dJ(a.y,b.y,c.y)}function dL(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function dM(a,b){let c=b.min-a.min,d=b.max-a.max;return b.max-b.min<a.max-a.min&&([c,d]=[d,c]),{min:c,max:d}}function dN(a,b,c){return{min:dO(a,b),max:dO(a,c)}}function dO(a,b){return"number"==typeof a?a:a[b]||0}let dP=()=>({translate:0,scale:1,origin:0,originPoint:0}),dQ=()=>({x:dP(),y:dP()}),dR=()=>({min:0,max:0}),dS=()=>({x:dR(),y:dR()});function dT(a){return[a("x"),a("y")]}function dU({top:a,left:b,right:c,bottom:d}){return{x:{min:b,max:c},y:{min:a,max:d}}}function dV(a){return void 0===a||1===a}function dW({scale:a,scaleX:b,scaleY:c}){return!dV(a)||!dV(b)||!dV(c)}function dX(a){return dW(a)||dY(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function dY(a){var b,c;return(b=a.x)&&"0%"!==b||(c=a.y)&&"0%"!==c}function dZ(a,b,c,d,e){return void 0!==e&&(a=d+e*(a-d)),d+c*(a-d)+b}function d$(a,b=0,c=1,d,e){a.min=dZ(a.min,b,c,d,e),a.max=dZ(a.max,b,c,d,e)}function d_(a,{x:b,y:c}){d$(a.x,b.translate,b.scale,b.originPoint),d$(a.y,c.translate,c.scale,c.originPoint)}function d0(a,b){a.min=a.min+b,a.max=a.max+b}function d1(a,b,c,d,e=.5){let f=cE(a.min,a.max,e);d$(a,b,c,f,d)}function d2(a,b){d1(a.x,b.x,b.scaleX,b.scale,b.originX),d1(a.y,b.y,b.scaleY,b.scale,b.originY)}function d3(a,b){return dU(function(a,b){if(!b)return a;let c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}let d4=({current:a})=>a?a.ownerDocument.defaultView:null,d5=new WeakMap;class d6{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dS(),this.visualElement=a}start(a,{snapToCursor:b=!1}={}){let{presenceContext:c}=this.visualElement;if(c&&!1===c.isPresent)return;let{dragSnapToOrigin:d}=this.getProps();this.panSession=new dz(a,{onSessionStart:a=>{let{dragSnapToOrigin:c}=this.getProps();c?this.pauseAnimation():this.stopAnimation(),b&&this.snapToCursor(dw(a).point)},onStart:(a,b)=>{let{drag:c,dragPropagation:d,onDragStart:e}=this.getProps();if(c&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(a){if("x"===a||"y"===a)if(aR[a])return null;else return aR[a]=!0,()=>{aR[a]=!1};return aR.x||aR.y?null:(aR.x=aR.y=!0,()=>{aR.x=aR.y=!1})}(c),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dT(a=>{let b=this.getAxisMotionValue(a).get()||0;if(bP.test(b)){let{projection:c}=this.visualElement;if(c&&c.layout){let d=c.layout.layoutBox[a];d&&(b=dF(d)*(parseFloat(b)/100))}}this.originPoint[a]=b}),e&&a8.postRender(()=>e(a,b)),bl(this.visualElement,"transform");let{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},onMove:(a,b)=>{let{dragPropagation:c,dragDirectionLock:d,onDirectionLock:e,onDrag:f}=this.getProps();if(!c&&!this.openDragLock)return;let{offset:g}=b;if(d&&null===this.currentDirection){this.currentDirection=function(a,b=10){let c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}(g),null!==this.currentDirection&&e&&e(this.currentDirection);return}this.updateAxis("x",b.point,g),this.updateAxis("y",b.point,g),this.visualElement.render(),f&&f(a,b)},onSessionEnd:(a,b)=>this.stop(a,b),resumeAnimation:()=>dT(a=>{var b;return"paused"===this.getAnimationState(a)&&(null==(b=this.getAxisMotionValue(a).animation)?void 0:b.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:d4(this.visualElement)})}stop(a,b){let c=this.isDragging;if(this.cancel(),!c)return;let{velocity:d}=b;this.startAnimation(d);let{onDragEnd:e}=this.getProps();e&&a8.postRender(()=>e(a,b))}cancel(){this.isDragging=!1;let{projection:a,animationState:b}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),b&&b.setActive("whileDrag",!1)}updateAxis(a,b,c){let{drag:d}=this.getProps();if(!c||!d7(a,d,this.currentDirection))return;let e=this.getAxisMotionValue(a),f=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(f=function(a,{min:b,max:c},d){return void 0!==b&&a<b?a=d?cE(b,a,d.min):Math.max(a,b):void 0!==c&&a>c&&(a=d?cE(c,a,d.max):Math.min(a,c)),a}(f,this.constraints[a],this.elastic[a])),e.set(f)}resolveConstraints(){var a;let{dragConstraints:b,dragElastic:c}=this.getProps(),d=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(a=this.visualElement.projection)?void 0:a.layout,e=this.constraints;b&&dE(b)?this.constraints||(this.constraints=this.resolveRefConstraints()):b&&d?this.constraints=function(a,{top:b,left:c,bottom:d,right:e}){return{x:dL(a.x,c,e),y:dL(a.y,b,d)}}(d.layoutBox,b):this.constraints=!1,this.elastic=function(a=.35){return!1===a?a=0:!0===a&&(a=.35),{x:dN(a,"left","right"),y:dN(a,"top","bottom")}}(c),e!==this.constraints&&d&&this.constraints&&!this.hasMutatedConstraints&&dT(a=>{!1!==this.constraints&&this.getAxisMotionValue(a)&&(this.constraints[a]=function(a,b){let c={};return void 0!==b.min&&(c.min=b.min-a.min),void 0!==b.max&&(c.max=b.max-a.min),c}(d.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){var a;let{dragConstraints:b,onMeasureDragConstraints:c}=this.getProps();if(!b||!dE(b))return!1;let d=b.current;a0(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:e}=this.visualElement;if(!e||!e.layout)return!1;let f=function(a,b,c){let d=d3(a,c),{scroll:e}=b;return e&&(d0(d.x,e.offset.x),d0(d.y,e.offset.y)),d}(d,e.root,this.visualElement.getTransformPagePoint()),g=(a=e.layout.layoutBox,{x:dM(a.x,f.x),y:dM(a.y,f.y)});if(c){let a=c(function({x:a,y:b}){return{top:b.min,right:a.max,bottom:b.max,left:a.min}}(g));this.hasMutatedConstraints=!!a,a&&(g=dU(a))}return g}startAnimation(a){let{drag:b,dragMomentum:c,dragElastic:d,dragTransition:e,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{};return Promise.all(dT(g=>{if(!d7(g,b,this.currentDirection))return;let i=h&&h[g]||{};f&&(i={min:0,max:0});let j={type:"inertia",velocity:c?a[g]:0,bounceStiffness:d?200:1e6,bounceDamping:d?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...e,...i};return this.startAxisValueAnimation(g,j)})).then(g)}startAxisValueAnimation(a,b){let c=this.getAxisMotionValue(a);return bl(this.visualElement,a),c.start(dh(a,c,0,b,this.visualElement,!1))}stopAnimation(){dT(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){dT(a=>{var b;return null==(b=this.getAxisMotionValue(a).animation)?void 0:b.pause()})}getAnimationState(a){var b;return null==(b=this.getAxisMotionValue(a).animation)?void 0:b.state}getAxisMotionValue(a){let b=`_drag${a.toUpperCase()}`,c=this.visualElement.getProps();return c[b]||this.visualElement.getValue(a,(c.initial?c.initial[a]:void 0)||0)}snapToCursor(a){dT(b=>{let{drag:c}=this.getProps();if(!d7(b,c,this.currentDirection))return;let{projection:d}=this.visualElement,e=this.getAxisMotionValue(b);if(d&&d.layout){let{min:c,max:f}=d.layout.layoutBox[b];e.set(a[b]-cE(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:a,dragConstraints:b}=this.getProps(),{projection:c}=this.visualElement;if(!dE(b)||!c||!this.constraints)return;this.stopAnimation();let d={x:0,y:0};dT(a=>{let b=this.getAxisMotionValue(a);if(b&&!1!==this.constraints){let c=b.get();d[a]=function(a,b){let c=.5,d=dF(a),e=dF(b);return e>d?c=aN(b.min,b.max-d,a.min):d>e&&(c=aN(a.min,a.max-e,b.min)),bB(0,1,c)}({min:c,max:c},this.constraints[a])}});let{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),dT(b=>{if(!d7(b,a,null))return;let c=this.getAxisMotionValue(b),{min:e,max:f}=this.constraints[b];c.set(cE(e,f,d[b]))})}addListeners(){if(!this.visualElement.current)return;d5.set(this.visualElement,this);let a=dx(this.visualElement.current,"pointerdown",a=>{let{drag:b,dragListener:c=!0}=this.getProps();b&&c&&this.start(a)}),b=()=>{let{dragConstraints:a}=this.getProps();dE(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",b);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),a8.read(b);let e=dv(window,"resize",()=>this.scalePositionWithinConstraints()),f=c.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b})=>{this.isDragging&&b&&(dT(b=>{let c=this.getAxisMotionValue(b);c&&(this.originPoint[b]+=a[b].translate,c.set(c.get()+a[b].translate))}),this.visualElement.render())});return()=>{e(),a(),d(),f&&f()}}getProps(){let a=this.visualElement.getProps(),{drag:b=!1,dragDirectionLock:c=!1,dragPropagation:d=!1,dragConstraints:e=!1,dragElastic:f=.35,dragMomentum:g=!0}=a;return{...a,drag:b,dragDirectionLock:c,dragPropagation:d,dragConstraints:e,dragElastic:f,dragMomentum:g}}}function d7(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}class d8 extends dr{constructor(a){super(a),this.removeGroupControls=a0,this.removeListeners=a0,this.controls=new d6(a)}mount(){let{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||a0}unmount(){this.removeGroupControls(),this.removeListeners()}}let d9=a=>(b,c)=>{a&&a8.postRender(()=>a(b,c))};class ea extends dr{constructor(){super(...arguments),this.removePointerDownListener=a0}onPointerDown(a){this.session=new dz(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d4(this.node)})}createPanHandlers(){let{onPanSessionStart:a,onPanStart:b,onPan:c,onPanEnd:d}=this.node.getProps();return{onSessionStart:d9(a),onStart:d9(b),onMove:c,onEnd:(a,b)=>{delete this.session,d&&a8.postRender(()=>d(a,b))}}}mount(){this.removePointerDownListener=dx(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let eb=(0,m.createContext)(null),ec=(0,m.createContext)({}),ed=(0,m.createContext)({}),ee={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ef(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}let eg={correct:(a,b)=>{if(!b.target)return a;if("string"==typeof a)if(!bQ.test(a))return a;else a=parseFloat(a);let c=ef(a,b.target.x),d=ef(a,b.target.y);return`${c}% ${d}%`}},eh={},{schedule:ei,cancel:ej}=a7(queueMicrotask,!1);class ek extends m.Component{componentDidMount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c,layoutId:d}=this.props,{projection:e}=a;Object.assign(eh,em),e&&(b.group&&b.group.add(e),c&&c.register&&d&&c.register(e),e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),ee.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){let{layoutDependency:b,visualElement:c,drag:d,isPresent:e}=this.props,f=c.projection;return f&&(f.isPresent=e,d||a.layoutDependency!==b||void 0===b?f.willUpdate():this.safeToRemove(),a.isPresent!==e&&(e?f.promote():f.relegate()||a8.postRender(()=>{let a=f.getStack();a&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),ei.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:a,layoutGroup:b,switchLayoutGroup:c}=this.props,{projection:d}=a;d&&(d.scheduleCheckAfterUnmount(),b&&b.group&&b.group.remove(d),c&&c.deregister&&c.deregister(d))}safeToRemove(){let{safeToRemove:a}=this.props;a&&a()}render(){return null}}function el(a){let[b,c]=function(a=!0){let b=(0,m.useContext)(eb);if(null===b)return[!0,null];let{isPresent:c,onExitComplete:d,register:e}=b,f=(0,m.useId)();(0,m.useEffect)(()=>{a&&e(f)},[a]);let g=(0,m.useCallback)(()=>a&&d&&d(f),[f,d,a]);return!c&&d?[!1,g]:[!0]}(),d=(0,m.useContext)(ec);return(0,l.jsx)(ek,{...a,layoutGroup:d,switchLayoutGroup:(0,m.useContext)(ed),isPresent:b,safeToRemove:c})}let em={borderRadius:{...eg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eg,borderTopRightRadius:eg,borderBottomLeftRadius:eg,borderBottomRightRadius:eg,boxShadow:{correct:(a,{treeScale:b,projectionDelta:c})=>{let d=b2.parse(a);if(d.length>5)return a;let e=b2.createTransformer(a),f=+("number"!=typeof d[0]),g=c.x.scale*b.x,h=c.y.scale*b.y;d[0+f]/=g,d[1+f]/=h;let i=cE(g,h,.5);return"number"==typeof d[2+f]&&(d[2+f]/=i),"number"==typeof d[3+f]&&(d[3+f]/=i),e(d)}}},en=(a,b)=>a.depth-b.depth;class eo{constructor(){this.children=[],this.isDirty=!1}add(a){be(this.children,a),this.isDirty=!0}remove(a){bf(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(en),this.isDirty=!1,this.children.forEach(a)}}function ep(a){let b=bk(a)?a.get():a;return b&&"object"==typeof b&&b.mix&&b.toValue?b.toValue():b}let eq=["TopLeft","TopRight","BottomLeft","BottomRight"],er=eq.length,es=a=>"string"==typeof a?parseFloat(a):a,et=a=>"number"==typeof a||bQ.test(a);function eu(a,b){return void 0!==a[b]?a[b]:a.borderRadius}let ev=ex(0,.5,by),ew=ex(.5,.95,a0);function ex(a,b,c){return d=>d<a?0:d>b?1:c(aN(a,b,d))}function ey(a,b){a.min=b.min,a.max=b.max}function ez(a,b){ey(a.x,b.x),ey(a.y,b.y)}function eA(a,b){a.translate=b.translate,a.scale=b.scale,a.originPoint=b.originPoint,a.origin=b.origin}function eB(a,b,c,d,e){return a-=b,a=d+1/c*(a-d),void 0!==e&&(a=d+1/e*(a-d)),a}function eC(a,b,[c,d,e],f,g){!function(a,b=0,c=1,d=.5,e,f=a,g=a){if(bP.test(b)&&(b=parseFloat(b),b=cE(g.min,g.max,b/100)-g.min),"number"!=typeof b)return;let h=cE(f.min,f.max,d);a===f&&(h-=b),a.min=eB(a.min,b,c,h,e),a.max=eB(a.max,b,c,h,e)}(a,b[c],b[d],b[e],b.scale,f,g)}let eD=["x","scaleX","originX"],eE=["y","scaleY","originY"];function eF(a,b,c,d){eC(a.x,b,eD,c?c.x:void 0,d?d.x:void 0),eC(a.y,b,eE,c?c.y:void 0,d?d.y:void 0)}function eG(a){return 0===a.translate&&1===a.scale}function eH(a){return eG(a.x)&&eG(a.y)}function eI(a,b){return a.min===b.min&&a.max===b.max}function eJ(a,b){return Math.round(a.min)===Math.round(b.min)&&Math.round(a.max)===Math.round(b.max)}function eK(a,b){return eJ(a.x,b.x)&&eJ(a.y,b.y)}function eL(a){return dF(a.x)/dF(a.y)}function eM(a,b){return a.translate===b.translate&&a.scale===b.scale&&a.originPoint===b.originPoint}class eN{constructor(){this.members=[]}add(a){be(this.members,a),a.scheduleRender()}remove(a){if(bf(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){let a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(a){let b,c=this.members.findIndex(b=>a===b);if(0===c)return!1;for(let a=c;a>=0;a--){let c=this.members[a];if(!1!==c.isPresent){b=c;break}}return!!b&&(this.promote(b),!0)}promote(a,b){let c=this.lead;if(a!==c&&(this.prevLead=c,this.lead=a,a.show(),c)){c.instance&&c.scheduleRender(),a.scheduleRender(),a.resumeFrom=c,b&&(a.resumeFrom.preserveOpacity=!0),c.snapshot&&(a.snapshot=c.snapshot,a.snapshot.latestValues=c.animationValues||c.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);let{crossfade:d}=a.options;!1===d&&c.hide()}}exitAnimationComplete(){this.members.forEach(a=>{let{options:b,resumingFrom:c}=a;b.onExitComplete&&b.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let eO={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},eP="undefined"!=typeof window&&void 0!==window.MotionDebug,eQ=["","X","Y","Z"],eR={visibility:"hidden"},eS=0;function eT(a,b,c,d){let{latestValues:e}=b;e[a]&&(c[a]=e[a],b.setStaticValue(a,0),d&&(d[a]=0))}function eU({attachResizeListener:a,defaultParent:b,measureScroll:c,checkIsScrollRoot:d,resetTransform:e}){return class{constructor(a={},c=null==b?void 0:b()){this.id=eS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,eP&&(eO.totalNodes=eO.resolvedTargetDeltas=eO.recalculatedProjection=0),this.nodes.forEach(eX),this.nodes.forEach(e2),this.nodes.forEach(e3),this.nodes.forEach(eY),eP&&window.MotionDebug.record(eO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new eo)}addEventListener(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new bg),this.eventHandlers.get(a).add(b)}notifyListeners(a,...b){let c=this.eventHandlers.get(a);c&&c.notify(...b)}hasListeners(a){return this.eventHandlers.has(a)}mount(b,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=b instanceof SVGElement&&"svg"!==b.tagName,this.instance=b;let{layoutId:d,layout:e,visualElement:f}=this.options;if(f&&!f.current&&f.mount(b),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(e||d)&&(this.isLayoutDirty=!0),a){let c,d=()=>this.root.updateBlockedByResize=!1;a(b,()=>{this.root.updateBlockedByResize=!0,c&&c(),c=function(a,b){let c=bd.now(),d=({timestamp:b})=>{let e=b-c;e>=250&&(a9(d),a(e-250))};return a8.read(d,!0),()=>a9(d)}(d,250),ee.hasAnimatedSinceResize&&(ee.hasAnimatedSinceResize=!1,this.nodes.forEach(e1))})}d&&this.root.registerSharedNode(d,this),!1!==this.options.animate&&f&&(d||e)&&this.addEventListener("didUpdate",({delta:a,hasLayoutChanged:b,hasRelativeTargetChanged:c,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let e=this.options.transition||f.getDefaultTransition()||e9,{onLayoutAnimationStart:g,onLayoutAnimationComplete:h}=f.getProps(),i=!this.targetLayout||!eK(this.targetLayout,d)||c,j=!b&&c;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||b&&(i||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(a,j);let b={...aG(e,"layout"),onPlay:g,onComplete:h};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else b||e1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,a9(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e4),this.animationId++)}getTransformTemplate(){let{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function a(b){if(b.hasCheckedOptimisedAppear=!0,b.root===b)return;let{visualElement:c}=b.options;if(!c)return;let d=c.props[bn];if(window.MotionHasOptimisedAnimation(d,"transform")){let{layout:a,layoutId:c}=b.options;window.MotionCancelOptimisedAnimation(d,"transform",a8,!(a||c))}let{parent:e}=b;e&&!e.hasCheckedOptimisedAppear&&a(e)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let a=0;a<this.path.length;a++){let b=this.path[a];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}let{layoutId:b,layout:c}=this.options;if(void 0===b&&!c)return;let d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e$);return}this.isUpdating||this.nodes.forEach(e_),this.isUpdating=!1,this.nodes.forEach(e0),this.nodes.forEach(eV),this.nodes.forEach(eW),this.clearAllSnapshots();let a=bd.now();ba.delta=bB(0,1e3/60,a-ba.timestamp),ba.timestamp=a,ba.isProcessing=!0,bb.update.process(ba),bb.preRender.process(ba),bb.render.process(ba),ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ei.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eZ),this.sharedNodes.forEach(e5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,a8.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){a8.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();let a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dS(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(b=!1),b){let b=d(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:b,offset:c(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!e)return;let a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!eH(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&(b||dX(this.latestValues)||f)&&(e(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){var b;let c=this.measurePageBox(),d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),fc((b=d).x),fc(b.y),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var a;let{visualElement:b}=this.options;if(!b)return dS();let c=b.measureViewportBox();if(!((null==(a=this.scroll)?void 0:a.wasRoot)||this.path.some(fe))){let{scroll:a}=this.root;a&&(d0(c.x,a.offset.x),d0(c.y,a.offset.y))}return c}removeElementScroll(a){var b;let c=dS();if(ez(c,a),null==(b=this.scroll)?void 0:b.wasRoot)return c;for(let b=0;b<this.path.length;b++){let d=this.path[b],{scroll:e,options:f}=d;d!==this.root&&e&&f.layoutScroll&&(e.wasRoot&&ez(c,a),d0(c.x,e.offset.x),d0(c.y,e.offset.y))}return c}applyTransform(a,b=!1){let c=dS();ez(c,a);for(let a=0;a<this.path.length;a++){let d=this.path[a];!b&&d.options.layoutScroll&&d.scroll&&d!==d.root&&d2(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),dX(d.latestValues)&&d2(c,d.latestValues)}return dX(this.latestValues)&&d2(c,this.latestValues),c}removeTransform(a){let b=dS();ez(b,a);for(let a=0;a<this.path.length;a++){let c=this.path[a];if(!c.instance||!dX(c.latestValues))continue;dW(c.latestValues)&&c.updateSnapshot();let d=dS();ez(d,c.measurePageBox()),eF(b,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return dX(this.latestValues)&&eF(b,this.latestValues),b}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:void 0===a.crossfade||a.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var b,c,d,e;let f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);let g=!!this.resumingFrom||this!==f;if(!(a||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(b=this.parent)?void 0:b.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:h,layoutId:i}=this.options;if(this.layout&&(h||i)){if(this.resolvedRelativeTargetAt=ba.timestamp,!this.targetDelta&&!this.relativeTarget){let a=this.getClosestProjectingParent();a&&a.layout&&1!==this.animationProgress?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dS(),this.relativeTargetOrigin=dS(),dK(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),ez(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=dS(),this.targetWithTransforms=dS()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),c=this.target,d=this.relativeTarget,e=this.relativeParent.target,dI(c.x,d.x,e.x),dI(c.y,d.y,e.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ez(this.target,this.layout.layoutBox),d_(this.target,this.targetDelta)):ez(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let a=this.getClosestProjectingParent();a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dS(),this.relativeTargetOrigin=dS(),dK(this.relativeTargetOrigin,this.target,a.target),ez(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}eP&&eO.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dW(this.parent.latestValues)||dY(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;let b=this.getLead(),c=!!this.resumingFrom||this!==b,d=!0;if((this.isProjectionDirty||(null==(a=this.parent)?void 0:a.isProjectionDirty))&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ba.timestamp&&(d=!1),d)return;let{layout:e,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(e||f))return;ez(this.layoutCorrected,this.layout.layoutBox);let g=this.treeScale.x,h=this.treeScale.y;!function(a,b,c,d=!1){let e,f,g=c.length;if(g){b.x=b.y=1;for(let h=0;h<g;h++){f=(e=c[h]).projectionDelta;let{visualElement:g}=e.options;(!g||!g.props.style||"contents"!==g.props.style.display)&&(d&&e.options.layoutScroll&&e.scroll&&e!==e.root&&d2(a,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),f&&(b.x*=f.x.scale,b.y*=f.y.scale,d_(a,f)),d&&dX(e.latestValues)&&d2(a,e.latestValues))}b.x<1.0000000000001&&b.x>.999999999999&&(b.x=1),b.y<1.0000000000001&&b.y>.999999999999&&(b.y=1)}}(this.layoutCorrected,this.treeScale,this.path,c),b.layout&&!b.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(b.target=b.layout.layoutBox,b.targetWithTransforms=dS());let{target:i}=b;if(!i){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(eA(this.prevProjectionDelta.x,this.projectionDelta.x),eA(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),dH(this.projectionDelta,this.layoutCorrected,i,this.latestValues),this.treeScale.x===g&&this.treeScale.y===h&&eM(this.projectionDelta.x,this.prevProjectionDelta.x)&&eM(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",i)),eP&&eO.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var b;if(null==(b=this.options.visualElement)||b.scheduleRender(),a){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dQ(),this.projectionDelta=dQ(),this.projectionDeltaWithTransform=dQ()}setAnimationOrigin(a,b=!1){let c,d=this.snapshot,e=d?d.latestValues:{},f={...this.latestValues},g=dQ();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;let h=dS(),i=(d?d.source:void 0)!==(this.layout?this.layout.source:void 0),j=this.getStack(),k=!j||j.members.length<=1,l=!!(i&&!k&&!0===this.options.crossfade&&!this.path.some(e8));this.animationProgress=0,this.mixTargetDelta=b=>{let d=b/1e3;if(e6(g.x,a.x,d),e6(g.y,a.y,d),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var j,m,n,o,p,q;dK(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n=this.relativeTarget,o=this.relativeTargetOrigin,p=h,q=d,e7(n.x,o.x,p.x,q),e7(n.y,o.y,p.y,q),c&&(j=this.relativeTarget,m=c,eI(j.x,m.x)&&eI(j.y,m.y))&&(this.isProjectionDirty=!1),c||(c=dS()),ez(c,this.relativeTarget)}i&&(this.animationValues=f,function(a,b,c,d,e,f){e?(a.opacity=cE(0,void 0!==c.opacity?c.opacity:1,ev(d)),a.opacityExit=cE(void 0!==b.opacity?b.opacity:1,0,ew(d))):f&&(a.opacity=cE(void 0!==b.opacity?b.opacity:1,void 0!==c.opacity?c.opacity:1,d));for(let e=0;e<er;e++){let f=`border${eq[e]}Radius`,g=eu(b,f),h=eu(c,f);(void 0!==g||void 0!==h)&&(g||(g=0),h||(h=0),0===g||0===h||et(g)===et(h)?(a[f]=Math.max(cE(es(g),es(h),d),0),(bP.test(h)||bP.test(g))&&(a[f]+="%")):a[f]=h)}(b.rotate||c.rotate)&&(a.rotate=cE(b.rotate||0,c.rotate||0,d))}(f,e,this.latestValues,d,l,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=d},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(a9(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=a8.update(()=>{ee.hasAnimatedSinceResize=!0,this.currentAnimation=function(a,b,c){let d=bk(0)?0:bj(a);return d.start(dh("",d,1e3,c)),d.animation}(0,0,{...a,onUpdate:b=>{this.mixTargetDelta(b),a.onUpdate&&a.onUpdate(b)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let a=this.getLead(),{targetWithTransforms:b,target:c,layout:d,latestValues:e}=a;if(b&&c&&d){if(this!==a&&this.layout&&d&&fd(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||dS();let b=dF(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+b;let d=dF(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+d}ez(b,c),d2(b,e),dH(this.projectionDeltaWithTransform,this.layoutCorrected,b,e)}}registerSharedNode(a,b){this.sharedNodes.has(a)||this.sharedNodes.set(a,new eN),this.sharedNodes.get(a).add(b);let c=b.options.initialPromotionConfig;b.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(b):void 0})}isLead(){let a=this.getStack();return!a||a.lead===this}getLead(){var a;let{layoutId:b}=this.options;return b&&(null==(a=this.getStack())?void 0:a.lead)||this}getPrevLead(){var a;let{layoutId:b}=this.options;return b?null==(a=this.getStack())?void 0:a.prevLead:void 0}getStack(){let{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:b,preserveFollowOpacity:c}={}){let d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){let a=this.getStack();return!!a&&a.relegate(this)}resetSkewAndRotation(){let{visualElement:a}=this.options;if(!a)return;let b=!1,{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(b=!0),!b)return;let d={};c.z&&eT("z",a,d,this.animationValues);for(let b=0;b<eQ.length;b++)eT(`rotate${eQ[b]}`,a,d,this.animationValues),eT(`skew${eQ[b]}`,a,d,this.animationValues);for(let b in a.render(),d)a.setStaticValue(b,d[b]),this.animationValues&&(this.animationValues[b]=d[b]);a.scheduleRender()}getProjectionStyles(a){var b,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eR;let d={visibility:""},e=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=ep(null==a?void 0:a.pointerEvents)||"",d.transform=e?e(this.latestValues,""):"none",d;let f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){let b={};return this.options.layoutId&&(b.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,b.pointerEvents=ep(null==a?void 0:a.pointerEvents)||""),this.hasProjected&&!dX(this.latestValues)&&(b.transform=e?e({},""):"none",this.hasProjected=!1),b}let g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=function(a,b,c){let d="",e=a.x.translate/b.x,f=a.y.translate/b.y,g=(null==c?void 0:c.z)||0;if((e||f||g)&&(d=`translate3d(${e}px, ${f}px, ${g}px) `),(1!==b.x||1!==b.y)&&(d+=`scale(${1/b.x}, ${1/b.y}) `),c){let{transformPerspective:a,rotate:b,rotateX:e,rotateY:f,skewX:g,skewY:h}=c;a&&(d=`perspective(${a}px) ${d}`),b&&(d+=`rotate(${b}deg) `),e&&(d+=`rotateX(${e}deg) `),f&&(d+=`rotateY(${f}deg) `),g&&(d+=`skewX(${g}deg) `),h&&(d+=`skewY(${h}deg) `)}let h=a.x.scale*b.x,i=a.y.scale*b.y;return(1!==h||1!==i)&&(d+=`scale(${h}, ${i})`),d||"none"}(this.projectionDeltaWithTransform,this.treeScale,g),e&&(d.transform=e(g,d.transform));let{x:h,y:i}=this.projectionDelta;for(let a in d.transformOrigin=`${100*h.origin}% ${100*i.origin}% 0`,f.animationValues?d.opacity=f===this?null!=(c=null!=(b=g.opacity)?b:this.latestValues.opacity)?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=f===this?void 0!==g.opacity?g.opacity:"":void 0!==g.opacityExit?g.opacityExit:0,eh){if(void 0===g[a])continue;let{correct:b,applyTo:c}=eh[a],e="none"===d.transform?g[a]:b(g[a],f);if(c){let a=c.length;for(let b=0;b<a;b++)d[c[b]]=e}else d[a]=e}return this.options.layoutId&&(d.pointerEvents=f===this?ep(null==a?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var b;return null==(b=a.currentAnimation)?void 0:b.stop()}),this.root.nodes.forEach(e$),this.root.sharedNodes.clear()}}}function eV(a){a.updateLayout()}function eW(a){var b;let c=(null==(b=a.resumeFrom)?void 0:b.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&c&&a.hasListeners("didUpdate")){let{layoutBox:b,measuredBox:d}=a.layout,{animationType:e}=a.options,f=c.source!==a.layout.source;"size"===e?dT(a=>{let d=f?c.measuredBox[a]:c.layoutBox[a],e=dF(d);d.min=b[a].min,d.max=d.min+e}):fd(e,c.layoutBox,b)&&dT(d=>{let e=f?c.measuredBox[d]:c.layoutBox[d],g=dF(b[d]);e.max=e.min+g,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[d].max=a.relativeTarget[d].min+g)});let g=dQ();dH(g,b,c.layoutBox);let h=dQ();f?dH(h,a.applyTransform(d,!0),c.measuredBox):dH(h,b,c.layoutBox);let i=!eH(g),j=!1;if(!a.resumeFrom){let d=a.getClosestProjectingParent();if(d&&!d.resumeFrom){let{snapshot:e,layout:f}=d;if(e&&f){let g=dS();dK(g,c.layoutBox,e.layoutBox);let h=dS();dK(h,b,f.layoutBox),eK(g,h)||(j=!0),d.options.layoutRoot&&(a.relativeTarget=h,a.relativeTargetOrigin=g,a.relativeParent=d)}}}a.notifyListeners("didUpdate",{layout:b,snapshot:c,delta:h,layoutDelta:g,hasLayoutChanged:i,hasRelativeTargetChanged:j})}else if(a.isLead()){let{onExitComplete:b}=a.options;b&&b()}a.options.transition=void 0}function eX(a){eP&&eO.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function eY(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function eZ(a){a.clearSnapshot()}function e$(a){a.clearMeasurements()}function e_(a){a.isLayoutDirty=!1}function e0(a){let{visualElement:b}=a.options;b&&b.getProps().onBeforeLayoutMeasure&&b.notify("BeforeLayoutMeasure"),a.resetTransform()}function e1(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function e2(a){a.resolveTargetDelta()}function e3(a){a.calcProjection()}function e4(a){a.resetSkewAndRotation()}function e5(a){a.removeLeadSnapshot()}function e6(a,b,c){a.translate=cE(b.translate,0,c),a.scale=cE(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function e7(a,b,c,d){a.min=cE(b.min,c.min,d),a.max=cE(b.max,c.max,d)}function e8(a){return a.animationValues&&void 0!==a.animationValues.opacityExit}let e9={duration:.45,ease:[.4,0,.1,1]},fa=a=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),fb=fa("applewebkit/")&&!fa("chrome/")?Math.round:a0;function fc(a){a.min=fb(a.min),a.max=fb(a.max)}function fd(a,b,c){return"position"===a||"preserve-aspect"===a&&!(.2>=Math.abs(eL(b)-eL(c)))}function fe(a){var b;return a!==a.root&&(null==(b=a.scroll)?void 0:b.wasRoot)}let ff=eU({attachResizeListener:(a,b)=>dv(a,"resize",b),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fg={current:void 0},fh=eU({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!fg.current){let a=new ff({});a.mount(window),a.setOptions({layoutScroll:!0}),fg.current=a}return fg.current},resetTransform:(a,b)=>{a.style.transform=void 0!==b?b:"none"},checkIsScrollRoot:a=>"fixed"===window.getComputedStyle(a).position});function fi(a,b,c){let{props:d}=a;a.animationState&&d.whileHover&&a.animationState.setActive("whileHover","Start"===c);let e=d["onHover"+c];e&&a8.postRender(()=>e(b,dw(b)))}class fj extends dr{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=aS(a,c),g=aT(a=>{let{target:c}=a,d=b(a);if("function"!=typeof d||!c)return;let f=aT(a=>{d(a),c.removeEventListener("pointerleave",f)});c.addEventListener("pointerleave",f,e)});return d.forEach(a=>{a.addEventListener("pointerenter",g,e)}),f}(a,a=>(fi(this.node,a,"Start"),a=>fi(this.node,a,"End"))))}unmount(){}}class fk extends dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch(b){a=!0}a&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cM(dv(this.node.current,"focus",()=>this.onFocus()),dv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fl(a,b,c){let{props:d}=a;a.animationState&&d.whileTap&&a.animationState.setActive("whileTap","Start"===c);let e=d["onTap"+("End"===c?"":c)];e&&a8.postRender(()=>e(b,dw(b)))}class fm extends dr{mount(){let{current:a}=this.node;a&&(this.unmount=function(a,b,c={}){let[d,e,f]=aS(a,c),g=a=>{let d=a.currentTarget;if(!a$(a)||aX.has(d))return;aX.add(d);let f=b(a),g=(a,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",i),a$(a)&&aX.has(d)&&(aX.delete(d),"function"==typeof f&&f(a,{success:b}))},h=a=>{g(a,c.useGlobalTarget||aU(d,a.target))},i=a=>{g(a,!1)};window.addEventListener("pointerup",h,e),window.addEventListener("pointercancel",i,e)};return d.forEach(a=>{aW.has(a.tagName)||-1!==a.tabIndex||null!==a.getAttribute("tabindex")||(a.tabIndex=0),(c.useGlobalTarget?window:a).addEventListener("pointerdown",g,e),a.addEventListener("focus",a=>((a,b)=>{let c=a.currentTarget;if(!c)return;let d=aY(()=>{if(aX.has(c))return;aZ(c,"down");let a=aY(()=>{aZ(c,"up")});c.addEventListener("keyup",a,b),c.addEventListener("blur",()=>aZ(c,"cancel"),b)});c.addEventListener("keydown",d,b),c.addEventListener("blur",()=>c.removeEventListener("keydown",d),b)})(a,e),e)}),f}(a,a=>(fl(this.node,a,"Start"),(a,{success:b})=>fl(this.node,a,b?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let fn=new WeakMap,fo=new WeakMap,fp=a=>{let b=fn.get(a.target);b&&b(a)},fq=a=>{a.forEach(fp)},fr={some:0,all:1};class fs extends dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:a={}}=this.node.getProps(),{root:b,margin:c,amount:d="some",once:e}=a,f={root:b?b.current:void 0,rootMargin:c,threshold:"number"==typeof d?d:fr[d]};return function(a,b,c){let d=function({root:a,...b}){let c=a||document;fo.has(c)||fo.set(c,{});let d=fo.get(c),e=JSON.stringify(b);return d[e]||(d[e]=new IntersectionObserver(fq,{root:a,...b})),d[e]}(b);return fn.set(a,c),d.observe(a),()=>{fn.delete(a),d.unobserve(a)}}(this.node.current,f,a=>{let{isIntersecting:b}=a;if(this.isInView===b||(this.isInView=b,e&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);let{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=b?c:d;f&&f(a)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:a,prevProps:b}=this.node;["amount","margin","root"].some(function({viewport:a={}},{viewport:b={}}={}){return c=>a[c]!==b[c]}(a,b))&&this.startObserver()}unmount(){}}let ft=(0,m.createContext)({strict:!1}),fu=(0,m.createContext)({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"}),fv=(0,m.createContext)({});function fw(a){return at(a.animate)||aB.some(b=>aw(a[b]))}function fx(a){return!!(fw(a)||a.variants)}function fy(a){return Array.isArray(a)?a.join(" "):a}let fz="undefined"!=typeof window,fA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fB={};for(let a in fA)fB[a]={isEnabled:b=>fA[a].some(a=>!!b[a])};let fC=Symbol.for("motionComponentSymbol"),fD=fz?m.useLayoutEffect:m.useEffect,fE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fF(a){if("string"!=typeof a||a.includes("-"));else if(fE.indexOf(a)>-1||/[A-Z]/u.test(a))return!0;return!1}let fG=a=>(b,c)=>{let d=(0,m.useContext)(fv),e=(0,m.useContext)(eb),f=()=>(function({scrapeMotionValuesFromProps:a,createRenderState:b,onUpdate:c},d,e,f){let g={latestValues:function(a,b,c,d){let e={},f=d(a,{});for(let a in f)e[a]=ep(f[a]);let{initial:g,animate:h}=a,i=fw(a),j=fx(a);b&&j&&!i&&!1!==a.inherit&&(void 0===g&&(g=b.initial),void 0===h&&(h=b.animate));let k=!!c&&!1===c.initial,l=(k=k||!1===g)?h:g;if(l&&"boolean"!=typeof l&&!at(l)){let b=Array.isArray(l)?l:[l];for(let c=0;c<b.length;c++){let d=ay(a,b[c]);if(d){let{transitionEnd:a,transition:b,...c}=d;for(let a in c){let b=c[a];if(Array.isArray(b)){let a=k?b.length-1:0;b=b[a]}null!==b&&(e[a]=b)}for(let b in a)e[b]=a[b]}}}return e}(d,e,f,a),renderState:b()};return c&&(g.onMount=a=>c({props:d,current:a,...g}),g.onUpdate=a=>c(a)),g})(a,b,d,e);return c?f():function(a){let b=(0,m.useRef)(null);return null===b.current&&(b.current=a()),b.current}(f)},fH=(a,b)=>b&&"number"==typeof a?b.transform(a):a,fI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fJ=a1.length;function fK(a,b,c){let{style:d,vars:e,transformOrigin:f}=a,g=!1,h=!1;for(let a in b){let c=b[a];if(a2.has(a)){g=!0;continue}if(cr(a)){e[a]=c;continue}{let b=fH(c,b8[a]);a.startsWith("origin")?(h=!0,f[a]=b):d[a]=b}}if(!b.transform&&(g||c?d.transform=function(a,b,c){let d="",e=!0;for(let f=0;f<fJ;f++){let g=a1[f],h=a[g];if(void 0===h)continue;let i=!0;if(!(i="number"==typeof h?h===+!!g.startsWith("scale"):0===parseFloat(h))||c){let a=fH(h,b8[g]);if(!i){e=!1;let b=fI[g]||g;d+=`${b}(${a}) `}c&&(b[g]=a)}}return d=d.trim(),c?d=c(b,e?"":d):e&&(d="none"),d}(b,a.transform,c):d.transform&&(d.transform="none")),h){let{originX:a="50%",originY:b="50%",originZ:c=0}=f;d.transformOrigin=`${a} ${b} ${c}`}}let fL={offset:"stroke-dashoffset",array:"stroke-dasharray"},fM={offset:"strokeDashoffset",array:"strokeDasharray"};function fN(a,b,c){return"string"==typeof a?a:bQ.transform(b+c*a)}function fO(a,{attrX:b,attrY:c,attrScale:d,originX:e,originY:f,pathLength:g,pathSpacing:h=1,pathOffset:i=0,...j},k,l){if(fK(a,j,l),k){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};let{attrs:m,style:n,dimensions:o}=a;m.transform&&(o&&(n.transform=m.transform),delete m.transform),o&&(void 0!==e||void 0!==f||n.transform)&&(n.transformOrigin=function(a,b,c){let d=fN(b,a.x,a.width),e=fN(c,a.y,a.height);return`${d} ${e}`}(o,void 0!==e?e:.5,void 0!==f?f:.5)),void 0!==b&&(m.x=b),void 0!==c&&(m.y=c),void 0!==d&&(m.scale=d),void 0!==g&&function(a,b,c=1,d=0,e=!0){a.pathLength=1;let f=e?fL:fM;a[f.offset]=bQ.transform(-d);let g=bQ.transform(b),h=bQ.transform(c);a[f.array]=`${g} ${h}`}(m,g,h,i,!1)}let fP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),fQ=()=>({...fP(),attrs:{}}),fR=a=>"string"==typeof a&&"svg"===a.toLowerCase();function fS(a,{style:b,vars:c},d,e){for(let f in Object.assign(a.style,b,e&&e.getProjectionStyles(d)),c)a.style.setProperty(f,c[f])}let fT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fU(a,b,c,d){for(let c in fS(a,b,void 0,d),b.attrs)a.setAttribute(fT.has(c)?c:bm(c),b.attrs[c])}function fV(a,{layout:b,layoutId:c}){return a2.has(a)||a.startsWith("origin")||(b||void 0!==c)&&(!!eh[a]||"opacity"===a)}function fW(a,b,c){var d;let{style:e}=a,f={};for(let g in e)(bk(e[g])||b.style&&bk(b.style[g])||fV(g,a)||(null==(d=null==c?void 0:c.getValue(g))?void 0:d.liveStyle)!==void 0)&&(f[g]=e[g]);return f}function fX(a,b,c){let d=fW(a,b,c);for(let c in a)(bk(a[c])||bk(b[c]))&&(d[-1!==a1.indexOf(c)?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c]=a[c]);return d}let fY=["x","y","width","height","cx","cy","r"],fZ={useVisualState:fG({scrapeMotionValuesFromProps:fX,createRenderState:fQ,onUpdate:({props:a,prevProps:b,current:c,renderState:d,latestValues:e})=>{if(!c)return;let f=!!a.drag;if(!f){for(let a in e)if(a2.has(a)){f=!0;break}}if(!f)return;let g=!b;if(b)for(let c=0;c<fY.length;c++){let d=fY[c];a[d]!==b[d]&&(g=!0)}g&&a8.read(()=>{!function(a,b){try{b.dimensions="function"==typeof a.getBBox?a.getBBox():a.getBoundingClientRect()}catch(a){b.dimensions={x:0,y:0,width:0,height:0}}}(c,d),a8.render(()=>{fO(d,e,fR(c.tagName),a.transformTemplate),fU(c,d)})})}})},f$={useVisualState:fG({scrapeMotionValuesFromProps:fW,createRenderState:fP})};function f_(a,b,c){for(let d in b)bk(b[d])||fV(d,c)||(a[d]=b[d])}let f0=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function f1(a){return a.startsWith("while")||a.startsWith("drag")&&"draggable"!==a||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||f0.has(a)}let f2=a=>!f1(a);try{!function(a){a&&(f2=b=>b.startsWith("on")?!f1(b):a(b))}(require("@emotion/is-prop-valid").default)}catch(a){}let f3={current:null},f4={current:!1},f5=[...cx,bV,b2],f6=new WeakMap,f7=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class f8{scrapeMotionValuesFromProps(a,b,c){return{}}constructor({parent:a,props:b,presenceContext:c,reducedMotionConfig:d,blockInitialAnimation:e,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=co,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let a=bd.now();this.renderScheduledAt<a&&(this.renderScheduledAt=a,a8.render(this.render,!1,!0))};let{latestValues:h,renderState:i,onUpdate:j}=f;this.onUpdate=j,this.latestValues=h,this.baseTarget={...h},this.initialValues=b.initial?{...h}:{},this.renderState=i,this.parent=a,this.props=b,this.presenceContext=c,this.depth=a?a.depth+1:0,this.reducedMotionConfig=d,this.options=g,this.blockInitialAnimation=!!e,this.isControllingVariants=fw(b),this.isVariantNode=fx(b),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);let{willChange:k,...l}=this.scrapeMotionValuesFromProps(b,{},this);for(let a in l){let b=l[a];void 0!==h[a]&&bk(b)&&b.set(h[a],!1)}}mount(a){this.current=a,f6.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,b)=>this.bindToMotionValue(b,a)),f4.current||function(){if(f4.current=!0,fz)if(window.matchMedia){let a=window.matchMedia("(prefers-reduced-motion)"),b=()=>f3.current=a.matches;a.addListener(b),b()}else f3.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||f3.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let a in f6.delete(this.current),this.projection&&this.projection.unmount(),a9(this.notifyUpdate),a9(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[a].clear();for(let a in this.features){let b=this.features[a];b&&(b.unmount(),b.isMounted=!1)}this.current=null}bindToMotionValue(a,b){let c;this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();let d=a2.has(a),e=b.on("change",b=>{this.latestValues[a]=b,this.props.onUpdate&&a8.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0)}),f=b.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,a,b)),this.valueSubscriptions.set(a,()=>{e(),f(),c&&c(),b.owner&&b.stop()})}sortNodePosition(a){return this.current&&this.sortInstanceNodePosition&&this.type===a.type?this.sortInstanceNodePosition(this.current,a.current):0}updateFeatures(){let a="animation";for(a in fB){let b=fB[a];if(!b)continue;let{isEnabled:c,Feature:d}=b;if(!this.features[a]&&d&&c(this.props)&&(this.features[a]=new d(this)),this.features[a]){let b=this.features[a];b.isMounted?b.update():(b.mount(),b.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dS()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,b){this.latestValues[a]=b}update(a,b){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=b;for(let b=0;b<f7.length;b++){let c=f7[b];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);let d=a["on"+c];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=function(a,b,c){for(let d in b){let e=b[d],f=c[d];if(bk(e))a.addValue(d,e);else if(bk(f))a.addValue(d,bj(e,{owner:a}));else if(f!==e)if(a.hasValue(d)){let b=a.getValue(d);!0===b.liveStyle?b.jump(e):b.hasAnimated||b.set(e)}else{let b=a.getStaticValue(d);a.addValue(d,bj(void 0!==b?b:e,{owner:a}))}}for(let d in c)void 0===b[d]&&a.removeValue(d);return b}(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){let b=this.getClosestVariantNode();if(b)return b.variantChildren&&b.variantChildren.add(a),()=>b.variantChildren.delete(a)}addValue(a,b){let c=this.values.get(a);b!==c&&(c&&this.removeValue(a),this.bindToMotionValue(a,b),this.values.set(a,b),this.latestValues[a]=b.get())}removeValue(a){this.values.delete(a);let b=this.valueSubscriptions.get(a);b&&(b(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,b){if(this.props.values&&this.props.values[a])return this.props.values[a];let c=this.values.get(a);return void 0===c&&void 0!==b&&(c=bj(null===b?void 0:b,{owner:this}),this.addValue(a,c)),c}readValue(a,b){var c;let d=void 0===this.latestValues[a]&&this.current?null!=(c=this.getBaseTargetFromProps(this.props,a))?c:this.readValueFromInstance(this.current,a,this.options):this.latestValues[a];if(null!=d){if("string"==typeof d&&(cp(d)||bA(d)))d=parseFloat(d);else{let c;c=d,!f5.find(cw(c))&&b2.test(b)&&(d=cb(a,b))}this.setBaseTarget(a,bk(d)?d.get():d)}return bk(d)?d.get():d}setBaseTarget(a,b){this.baseTarget[a]=b}getBaseTarget(a){var b;let c,{initial:d}=this.props;if("string"==typeof d||"object"==typeof d){let e=ay(this.props,d,null==(b=this.presenceContext)?void 0:b.custom);e&&(c=e[a])}if(d&&void 0!==c)return c;let e=this.getBaseTargetFromProps(this.props,a);return void 0===e||bk(e)?void 0!==this.initialValues[a]&&void 0===c?void 0:this.baseTarget[a]:e}on(a,b){return this.events[a]||(this.events[a]=new bg),this.events[a].add(b)}notify(a,...b){this.events[a]&&this.events[a].notify(...b)}}class f9 extends f8{constructor(){super(...arguments),this.KeyframeResolver=cz}sortInstanceNodePosition(a,b){return 2&a.compareDocumentPosition(b)?1:-1}getBaseTargetFromProps(a,b){return a.style?a.style[b]:void 0}removeValueFromRenderState(a,{vars:b,style:c}){delete b[a],delete c[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:a}=this.props;bk(a)&&(this.childSubscription=a.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class ga extends f9{constructor(){super(...arguments),this.type="html",this.renderInstance=fS}readValueFromInstance(a,b){if(a2.has(b)){let a=ca(b);return a&&a.default||0}{let c=window.getComputedStyle(a),d=(cr(b)?c.getPropertyValue(b):c[b])||0;return"string"==typeof d?d.trim():d}}measureInstanceViewportBox(a,{transformPagePoint:b}){return d3(a,b)}build(a,b,c){fK(a,b,c.transformTemplate)}scrapeMotionValuesFromProps(a,b,c){return fW(a,b,c)}}class gb extends f9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dS}getBaseTargetFromProps(a,b){return a[b]}readValueFromInstance(a,b){if(a2.has(b)){let a=ca(b);return a&&a.default||0}return b=fT.has(b)?b:bm(b),a.getAttribute(b)}scrapeMotionValuesFromProps(a,b,c){return fX(a,b,c)}build(a,b,c){fO(a,b,this.isSVGTag,c.transformTemplate)}renderInstance(a,b,c,d){fU(a,b,c,d)}mount(a){this.isSVGTag=fR(a.tagName),super.mount(a)}}let gc=function(a){if("undefined"==typeof Proxy)return a;let b=new Map;return new Proxy((...b)=>a(...b),{get:(c,d)=>"create"===d?a:(b.has(d)||b.set(d,a(d)),b.get(d))})}((e={animation:{Feature:ds},exit:{Feature:du},inView:{Feature:fs},tap:{Feature:fm},focus:{Feature:fk},hover:{Feature:fj},pan:{Feature:ea},drag:{Feature:d8,ProjectionNode:fh,MeasureLayout:el},layout:{ProjectionNode:fh,MeasureLayout:el}},f=(a,b)=>fF(a)?new gb(b):new ga(b,{allowProjection:a!==m.Fragment}),function(a,{forwardMotionProps:b}={forwardMotionProps:!1}){return function({preloadedFeatures:a,createVisualElement:b,useRender:c,useVisualState:d,Component:e}){var f,g;function h(a,f){var g;let h,i={...(0,m.useContext)(fu),...a,layoutId:function({layoutId:a}){let b=(0,m.useContext)(ec).id;return b&&void 0!==a?b+"-"+a:a}(a)},{isStatic:j}=i,k=function(a){let{initial:b,animate:c}=function(a,b){if(fw(a)){let{initial:b,animate:c}=a;return{initial:!1===b||aw(b)?b:void 0,animate:aw(c)?c:void 0}}return!1!==a.inherit?b:{}}(a,(0,m.useContext)(fv));return(0,m.useMemo)(()=>({initial:b,animate:c}),[fy(b),fy(c)])}(a),n=d(a,j);if(!j&&fz){(0,m.useContext)(ft).strict;let a=function(a){let{drag:b,layout:c}=fB;if(!b&&!c)return{};let d={...b,...c};return{MeasureLayout:(null==b?void 0:b.isEnabled(a))||(null==c?void 0:c.isEnabled(a))?d.MeasureLayout:void 0,ProjectionNode:d.ProjectionNode}}(i);h=a.MeasureLayout,k.visualElement=function(a,b,c,d,e){var f,g;let{visualElement:h}=(0,m.useContext)(fv),i=(0,m.useContext)(ft),j=(0,m.useContext)(eb),k=(0,m.useContext)(fu).reducedMotion,l=(0,m.useRef)(null);d=d||i.renderer,!l.current&&d&&(l.current=d(a,{visualState:b,parent:h,props:c,presenceContext:j,blockInitialAnimation:!!j&&!1===j.initial,reducedMotionConfig:k}));let n=l.current,o=(0,m.useContext)(ed);n&&!n.projection&&e&&("html"===n.type||"svg"===n.type)&&function(a,b,c,d){let{layoutId:e,layout:f,drag:g,dragConstraints:h,layoutScroll:i,layoutRoot:j}=b;a.projection=new c(a.latestValues,b["data-framer-portal-id"]?void 0:function a(b){if(b)return!1!==b.options.allowProjection?b.projection:a(b.parent)}(a.parent)),a.projection.setOptions({layoutId:e,layout:f,alwaysMeasureLayout:!!g||h&&dE(h),visualElement:a,animationType:"string"==typeof f?f:"both",initialPromotionConfig:d,layoutScroll:i,layoutRoot:j})}(l.current,c,e,o);let p=(0,m.useRef)(!1);(0,m.useInsertionEffect)(()=>{n&&p.current&&n.update(c,j)});let q=c[bn],r=(0,m.useRef)(!!q&&!(null==(f=window.MotionHandoffIsComplete)?void 0:f.call(window,q))&&(null==(g=window.MotionHasOptimisedAnimation)?void 0:g.call(window,q)));return fD(()=>{n&&(p.current=!0,window.MotionIsMounted=!0,n.updateFeatures(),ei.render(n.render),r.current&&n.animationState&&n.animationState.animateChanges())}),(0,m.useEffect)(()=>{n&&(!r.current&&n.animationState&&n.animationState.animateChanges(),r.current&&(queueMicrotask(()=>{var a;null==(a=window.MotionHandoffMarkAsComplete)||a.call(window,q)}),r.current=!1))}),n}(e,n,i,b,a.ProjectionNode)}return(0,l.jsxs)(fv.Provider,{value:k,children:[h&&k.visualElement?(0,l.jsx)(h,{visualElement:k.visualElement,...i}):null,c(e,a,(g=k.visualElement,(0,m.useCallback)(a=>{a&&n.onMount&&n.onMount(a),g&&(a?g.mount(a):g.unmount()),f&&("function"==typeof f?f(a):dE(f)&&(f.current=a))},[g])),n,j,k.visualElement)]})}a&&function(a){for(let b in a)fB[b]={...fB[b],...a[b]}}(a),h.displayName=`motion.${"string"==typeof e?e:`create(${null!=(g=null!=(f=e.displayName)?f:e.name)?g:""})`}`;let i=(0,m.forwardRef)(h);return i[fC]=e,i}({...fF(a)?fZ:f$,preloadedFeatures:e,useRender:function(a=!1){return(b,c,d,{latestValues:e},f)=>{let g=(fF(b)?function(a,b,c,d){let e=(0,m.useMemo)(()=>{let c=fQ();return fO(c,b,fR(d),a.transformTemplate),{...c.attrs,style:{...c.style}}},[b]);if(a.style){let b={};f_(b,a.style,a),e.style={...b,...e.style}}return e}:function(a,b){let c={},d=function(a,b){let c=a.style||{},d={};return f_(d,c,a),Object.assign(d,function({transformTemplate:a},b){return(0,m.useMemo)(()=>{let c=fP();return fK(c,b,a),Object.assign({},c.vars,c.style)},[b])}(a,b)),d}(a,b);return a.drag&&!1!==a.dragListener&&(c.draggable=!1,d.userSelect=d.WebkitUserSelect=d.WebkitTouchCallout="none",d.touchAction=!0===a.drag?"none":`pan-${"x"===a.drag?"y":"x"}`),void 0===a.tabIndex&&(a.onTap||a.onTapStart||a.whileTap)&&(c.tabIndex=0),c.style=d,c})(c,e,f,b),h=function(a,b,c){let d={};for(let e in a)("values"!==e||"object"!=typeof a.values)&&(f2(e)||!0===c&&f1(e)||!b&&!f1(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(c,"string"==typeof b,a),i=b!==m.Fragment?{...h,...g,ref:d}:{},{children:j}=c,k=(0,m.useMemo)(()=>bk(j)?j.get():j,[j]);return(0,m.createElement)(b,{...i,children:k})}}(b),createVisualElement:f,Component:a})})),gd=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}),ge=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}),gf=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}),gg=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}),gh=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}),gi=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}),gj=[{id:"notebook",name:"Notebook",icon:gf,href:"/notebook"},{id:"marathon",name:"Marathon",icon:gg,href:"/marathon"},{id:"yonder",name:"Yonder",icon:gh,href:"/yonder"},{id:"junction",name:"Junction",icon:gi,href:"/junction"}];function gk({isCollapsed:a}){return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:ap("px-2",a?"sr-only":""),children:(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Apps"})}),(0,l.jsx)("nav",{className:"grid gap-1",children:gj.map(b=>(0,l.jsxs)("a",{href:b.href,className:ap("flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",a?"justify-center":""),children:[(0,l.jsx)(b.icon,{className:"h-5 w-5"}),!a&&(0,l.jsx)("span",{children:b.name})]},b.id))})]})}let gl=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),gm=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}),gn=[{id:"1",title:"Research on AI Memory Systems",timestamp:"2 hours ago",isActive:!0},{id:"2",title:"Project Planning",timestamp:"Yesterday",isActive:!1},{id:"3",title:"Meeting Notes",timestamp:"2 days ago",isActive:!1}];function go({isCollapsed:a}){let[b]=(0,m.useState)(gn);return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:ap("flex items-center justify-between px-2",a?"sr-only":""),children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Sessions"}),(0,l.jsx)("button",{className:"rounded-lg p-1 hover:bg-accent",children:(0,l.jsx)(gl,{className:"h-5 w-5"})})]}),(0,l.jsx)("nav",{className:"grid gap-1",children:b.map(b=>(0,l.jsxs)("a",{href:`/chat/${b.id}`,className:ap("flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 transition-all hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-50",b.isActive&&"bg-accent text-accent-foreground",a?"justify-center":""),children:[(0,l.jsx)(gm,{className:"h-5 w-5"}),!a&&(0,l.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,l.jsx)("span",{className:"text-sm",children:b.title}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:b.timestamp})]})]},b.id))})]})}function gp({onViewChange:a,currentView:b}){let[c,d]=(0,m.useState)(!1);return(0,l.jsxs)(gc.div,{initial:!1,animate:{width:c?"4rem":"20rem"},className:"relative flex h-full flex-col border-r bg-card",children:[(0,l.jsx)("button",{onClick:()=>d(!c),className:"absolute -right-4 top-8 z-50 flex h-8 w-8 items-center justify-center rounded-full border bg-background shadow-sm",children:c?(0,l.jsx)(gd,{className:"h-4 w-4"}):(0,l.jsx)(ge,{className:"h-4 w-4"})}),(0,l.jsxs)("div",{className:"flex-1 space-y-4 overflow-auto p-4",children:[!c&&a&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("button",{onClick:()=>a("dashboard"),className:`w-full text-left p-2 rounded-lg transition-colors ${"dashboard"===b?"bg-primary text-primary-foreground":"hover:bg-accent"}`,children:"Dashboard"}),(0,l.jsx)("button",{onClick:()=>a("chat"),className:`w-full text-left p-2 rounded-lg transition-colors ${"chat"===b?"bg-primary text-primary-foreground":"hover:bg-accent"}`,children:"Chat with Mere"})]}),(0,l.jsx)(gk,{isCollapsed:c}),(0,l.jsx)(go,{isCollapsed:c})]})]})}let gq=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}),gr=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}),gs=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}),gt=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}),gu=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}),gv=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}),gw=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}),gx=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}),gy=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),gz=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}),gA=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});function gB(a){"function"==typeof queueMicrotask?queueMicrotask(a):Promise.resolve().then(a).catch(a=>setTimeout(()=>{throw a}))}function gC(){let a=[],b={addEventListener:(a,c,d,e)=>(a.addEventListener(c,d,e),b.add(()=>a.removeEventListener(c,d,e))),requestAnimationFrame(...a){let c=requestAnimationFrame(...a);return b.add(()=>cancelAnimationFrame(c))},nextFrame:(...a)=>b.requestAnimationFrame(()=>b.requestAnimationFrame(...a)),setTimeout(...a){let c=setTimeout(...a);return b.add(()=>clearTimeout(c))},microTask(...a){let c={current:!0};return gB(()=>{c.current&&a[0]()}),b.add(()=>{c.current=!1})},style(a,b,c){let d=a.style.getPropertyValue(b);return Object.assign(a.style,{[b]:c}),this.add(()=>{Object.assign(a.style,{[b]:d})})},group(a){let b=gC();return a(b),this.add(()=>b.dispose())},add:b=>(a.includes(b)||a.push(b),()=>{let c=a.indexOf(b);if(c>=0)for(let b of a.splice(c,1))b()}),dispose(){for(let b of a.splice(0))b()}};return b}function gD(){let[a]=(0,m.useState)(gC);return a}var gE=Object.defineProperty,gF=(a,b,c)=>(((a,b,c)=>b in a?gE(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),c);class gG{constructor(){gF(this,"current",this.detect()),gF(this,"handoffState","pending"),gF(this,"currentId",0)}set(a){this.current!==a&&(this.handoffState="pending",this.currentId=0,this.current=a)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"server"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}let gH=new gG,gI=(a,b)=>{gH.isServer?(0,m.useEffect)(a,b):(0,m.useLayoutEffect)(a,b)};function gJ(a){let b=(0,m.useRef)(a);return gI(()=>{b.current=a},[a]),b}let gK=function(a){let b=gJ(a);return m.useCallback((...a)=>b.current(...a),[b])};function gL(){let a=(0,m.useRef)(!1);return gI(()=>(a.current=!0,()=>{a.current=!1}),[]),a}function gM(){let a,b=(a="undefined"==typeof document,"useSyncExternalStore"in n&&(0,n.useSyncExternalStore)(()=>()=>{},()=>!1,()=>!a)),[c,d]=m.useState(gH.isHandoffComplete);return c&&!1===gH.isHandoffComplete&&d(!1),m.useEffect(()=>{!0!==c&&d(!0)},[c]),m.useEffect(()=>gH.handoff(),[]),!b&&c}let gN=Symbol();function gO(...a){let b=(0,m.useRef)(a),c=gK(a=>{for(let c of b.current)null!=c&&("function"==typeof c?c(a):c.current=a)});return a.every(a=>null==a||(null==a?void 0:a[gN]))?void 0:c}"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(g=null==process?void 0:process.env)?void 0:g.NODE_ENV)==="test"&&void 0===(null==(h=null==Element?void 0:Element.prototype)?void 0:h.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var gP=(a=>(a[a.None=0]="None",a[a.Closed=1]="Closed",a[a.Enter=2]="Enter",a[a.Leave=4]="Leave",a))(gP||{});let gQ=(0,m.createContext)(null);gQ.displayName="OpenClosedContext";var gR=(a=>(a[a.Open=1]="Open",a[a.Closed=2]="Closed",a[a.Closing=4]="Closing",a[a.Opening=8]="Opening",a))(gR||{});function gS(){return(0,m.useContext)(gQ)}function gT({value:a,children:b}){return m.createElement(gQ.Provider,{value:a},b)}function gU({children:a}){return m.createElement(gQ.Provider,{value:null},a)}function gV(...a){return Array.from(new Set(a.flatMap(a=>"string"==typeof a?a.split(" "):[]))).filter(Boolean).join(" ")}function gW(a,b,...c){if(a in b){let d=b[a];return"function"==typeof d?d(...c):d}let d=Error(`Tried to handle "${a}" but there is no handler defined. Only defined handlers are: ${Object.keys(b).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,gW),d}var gX=(a=>(a[a.None=0]="None",a[a.RenderStrategy=1]="RenderStrategy",a[a.Static=2]="Static",a))(gX||{}),gY=(a=>(a[a.Unmount=0]="Unmount",a[a.Hidden=1]="Hidden",a))(gY||{});function gZ(){let a,b,c=(a=(0,m.useRef)([]),b=(0,m.useCallback)(b=>{for(let c of a.current)null!=c&&("function"==typeof c?c(b):c.current=b)},[]),(...c)=>{if(!c.every(a=>null==a))return a.current=c,b});return(0,m.useCallback)(a=>(function({ourProps:a,theirProps:b,slot:c,defaultTag:d,features:e,visible:f=!0,name:g,mergeRefs:h}){h=null!=h?h:g_;let i=g0(b,a);if(f)return g$(i,c,d,g,h);let j=null!=e?e:0;if(2&j){let{static:a=!1,...b}=i;if(a)return g$(b,c,d,g,h)}if(1&j){let{unmount:a=!0,...b}=i;return gW(+!a,{0:()=>null,1:()=>g$({...b,hidden:!0,style:{display:"none"}},c,d,g,h)})}return g$(i,c,d,g,h)})({mergeRefs:c,...a}),[c])}function g$(a,b={},c,d,e){let{as:f=c,children:g,refName:h="ref",...i}=g3(a,["unmount","static"]),j=void 0!==a.ref?{[h]:a.ref}:{},k="function"==typeof g?g(b):g;"className"in i&&i.className&&"function"==typeof i.className&&(i.className=i.className(b)),i["aria-labelledby"]&&i["aria-labelledby"]===i.id&&(i["aria-labelledby"]=void 0);let l={};if(b){let a=!1,c=[];for(let[d,e]of Object.entries(b))"boolean"==typeof e&&(a=!0),!0===e&&c.push(d.replace(/([A-Z])/g,a=>`-${a.toLowerCase()}`));if(a)for(let a of(l["data-headlessui-state"]=c.join(" "),c))l[`data-${a}`]=""}if(f===m.Fragment&&(Object.keys(g2(i)).length>0||Object.keys(g2(l)).length>0))if(!(0,m.isValidElement)(k)||Array.isArray(k)&&k.length>1){if(Object.keys(g2(i)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${d} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(g2(i)).concat(Object.keys(g2(l))).map(a=>`  - ${a}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(a=>`  - ${a}`).join(`
`)].join(`
`))}else{var n;let a=k.props,b=null==a?void 0:a.className,c="function"==typeof b?(...a)=>gV(b(...a),i.className):gV(b,i.className),d=g0(k.props,g2(g3(i,["ref"])));for(let a in l)a in d&&delete l[a];return(0,m.cloneElement)(k,Object.assign({},d,l,j,{ref:e((n=k,m.version.split(".")[0]>="19"?n.props.ref:n.ref),j.ref)},c?{className:c}:{}))}return(0,m.createElement)(f,Object.assign({},g3(i,["ref"]),f!==m.Fragment&&j,f!==m.Fragment&&l),k)}function g_(...a){return a.every(a=>null==a)?void 0:b=>{for(let c of a)null!=c&&("function"==typeof c?c(b):c.current=b)}}function g0(...a){if(0===a.length)return{};if(1===a.length)return a[0];let b={},c={};for(let d of a)for(let a in d)a.startsWith("on")&&"function"==typeof d[a]?(null!=c[a]||(c[a]=[]),c[a].push(d[a])):b[a]=d[a];if(b.disabled||b["aria-disabled"])for(let a in c)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(c[a]=[a=>{var b;return null==(b=null==a?void 0:a.preventDefault)?void 0:b.call(a)}]);for(let a in c)Object.assign(b,{[a](b,...d){for(let e of c[a]){if((b instanceof Event||(null==b?void 0:b.nativeEvent)instanceof Event)&&b.defaultPrevented)return;e(b,...d)}}});return b}function g1(a){var b;return Object.assign((0,m.forwardRef)(a),{displayName:null!=(b=a.displayName)?b:a.name})}function g2(a){let b=Object.assign({},a);for(let a in b)void 0===b[a]&&delete b[a];return b}function g3(a,b=[]){let c=Object.assign({},a);for(let a of b)a in c&&delete c[a];return c}function g4(a){var b;return!!(a.enter||a.enterFrom||a.enterTo||a.leave||a.leaveFrom||a.leaveTo)||(null!=(b=a.as)?b:ha)!==m.Fragment||1===m.Children.count(a.children)}let g5=(0,m.createContext)(null);g5.displayName="TransitionContext";var g6=(a=>(a.Visible="visible",a.Hidden="hidden",a))(g6||{});let g7=(0,m.createContext)(null);function g8(a){return"children"in a?g8(a.children):a.current.filter(({el:a})=>null!==a.current).filter(({state:a})=>"visible"===a).length>0}function g9(a,b){let c=gJ(a),d=(0,m.useRef)([]),e=gL(),f=gD(),g=gK((a,b=gY.Hidden)=>{let g=d.current.findIndex(({el:b})=>b===a);-1!==g&&(gW(b,{[gY.Unmount](){d.current.splice(g,1)},[gY.Hidden](){d.current[g].state="hidden"}}),f.microTask(()=>{var a;!g8(d)&&e.current&&(null==(a=c.current)||a.call(c))}))}),h=gK(a=>{let b=d.current.find(({el:b})=>b===a);return b?"visible"!==b.state&&(b.state="visible"):d.current.push({el:a,state:"visible"}),()=>g(a,gY.Unmount)}),i=(0,m.useRef)([]),j=(0,m.useRef)(Promise.resolve()),k=(0,m.useRef)({enter:[],leave:[]}),l=gK((a,c,d)=>{i.current.splice(0),b&&(b.chains.current[c]=b.chains.current[c].filter(([b])=>b!==a)),null==b||b.chains.current[c].push([a,new Promise(a=>{i.current.push(a)})]),null==b||b.chains.current[c].push([a,new Promise(a=>{Promise.all(k.current[c].map(([a,b])=>b)).then(()=>a())})]),"enter"===c?j.current=j.current.then(()=>null==b?void 0:b.wait.current).then(()=>d(c)):d(c)}),n=gK((a,b,c)=>{Promise.all(k.current[b].splice(0).map(([a,b])=>b)).then(()=>{var a;null==(a=i.current.shift())||a()}).then(()=>c(b))});return(0,m.useMemo)(()=>({children:d,register:h,unregister:g,onStart:l,onStop:n,wait:j,chains:k}),[h,g,d,l,n,k,j])}g7.displayName="NestingContext";let ha=m.Fragment,hb=gX.RenderStrategy,hc=g1(function(a,b){let{show:c,appear:d=!1,unmount:e=!0,...f}=a,g=(0,m.useRef)(null),h=gO(...g4(a)?[g,b]:null===b?[]:[b]);gM();let i=gS();if(void 0===c&&null!==i&&(c=(i&gR.Open)===gR.Open),void 0===c)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[j,k]=(0,m.useState)(c?"visible":"hidden"),l=g9(()=>{c||k("hidden")}),[n,o]=(0,m.useState)(!0),p=(0,m.useRef)([c]);gI(()=>{!1!==n&&p.current[p.current.length-1]!==c&&(p.current.push(c),o(!1))},[p,c]);let q=(0,m.useMemo)(()=>({show:c,appear:d,initial:n}),[c,d,n]);gI(()=>{c?k("visible"):g8(l)||null===g.current||k("hidden")},[c,l]);let r={unmount:e},s=gK(()=>{var b;n&&o(!1),null==(b=a.beforeEnter)||b.call(a)}),t=gK(()=>{var b;n&&o(!1),null==(b=a.beforeLeave)||b.call(a)}),u=gZ();return m.createElement(g7.Provider,{value:l},m.createElement(g5.Provider,{value:q},u({ourProps:{...r,as:m.Fragment,children:m.createElement(hd,{ref:h,...r,...f,beforeEnter:s,beforeLeave:t})},theirProps:{},defaultTag:m.Fragment,features:hb,visible:"visible"===j,name:"Transition"})))}),hd=g1(function(a,b){var c,d;let{transition:e=!0,beforeEnter:f,afterEnter:g,beforeLeave:h,afterLeave:i,enter:j,enterFrom:k,enterTo:l,entered:n,leave:o,leaveFrom:p,leaveTo:q,...r}=a,[s,t]=(0,m.useState)(null),u=(0,m.useRef)(null),v=g4(a),w=gO(...v?[u,b,t]:null===b?[]:[b]),x=null==(c=r.unmount)||c?gY.Unmount:gY.Hidden,{show:y,appear:z,initial:A}=function(){let a=(0,m.useContext)(g5);if(null===a)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return a}(),[B,C]=(0,m.useState)(y?"visible":"hidden"),D=function(){let a=(0,m.useContext)(g7);if(null===a)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return a}(),{register:E,unregister:F}=D;gI(()=>E(u),[E,u]),gI(()=>{if(x===gY.Hidden&&u.current)return y&&"visible"!==B?void C("visible"):gW(B,{hidden:()=>F(u),visible:()=>E(u)})},[B,u,E,F,y,x]);let G=gM();gI(()=>{if(v&&G&&"visible"===B&&null===u.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[u,B,G,v]);let H=z&&y&&A,I=(0,m.useRef)(!1),J=g9(()=>{I.current||(C("hidden"),F(u))},D),[,K]=function(a,b,c,d){let[e,f]=(0,m.useState)(c),{hasFlag:g,addFlag:h,removeFlag:i}=function(a=0){let[b,c]=(0,m.useState)(a),d=(0,m.useCallback)(a=>c(a),[b]),e=(0,m.useCallback)(a=>c(b=>b|a),[b]),f=(0,m.useCallback)(a=>(b&a)===a,[b]);return{flags:b,setFlag:d,addFlag:e,hasFlag:f,removeFlag:(0,m.useCallback)(a=>c(b=>b&~a),[c]),toggleFlag:(0,m.useCallback)(a=>c(b=>b^a),[c])}}(a&&e?3:0),j=(0,m.useRef)(!1),k=(0,m.useRef)(!1);return gI(()=>{var e;if(a){if(c&&f(!0),!b){c&&h(3);return}return null==(e=null==d?void 0:d.start)||e.call(d,c),function(a,{prepare:b,run:c,done:d,inFlight:e}){let f=gC();return function(a,{inFlight:b,prepare:c}){if(null!=b&&b.current)return c();let d=a.style.transition;a.style.transition="none",c(),a.offsetHeight,a.style.transition=d}(a,{prepare:b,inFlight:e}),f.nextFrame(()=>{c(),f.requestAnimationFrame(()=>{f.add(function(a,b){var c,d;let e=gC();if(!a)return e.dispose;let f=!1;e.add(()=>{f=!0});let g=null!=(d=null==(c=a.getAnimations)?void 0:c.call(a).filter(a=>a instanceof CSSTransition))?d:[];return 0===g.length?b():Promise.allSettled(g.map(a=>a.finished)).then(()=>{f||b()}),e.dispose}(a,d))})}),f.dispose}(b,{inFlight:j,prepare(){k.current?k.current=!1:k.current=j.current,j.current=!0,k.current||(c?(h(3),i(4)):(h(4),i(2)))},run(){k.current?c?(i(3),h(4)):(i(4),h(3)):c?i(1):h(1)},done(){var a;k.current&&"function"==typeof b.getAnimations&&b.getAnimations().length>0||(j.current=!1,i(7),c||f(!1),null==(a=null==d?void 0:d.end)||a.call(d,c))}})}},[a,c,b,gD()]),a?[e,{closed:g(1),enter:g(2),leave:g(4),transition:g(2)||g(4)}]:[c,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}(!(!e||!v||!G||A&&!z),s,y,{start:gK(a=>{I.current=!0,J.onStart(u,a?"enter":"leave",a=>{"enter"===a?null==f||f():"leave"===a&&(null==h||h())})}),end:gK(a=>{let b=a?"enter":"leave";I.current=!1,J.onStop(u,b,a=>{"enter"===a?null==g||g():"leave"===a&&(null==i||i())}),"leave"!==b||g8(J)||(C("hidden"),F(u))})}),L=g2({ref:w,className:(null==(d=gV(r.className,H&&j,H&&k,K.enter&&j,K.enter&&K.closed&&k,K.enter&&!K.closed&&l,K.leave&&o,K.leave&&!K.closed&&p,K.leave&&K.closed&&q,!K.transition&&y&&n))?void 0:d.trim())||void 0,...function(a){let b={};for(let c in a)!0===a[c]&&(b[`data-${c}`]="");return b}(K)}),M=0;"visible"===B&&(M|=gR.Open),"hidden"===B&&(M|=gR.Closed),y&&"hidden"===B&&(M|=gR.Opening),y||"visible"!==B||(M|=gR.Closing);let N=gZ();return m.createElement(g7.Provider,{value:J},m.createElement(gT,{value:M},N({ourProps:L,theirProps:r,defaultTag:ha,features:hb,visible:"visible"===B,name:"Transition.Child"})))}),he=g1(function(a,b){let c=null!==(0,m.useContext)(g5),d=null!==gS();return m.createElement(m.Fragment,null,!c&&d?m.createElement(hc,{ref:b,...a}):m.createElement(hd,{ref:b,...a}))}),hf=Object.assign(hc,{Child:he,Root:hc});var hg=(a=>(a.Space=" ",a.Enter="Enter",a.Escape="Escape",a.Backspace="Backspace",a.Delete="Delete",a.ArrowLeft="ArrowLeft",a.ArrowUp="ArrowUp",a.ArrowRight="ArrowRight",a.ArrowDown="ArrowDown",a.Home="Home",a.End="End",a.PageUp="PageUp",a.PageDown="PageDown",a.Tab="Tab",a))(hg||{});class hh extends Map{constructor(a){super(),this.factory=a}get(a){let b=super.get(a);return void 0===b&&(b=this.factory(a),this.set(a,b)),b}}var hi=Object.defineProperty,hj=(a,b,c)=>{if(!b.has(a))throw TypeError("Cannot "+c)},hk=(a,b,c)=>(hj(a,b,"read from private field"),c?c.call(a):b.get(a)),hl=(a,b,c)=>{if(b.has(a))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(a):b.set(a,c)},hm=(a,b,c,d)=>(hj(a,b,"write to private field"),d?d.call(a,c):b.set(a,c),c);class hn{constructor(a){hl(this,i,{}),hl(this,j,new hh(()=>new Set)),hl(this,k,new Set),((a,b,c)=>((a,b,c)=>b in a?hi(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c))(this,"disposables",gC()),hm(this,i,a)}dispose(){this.disposables.dispose()}get state(){return hk(this,i)}subscribe(a,b){let c={selector:a,callback:b,current:a(hk(this,i))};return hk(this,k).add(c),this.disposables.add(()=>{hk(this,k).delete(c)})}on(a,b){return hk(this,j).get(a).add(b),this.disposables.add(()=>{hk(this,j).get(a).delete(b)})}send(a){let b=this.reduce(hk(this,i),a);if(b!==hk(this,i)){for(let a of(hm(this,i,b),hk(this,k))){let b=a.selector(hk(this,i));ho(a.current,b)||(a.current=b,a.callback(b))}for(let b of hk(this,j).get(a.type))b(hk(this,i),a)}}}function ho(a,b){return!!Object.is(a,b)||"object"==typeof a&&null!==a&&"object"==typeof b&&null!==b&&(Array.isArray(a)&&Array.isArray(b)?a.length===b.length&&hp(a[Symbol.iterator](),b[Symbol.iterator]()):a instanceof Map&&b instanceof Map||a instanceof Set&&b instanceof Set?a.size===b.size&&hp(a.entries(),b.entries()):!!(hq(a)&&hq(b))&&hp(Object.entries(a)[Symbol.iterator](),Object.entries(b)[Symbol.iterator]()))}function hp(a,b){for(;;){let c=a.next(),d=b.next();if(c.done&&d.done)return!0;if(c.done||d.done||!Object.is(c.value,d.value))return!1}}function hq(a){if("[object Object]"!==Object.prototype.toString.call(a))return!1;let b=Object.getPrototypeOf(a);return null===b||null===Object.getPrototypeOf(b)}i=new WeakMap,j=new WeakMap,k=new WeakMap;var hr=Object.defineProperty,hs=(a,b,c)=>(((a,b,c)=>b in a?hr(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),c),ht=(a=>(a[a.Push=0]="Push",a[a.Pop=1]="Pop",a))(ht||{});let hu={0(a,b){let c=b.id,d=a.stack,e=a.stack.indexOf(c);if(-1!==e){let b=a.stack.slice();return b.splice(e,1),b.push(c),d=b,{...a,stack:d}}return{...a,stack:[...a.stack,c]}},1(a,b){let c=b.id,d=a.stack.indexOf(c);if(-1===d)return a;let e=a.stack.slice();return e.splice(d,1),{...a,stack:e}}};class hv extends hn{constructor(){super(...arguments),hs(this,"actions",{push:a=>this.send({type:0,id:a}),pop:a=>this.send({type:1,id:a})}),hs(this,"selectors",{isTop:(a,b)=>a.stack[a.stack.length-1]===b,inStack:(a,b)=>a.stack.includes(b)})}static new(){return new hv({stack:[]})}reduce(a,b){return gW(b.type,hu,a,b)}}let hw=new hh(()=>hv.new());var hx=c(6895);function hy(a,b,c=ho){return(0,hx.useSyncExternalStoreWithSelector)(gK(b=>a.subscribe(hz,b)),gK(()=>a.state),gK(()=>a.state),gK(b),c)}function hz(a){return a}function hA(a,b){let c=(0,m.useId)(),d=hw.get(b),[e,f]=hy(d,(0,m.useCallback)(a=>[d.selectors.isTop(a,c),d.selectors.inStack(a,c)],[d,c]));return gI(()=>{if(a)return d.actions.push(c),()=>d.actions.pop(c)},[d,a,c]),!!a&&(!f||e)}function hB(a){var b,c;return gH.isServer?null:a?"ownerDocument"in a?a.ownerDocument:"current"in a?null!=(c=null==(b=a.current)?void 0:b.ownerDocument)?c:document:null:document}let hC=new Map,hD=new Map;function hE(a){var b;let c=null!=(b=hD.get(a))?b:0;return hD.set(a,c+1),0!==c||(hC.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0),()=>(function(a){var b;let c=null!=(b=hD.get(a))?b:1;if(1===c?hD.delete(a):hD.set(a,c-1),1!==c)return;let d=hC.get(a);d&&(null===d["aria-hidden"]?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",d["aria-hidden"]),a.inert=d.inert,hC.delete(a))})(a)}function hF(a){return"object"==typeof a&&null!==a&&"nodeType"in a}function hG(a){return hF(a)&&"tagName"in a}function hH(a){return hG(a)&&"accessKey"in a}function hI(a){return hG(a)&&"tabIndex"in a}let hJ=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(a=>`${a}:not([tabindex='-1'])`).join(","),hK=["[data-autofocus]"].map(a=>`${a}:not([tabindex='-1'])`).join(",");var hL=(a=>(a[a.First=1]="First",a[a.Previous=2]="Previous",a[a.Next=4]="Next",a[a.Last=8]="Last",a[a.WrapAround=16]="WrapAround",a[a.NoScroll=32]="NoScroll",a[a.AutoFocus=64]="AutoFocus",a))(hL||{}),hM=(a=>(a[a.Error=0]="Error",a[a.Overflow=1]="Overflow",a[a.Success=2]="Success",a[a.Underflow=3]="Underflow",a))(hM||{}),hN=(a=>(a[a.Previous=-1]="Previous",a[a.Next=1]="Next",a))(hN||{}),hO=(a=>(a[a.Strict=0]="Strict",a[a.Loose=1]="Loose",a))(hO||{}),hP=(a=>(a[a.Keyboard=0]="Keyboard",a[a.Mouse=1]="Mouse",a))(hP||{});function hQ(a){null==a||a.focus({preventScroll:!0})}function hR(a,b,{sorted:c=!0,relativeTo:d=null,skipElements:e=[]}={}){var f,g,h;let i=Array.isArray(a)?a.length>0?a[0].ownerDocument:document:a.ownerDocument,j=Array.isArray(a)?c?function(a,b=a=>a){return a.slice().sort((a,c)=>{let d=b(a),e=b(c);if(null===d||null===e)return 0;let f=d.compareDocumentPosition(e);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}(a):a:64&b?function(a=document.body){return null==a?[]:Array.from(a.querySelectorAll(hK)).sort((a,b)=>Math.sign((a.tabIndex||Number.MAX_SAFE_INTEGER)-(b.tabIndex||Number.MAX_SAFE_INTEGER)))}(a):function(a=document.body){return null==a?[]:Array.from(a.querySelectorAll(hJ)).sort((a,b)=>Math.sign((a.tabIndex||Number.MAX_SAFE_INTEGER)-(b.tabIndex||Number.MAX_SAFE_INTEGER)))}(a);e.length>0&&j.length>1&&(j=j.filter(a=>!e.some(b=>null!=b&&"current"in b?(null==b?void 0:b.current)===a:b===a))),d=null!=d?d:i.activeElement;let k=(()=>{if(5&b)return 1;if(10&b)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(1&b)return 0;if(2&b)return Math.max(0,j.indexOf(d))-1;if(4&b)return Math.max(0,j.indexOf(d))+1;if(8&b)return j.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=32&b?{preventScroll:!0}:{},n=0,o=j.length,p;do{if(n>=o||n+o<=0)return 0;let a=l+n;if(16&b)a=(a+o)%o;else{if(a<0)return 3;if(a>=o)return 1}null==(p=j[a])||p.focus(m),n+=k}while(p!==i.activeElement);return 6&b&&null!=(h=null==(g=null==(f=p)?void 0:f.matches)?void 0:g.call(f,"textarea,input"))&&h&&p.select(),2}function hS(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function hT(){return hS()||/Android/gi.test(window.navigator.userAgent)}function hU(...a){return(0,m.useMemo)(()=>hB(...a),[...a])}var hV=(a=>(a[a.None=1]="None",a[a.Focusable=2]="Focusable",a[a.Hidden=4]="Hidden",a))(hV||{});let hW=g1(function(a,b){var c;let{features:d=1,...e}=a,f={ref:b,"aria-hidden":(2&d)==2||(null!=(c=e["aria-hidden"])?c:void 0),hidden:(4&d)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&d)==4&&(2&d)!=2&&{display:"none"}}};return gZ()({ourProps:f,theirProps:e,slot:{},defaultTag:"span",name:"Hidden"})}),hX=(0,m.createContext)(null);function hY({children:a,node:b}){let[c,d]=(0,m.useState)(null),e=hZ(null!=b?b:c);return m.createElement(hX.Provider,{value:e},a,null===e&&m.createElement(hW,{features:hV.Hidden,ref:a=>{var b,c;if(a){for(let e of null!=(c=null==(b=hB(a))?void 0:b.querySelectorAll("html > *, body > *"))?c:[])if(e!==document.body&&e!==document.head&&hG(e)&&null!=e&&e.contains(a)){d(e);break}}}}))}function hZ(a=null){var b;return null!=(b=(0,m.useContext)(hX))?b:a}let h$=function(a,b){let c=a(),d=new Set;return{getSnapshot:()=>c,subscribe:a=>(d.add(a),()=>d.delete(a)),dispatch(a,...e){let f=b[a].call(c,...e);f&&(c=f,d.forEach(a=>a()))}}}(()=>new Map,{PUSH(a,b){var c;let d=null!=(c=this.get(a))?c:{doc:a,count:0,d:gC(),meta:new Set};return d.count++,d.meta.add(b),this.set(a,d),this},POP(a,b){let c=this.get(a);return c&&(c.count--,c.meta.delete(b)),this},SCROLL_PREVENT({doc:a,d:b,meta:c}){let d,e={doc:a,d:b,meta:function(a){let b={};for(let c of a)Object.assign(b,c(b));return b}(c)},f=[hS()?{before({doc:a,d:b,meta:c}){function d(a){return c.containers.flatMap(a=>a()).some(b=>b.contains(a))}b.microTask(()=>{var c;if("auto"!==window.getComputedStyle(a.documentElement).scrollBehavior){let c=gC();c.style(a.documentElement,"scrollBehavior","auto"),b.add(()=>b.microTask(()=>c.dispose()))}let e=null!=(c=window.scrollY)?c:window.pageYOffset,f=null;b.addEventListener(a,"click",b=>{if(hI(b.target))try{let c=b.target.closest("a");if(!c)return;let{hash:e}=new URL(c.href),g=a.querySelector(e);hI(g)&&!d(g)&&(f=g)}catch{}},!0),b.addEventListener(a,"touchstart",a=>{var c;if(hI(a.target)&&hG(c=a.target)&&"style"in c)if(d(a.target)){let c=a.target;for(;c.parentElement&&d(c.parentElement);)c=c.parentElement;b.style(c,"overscrollBehavior","contain")}else b.style(a.target,"touchAction","none")}),b.addEventListener(a,"touchmove",a=>{if(hI(a.target)){var b;if(!(hH(b=a.target)&&"INPUT"===b.nodeName))if(d(a.target)){let b=a.target;for(;b.parentElement&&""!==b.dataset.headlessuiPortal&&!(b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth);)b=b.parentElement;""===b.dataset.headlessuiPortal&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),b.add(()=>{var a;e!==(null!=(a=window.scrollY)?a:window.pageYOffset)&&window.scrollTo(0,e),f&&f.isConnected&&(f.scrollIntoView({block:"nearest"}),f=null)})})}}:{},{before({doc:a}){var b;let c=a.documentElement;d=Math.max(0,(null!=(b=a.defaultView)?b:window).innerWidth-c.clientWidth)},after({doc:a,d:b}){let c=a.documentElement,e=Math.max(0,c.clientWidth-c.offsetWidth),f=Math.max(0,d-e);b.style(c,"paddingRight",`${f}px`)}},{before({doc:a,d:b}){b.style(a.documentElement,"overflow","hidden")}}];f.forEach(({before:a})=>null==a?void 0:a(e)),f.forEach(({after:a})=>null==a?void 0:a(e))},SCROLL_ALLOW({d:a}){a.dispose()},TEARDOWN({doc:a}){this.delete(a)}});h$.subscribe(()=>{let a=h$.getSnapshot(),b=new Map;for(let[c]of a)b.set(c,c.documentElement.style.overflow);for(let c of a.values()){let a="hidden"===b.get(c.doc),d=0!==c.count;(d&&!a||!d&&a)&&h$.dispatch(c.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",c),0===c.count&&h$.dispatch("TEARDOWN",c)}});let h_=(0,m.createContext)(()=>{});function h0({value:a,children:b}){return m.createElement(h_.Provider,{value:a},b)}let h1=(0,m.createContext)(!1);function h2(a){return m.createElement(h1.Provider,{value:a.force},a.children)}let h3=(0,m.createContext)(void 0),h4=(0,m.createContext)(null);h4.displayName="DescriptionContext";let h5=Object.assign(g1(function(a,b){let c=(0,m.useId)(),d=(0,m.useContext)(h3),{id:e=`headlessui-description-${c}`,...f}=a,g=function a(){let b=(0,m.useContext)(h4);if(null===b){let b=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(b,a),b}return b}(),h=gO(b);gI(()=>g.register(e),[e,g.register]);let i=d||!1,j=(0,m.useMemo)(()=>({...g.slot,disabled:i}),[g.slot,i]),k={ref:h,...g.props,id:e};return gZ()({ourProps:k,theirProps:f,slot:j,defaultTag:"p",name:g.name||"Description"})}),{});function h6(a){gK(a),(0,m.useRef)(!1)}var h7=(a=>(a[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a))(h7||{});function h8(a,b){(0,m.useRef)([]),gK(a)}let h9=[];function ia(a){if(!a)return new Set;if("function"==typeof a)return new Set(a());let b=new Set;for(let c of a.current)hG(c.current)&&b.add(c.current);return b}var ib=(a=>(a[a.None=0]="None",a[a.InitialFocus=1]="InitialFocus",a[a.TabLock=2]="TabLock",a[a.FocusLock=4]="FocusLock",a[a.RestoreFocus=8]="RestoreFocus",a[a.AutoFocus=16]="AutoFocus",a))(ib||{});let ic=Object.assign(g1(function(a,b){let c,d=(0,m.useRef)(null),e=gO(d,b),{initialFocus:f,initialFocusFallback:g,containers:h,features:i=15,...j}=a;gM()||(i=0);let k=hU(d);!function(a,{ownerDocument:b}){let c=!!(8&a),d=function(a=!0){let b=(0,m.useRef)(h9.slice());return h8(([a],[c])=>{!0===c&&!1===a&&gB(()=>{b.current.splice(0)}),!1===c&&!0===a&&(b.current=h9.slice())},[a,h9,b]),gK(()=>{var a;return null!=(a=b.current.find(a=>null!=a&&a.isConnected))?a:null})}(c);h8(()=>{c||(null==b?void 0:b.activeElement)===(null==b?void 0:b.body)&&hQ(d())},[c]),h6(()=>{c&&hQ(d())})}(i,{ownerDocument:k});let l=function(a,{ownerDocument:b,container:c,initialFocus:d,initialFocusFallback:e}){let f=(0,m.useRef)(null),g=hA(!!(1&a),"focus-trap#initial-focus"),h=gL();return h8(()=>{if(0===a)return;if(!g){null!=e&&e.current&&hQ(e.current);return}let i=c.current;i&&gB(()=>{if(!h.current)return;let c=null==b?void 0:b.activeElement;if(null!=d&&d.current){if((null==d?void 0:d.current)===c){f.current=c;return}}else if(i.contains(c)){f.current=c;return}if(null!=d&&d.current)hQ(d.current);else{if(16&a){if(hR(i,hL.First|hL.AutoFocus)!==hM.Error)return}else if(hR(i,hL.First)!==hM.Error)return;if(null!=e&&e.current&&(hQ(e.current),(null==b?void 0:b.activeElement)===e.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}f.current=null==b?void 0:b.activeElement})},[e,g,a]),f}(i,{ownerDocument:k,container:d,initialFocus:f,initialFocusFallback:g});!function(a,{ownerDocument:b,container:c,containers:d,previousActiveElement:e}){let f=gL(),g=!!(4&a);null==b||b.defaultView,gJ(a=>{if(!g||!f.current)return;let b=ia(d);hH(c.current)&&b.add(c.current);let h=e.current;if(!h)return;let i=a.target;hH(i)?id(b,i)?(e.current=i,hQ(i)):(a.preventDefault(),a.stopPropagation(),hQ(h)):hQ(e.current)})}(i,{ownerDocument:k,container:d,containers:h,previousActiveElement:l});let n=(c=(0,m.useRef)(0),gJ(a=>{"Tab"===a.key&&(c.current=+!!a.shiftKey)}),c),o=gK(a=>{if(!hH(d.current))return;let b=d.current;gW(n.current,{[h7.Forwards]:()=>{hR(b,hL.First,{skipElements:[a.relatedTarget,g]})},[h7.Backwards]:()=>{hR(b,hL.Last,{skipElements:[a.relatedTarget,g]})}})}),p=hA(!!(2&i),"focus-trap#tab-lock"),q=gD(),r=(0,m.useRef)(!1),s=gZ();return m.createElement(m.Fragment,null,p&&m.createElement(hW,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:o,features:hV.Focusable}),s({ourProps:{ref:e,onKeyDown(a){"Tab"==a.key&&(r.current=!0,q.requestAnimationFrame(()=>{r.current=!1}))},onBlur(a){if(!(4&i))return;let b=ia(h);hH(d.current)&&b.add(d.current);let c=a.relatedTarget;hI(c)&&"true"!==c.dataset.headlessuiFocusGuard&&(id(b,c)||(r.current?hR(d.current,gW(n.current,{[h7.Forwards]:()=>hL.Next,[h7.Backwards]:()=>hL.Previous})|hL.WrapAround,{relativeTo:a.target}):hI(a.target)&&hQ(a.target)))}},theirProps:j,defaultTag:"div",name:"FocusTrap"}),p&&m.createElement(hW,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:o,features:hV.Focusable}))}),{features:ib});function id(a,b){for(let c of a)if(c.contains(b))return!0;return!1}var ie=c(1215);let ig=m.Fragment,ih=g1(function(a,b){let{ownerDocument:c=null,...d}=a,e=(0,m.useRef)(null),f=gO(function(a,b=!0){return Object.assign(a,{[gN]:b})}(a=>{e.current=a}),b),g=hU(e),h=null!=c?c:g,i=function(a){let b=(0,m.useContext)(h1),c=(0,m.useContext)(ij),[d,e]=(0,m.useState)(()=>{var d;if(!b&&null!==c)return null!=(d=c.current)?d:null;if(gH.isServer)return null;let e=null==a?void 0:a.getElementById("headlessui-portal-root");if(e)return e;if(null===a)return null;let f=a.createElement("div");return f.setAttribute("id","headlessui-portal-root"),a.body.appendChild(f)});return d}(h),[j]=(0,m.useState)(()=>{var a;return gH.isServer?null:null!=(a=null==h?void 0:h.createElement("div"))?a:null}),k=(0,m.useContext)(ik),l=gM();gI(()=>{!i||!j||i.contains(j)||(j.setAttribute("data-headlessui-portal",""),i.appendChild(j))},[i,j]),gI(()=>{if(j&&k)return k.register(j)},[k,j]),h6(()=>{var a;i&&j&&(hF(j)&&i.contains(j)&&i.removeChild(j),i.childNodes.length<=0&&(null==(a=i.parentElement)||a.removeChild(i)))});let n=gZ();return l&&i&&j?(0,ie.createPortal)(n({ourProps:{ref:f},theirProps:d,slot:{},defaultTag:ig,name:"Portal"}),j):null}),ii=m.Fragment,ij=(0,m.createContext)(null),ik=(0,m.createContext)(null),il=g1(function(a,b){let c=gO(b),{enabled:d=!0,ownerDocument:e,...f}=a,g=gZ();return d?m.createElement(ih,{...f,ownerDocument:e,ref:c}):g({ourProps:{ref:c},theirProps:f,slot:{},defaultTag:ig,name:"Portal"})}),im=g1(function(a,b){let{target:c,...d}=a,e={ref:gO(b)},f=gZ();return m.createElement(ij.Provider,{value:c},f({ourProps:e,theirProps:d,defaultTag:ii,name:"Popover.Group"}))}),io=Object.assign(il,{Group:im});var ip=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ip||{}),iq=(a=>(a[a.SetTitleId=0]="SetTitleId",a))(iq||{});let ir={0:(a,b)=>a.titleId===b.id?a:{...a,titleId:b.id}},is=(0,m.createContext)(null);function it(a){let b=(0,m.useContext)(is);if(null===b){let b=Error(`<${a} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,it),b}return b}function iu(a,b){return gW(b.type,ir,a,b)}is.displayName="DialogContext";let iv=g1(function(a,b){let c,d,e,f,g,h,i,j,k,l=(0,m.useId)(),{id:n=`headlessui-dialog-${l}`,open:o,onClose:p,initialFocus:q,role:r="dialog",autoFocus:s=!0,__demoMode:t=!1,unmount:u=!1,...v}=a,w=(0,m.useRef)(!1);r="dialog"===r||"alertdialog"===r?r:(w.current||(w.current=!0,console.warn(`Invalid role [${r}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let x=gS();void 0===o&&null!==x&&(o=(x&gR.Open)===gR.Open);let y=(0,m.useRef)(null),z=gO(y,b),A=hU(y),B=+!o,[C,D]=(0,m.useReducer)(iu,{titleId:null,descriptionId:null,panelRef:(0,m.createRef)()}),E=gK(()=>p(!1)),F=gK(a=>D({type:0,id:a})),G=!!gM()&&0===B,[H,I]=(c=(0,m.useContext)(ik),d=(0,m.useRef)([]),e=gK(a=>(d.current.push(a),c&&c.register(a),()=>f(a))),f=gK(a=>{let b=d.current.indexOf(a);-1!==b&&d.current.splice(b,1),c&&c.unregister(a)}),g=(0,m.useMemo)(()=>({register:e,unregister:f,portals:d}),[e,f,d]),[d,(0,m.useMemo)(()=>function({children:a}){return m.createElement(ik.Provider,{value:g},a)},[g])]),J=hZ(),{resolveContainers:K}=function({defaultContainers:a=[],portals:b,mainTreeNode:c}={}){let d=hU(c),e=gK(()=>{var e,f;let g=[];for(let b of a)null!==b&&(hG(b)?g.push(b):"current"in b&&hG(b.current)&&g.push(b.current));if(null!=b&&b.current)for(let a of b.current)g.push(a);for(let a of null!=(e=null==d?void 0:d.querySelectorAll("html > *, body > *"))?e:[])a!==document.body&&a!==document.head&&hG(a)&&"headlessui-portal-root"!==a.id&&(c&&(a.contains(c)||a.contains(null==(f=null==c?void 0:c.getRootNode())?void 0:f.host))||g.some(b=>a.contains(b))||g.push(a));return g});return{resolveContainers:e,contains:gK(a=>e().some(b=>b.contains(a)))}}({mainTreeNode:J,portals:H,defaultContainers:[{get current(){var L;return null!=(L=C.panelRef.current)?L:y.current}}]}),M=null!==x&&(x&gR.Closing)===gR.Closing;!function(a,{allowed:b,disallowed:c}={}){let d=hA(a,"inert-others");gI(()=>{var a,e;if(!d)return;let f=gC();for(let b of null!=(a=null==c?void 0:c())?a:[])b&&f.add(hE(b));let g=null!=(e=null==b?void 0:b())?e:[];for(let a of g){if(!a)continue;let b=hB(a);if(!b)continue;let c=a.parentElement;for(;c&&c!==b.body;){for(let a of c.children)g.some(b=>a.contains(b))||f.add(hE(a));c=c.parentElement}}return f.dispose},[d,b,c])}(!t&&!M&&G,{allowed:gK(()=>{var a,b;return[null!=(b=null==(a=y.current)?void 0:a.closest("[data-headlessui-portal]"))?b:null]}),disallowed:gK(()=>{var a;return[null!=(a=null==J?void 0:J.closest("body > *:not(#headlessui-portal-root)"))?a:null]})});let N=hw.get(null);gI(()=>{if(G)return N.actions.push(n),()=>N.actions.pop(n)},[N,n,G]);let O=hy(N,(0,m.useCallback)(a=>N.selectors.isTop(a,n),[N,n]));h=gJ(a=>{a.preventDefault(),E()}),i=(0,m.useCallback)(function(a,b){if(a.defaultPrevented)return;let c=b(a);if(null!==c&&c.getRootNode().contains(c)&&c.isConnected){for(let b of function a(b){return"function"==typeof b?a(b()):Array.isArray(b)||b instanceof Set?b:[b]}(K))if(null!==b&&(b.contains(c)||a.composed&&a.composedPath().includes(b)))return;return function(a,b=0){var c;return a!==(null==(c=hB(a))?void 0:c.body)&&gW(b,{0:()=>a.matches(hJ),1(){let b=a;for(;null!==b;){if(b.matches(hJ))return!0;b=b.parentElement}return!1}})}(c,hO.Loose)||-1===c.tabIndex||a.preventDefault(),h.current(a,c)}},[h,K]),j=(0,m.useRef)(null),gJ(a=>{var b,c;hT()||(j.current=(null==(c=null==(b=a.composedPath)?void 0:b.call(a))?void 0:c[0])||a.target)}),gJ(a=>{if(hT()||!j.current)return;let b=j.current;return j.current=null,i(a,()=>b)}),k=(0,m.useRef)({x:0,y:0}),gJ(a=>{k.current.x=a.touches[0].clientX,k.current.y=a.touches[0].clientY}),gJ(a=>{let b={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(b.x-k.current.x)>=30||Math.abs(b.y-k.current.y)>=30))return i(a,()=>hI(a.target)?a.target:null)}),gJ(a=>i(a,()=>{var a;return hH(a=window.document.activeElement)&&"IFRAME"===a.nodeName?window.document.activeElement:null})),function(a,b="undefined"!=typeof document?document.defaultView:null,c){let d=hA(a,"escape");gJ(a=>{d&&(a.defaultPrevented||a.key===hg.Escape&&c(a))})}(O,null==A?void 0:A.defaultView,a=>{a.preventDefault(),a.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),E()}),function(a,b,c=()=>[document.body]){!function(a,b,c=()=>({containers:[]})){let d=(0,m.useSyncExternalStore)(h$.subscribe,h$.getSnapshot,h$.getSnapshot),e=b?d.get(b):void 0;e&&e.count,gI(()=>{if(!(!b||!a))return h$.dispatch("PUSH",b,c),()=>h$.dispatch("POP",b,c)},[a,b])}(hA(a,"scroll-lock"),b,a=>{var b;return{containers:[...null!=(b=a.containers)?b:[],c]}})}(!t&&!M&&G,A,K),gJ(a=>{let b=a.getBoundingClientRect();0===b.x&&0===b.y&&0===b.width&&0===b.height&&E()});let[P,Q]=function(){let[a,b]=(0,m.useState)([]);return[a.length>0?a.join(" "):void 0,(0,m.useMemo)(()=>function(a){let c=gK(a=>(b(b=>[...b,a]),()=>b(b=>{let c=b.slice(),d=c.indexOf(a);return -1!==d&&c.splice(d,1),c}))),d=(0,m.useMemo)(()=>({register:c,slot:a.slot,name:a.name,props:a.props,value:a.value}),[c,a.slot,a.name,a.props,a.value]);return m.createElement(h4.Provider,{value:d},a.children)},[b])]}(),R=(0,m.useMemo)(()=>[{dialogState:B,close:E,setTitleId:F,unmount:u},C],[B,C,E,F,u]),S=(0,m.useMemo)(()=>({open:0===B}),[B]),T={ref:z,id:n,role:r,tabIndex:-1,"aria-modal":t?void 0:0===B||void 0,"aria-labelledby":C.titleId,"aria-describedby":P,unmount:u},U=!function(){var a;let[b]=(0,m.useState)(()=>null),[c,d]=(0,m.useState)(null!=(a=null==b?void 0:b.matches)&&a);return gI(()=>{if(b)return b.addEventListener("change",a),()=>b.removeEventListener("change",a);function a(a){d(a.matches)}},[b]),c}(),V=ib.None;G&&!t&&(V|=ib.RestoreFocus,V|=ib.TabLock,s&&(V|=ib.AutoFocus),U&&(V|=ib.InitialFocus));let W=gZ();return m.createElement(gU,null,m.createElement(h2,{force:!0},m.createElement(io,null,m.createElement(is.Provider,{value:R},m.createElement(im,{target:y},m.createElement(h2,{force:!1},m.createElement(Q,{slot:S},m.createElement(I,null,m.createElement(ic,{initialFocus:q,initialFocusFallback:y,containers:K,features:V},m.createElement(h0,{value:E},W({ourProps:T,theirProps:v,slot:S,defaultTag:iw,features:ix,visible:0===B,name:"Dialog"})))))))))))}),iw="div",ix=gX.RenderStrategy|gX.Static,iy=Object.assign(g1(function(a,b){let{transition:c=!1,open:d,...e}=a,f=gS(),g=a.hasOwnProperty("open")||null!==f,h=a.hasOwnProperty("onClose");if(!g&&!h)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!h)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!f&&"boolean"!=typeof a.open)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a.open}`);if("function"!=typeof a.onClose)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a.onClose}`);return(void 0!==d||c)&&!e.static?m.createElement(hY,null,m.createElement(hf,{show:d,transition:c,unmount:e.unmount},m.createElement(iv,{ref:b,...e}))):m.createElement(hY,null,m.createElement(iv,{ref:b,open:d,...e}))}),{Panel:g1(function(a,b){let c=(0,m.useId)(),{id:d=`headlessui-dialog-panel-${c}`,transition:e=!1,...f}=a,[{dialogState:g,unmount:h},i]=it("Dialog.Panel"),j=gO(b,i.panelRef),k=(0,m.useMemo)(()=>({open:0===g}),[g]),l=gK(a=>{a.stopPropagation()}),n=e?he:m.Fragment,o=gZ();return m.createElement(n,{...e?{unmount:h}:{}},o({ourProps:{ref:j,id:d,onClick:l},theirProps:f,slot:k,defaultTag:"div",name:"Dialog.Panel"}))}),Title:(g1(function(a,b){let{transition:c=!1,...d}=a,[{dialogState:e,unmount:f}]=it("Dialog.Backdrop"),g=(0,m.useMemo)(()=>({open:0===e}),[e]),h=c?he:m.Fragment,i=gZ();return m.createElement(h,{...c?{unmount:f}:{}},i({ourProps:{ref:b,"aria-hidden":!0},theirProps:d,slot:g,defaultTag:"div",name:"Dialog.Backdrop"}))}),g1(function(a,b){let c=(0,m.useId)(),{id:d=`headlessui-dialog-title-${c}`,...e}=a,[{dialogState:f,setTitleId:g}]=it("Dialog.Title"),h=gO(b),i=(0,m.useMemo)(()=>({open:0===f}),[f]);return gZ()({ourProps:{ref:h,id:d},theirProps:e,slot:i,defaultTag:"h2",name:"Dialog.Title"})})),Description:h5}),iz=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),iA=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}),iB=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}),iC=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061A1.125 1.125 0 0 1 3 16.811V8.69ZM12.75 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061a1.125 1.125 0 0 1-1.683-.977V8.69Z"}))}),iD=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))});function iE({isOpen:a,error:b,isRecovering:c,onRetry:d,onRollback:e,onSkip:f,onExit:g,onClose:h}){if(!b)return null;let i=b.recoverable&&b.retryCount<b.maxRetries;return(0,l.jsx)(hf,{appear:!0,show:a,as:m.Fragment,children:(0,l.jsxs)(iy,{as:"div",className:"relative z-50",onClose:h,children:[(0,l.jsx)(hf.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,l.jsx)(hf.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsxs)(iy.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(()=>{switch(b.type){case"network":return(0,l.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(gu,{className:"h-6 w-6 text-yellow-600"})});case"permission":return(0,l.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(gu,{className:"h-6 w-6 text-red-600"})});default:return(0,l.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(gu,{className:"h-6 w-6 text-orange-600"})})}})(),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(iy.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:(()=>{switch(b.type){case"network":return"Network Error";case"permission":return"Permission Error";case"validation":return"Validation Error";case"processing":return"Processing Error";case"timeout":return"Timeout Error";default:return"Unexpected Error"}})()}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Error occurred in: ",(0,l.jsx)("span",{className:"font-medium",children:b.step})]}),(0,l.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:b.message}),b.retryCount>0&&(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Retry attempts: ",b.retryCount,"/",b.maxRetries]}),b.context&&(0,l.jsxs)("details",{className:"mt-3",children:[(0,l.jsx)("summary",{className:"text-xs text-gray-500 cursor-pointer",children:"Technical details"}),(0,l.jsx)("pre",{className:"text-xs text-gray-600 mt-1 bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(b.context,null,2)})]})]})]}),(0,l.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-600",children:(0,l.jsx)(iz,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"mt-6 flex flex-col gap-2",children:[i&&(0,l.jsxs)("button",{onClick:async()=>{await d(),h()},disabled:c,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?(0,l.jsx)(iA,{className:"h-4 w-4 animate-spin"}):(0,l.jsx)(iA,{className:"h-4 w-4"}),"Retry (",b.retryCount,"/",b.maxRetries,")"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)("button",{onClick:()=>{e(),h()},className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[(0,l.jsx)(iB,{className:"h-4 w-4"}),"Go Back"]}),f&&"validation"!==b.type&&(0,l.jsxs)("button",{onClick:()=>{f(),h()},className:"flex items-center justify-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200",children:[(0,l.jsx)(iC,{className:"h-4 w-4"}),"Skip Step"]})]}),(0,l.jsxs)("button",{onClick:()=>{g(),h()},className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:[(0,l.jsx)(iD,{className:"h-4 w-4"}),"Exit Workflow"]})]}),"network"===b.type&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,l.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,l.jsx)("strong",{children:"Tip:"})," Check your internet connection and try again."]})}),"validation"===b.type&&(0,l.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:(0,l.jsxs)("p",{className:"text-xs text-yellow-700",children:[(0,l.jsx)("strong",{children:"Tip:"})," Please check your input and correct any errors before proceeding."]})})]})})})})]})})}let iF=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))});function iG({isOpen:a,workflowTitle:b,workflowSummary:c,onTakeover:d,onSummarize:e,onClose:f}){let[g,h]=(0,m.useState)(null);return(0,l.jsx)(hf,{appear:!0,show:a,as:m.Fragment,children:(0,l.jsxs)(iy,{as:"div",className:"relative z-50",onClose:f,children:[(0,l.jsx)(hf.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,l.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,l.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,l.jsx)(hf.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,l.jsxs)(iy.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)(gz,{className:"h-6 w-6 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(iy.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Mere AI Assistant"}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:['Help with "',b,'" workflow']})]})]}),(0,l.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",children:(0,l.jsx)(iz,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Workflow Summary"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Current Step"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:c.currentStep})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Estimated Time Remaining"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:c.estimatedTimeRemaining})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Completed (",c.completedSteps.length,")"]}),(0,l.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:c.completedSteps.map((a,b)=>(0,l.jsxs)("li",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a]},b))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Remaining (",c.remainingSteps.length,")"]}),(0,l.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:c.remainingSteps.map((a,b)=>(0,l.jsxs)("li",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),a]},b))})]})]})]}),c.suggestedActions.length>0&&(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,l.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"AI Suggestions"}),(0,l.jsx)("ul",{className:"text-sm text-blue-800 space-y-1",children:c.suggestedActions.map((a,b)=>(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)("span",{className:"w-4 h-4 bg-blue-200 rounded-full flex items-center justify-center text-xs font-medium text-blue-700 mt-0.5",children:b+1}),a]},b))})]}),(0,l.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"How can Mere help?"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,l.jsx)("button",{onClick:()=>h("takeover"),className:`p-4 border-2 rounded-lg text-left transition-all ${"takeover"===g?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)(iF,{className:"h-5 w-5 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:"Complete Workflow"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Let Mere take over and complete the remaining steps automatically using your existing data and preferences."}),(0,l.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["Estimated completion: ",c.estimatedTimeRemaining]})]})]})}),(0,l.jsx)("button",{onClick:()=>h("summarize"),className:`p-4 border-2 rounded-lg text-left transition-all ${"summarize"===g?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,l.jsx)(gi,{className:"h-5 w-5 text-green-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:"Summarize Progress"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Generate a detailed summary of your progress and provide recommendations for next steps."}),(0,l.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"You retain full control  Continue manually when ready"})]})]})})]})]}),(0,l.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(p,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),(0,l.jsxs)("div",{className:"text-xs text-yellow-800",children:[(0,l.jsx)("p",{className:"font-medium",children:"Privacy Notice"}),(0,l.jsx)("p",{children:"Mere will only access data you've already provided in this workflow. No external data will be accessed without explicit permission."})]})]})}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,l.jsx)("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),(0,l.jsxs)("button",{onClick:()=>{"takeover"===g?d():"summarize"===g&&e(),f()},disabled:!g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(gz,{className:"h-4 w-4"}),"takeover"===g?"Let Mere Complete":"summarize"===g?"Generate Summary":"Select Action"]})]})]})})})})]})})}function iH({className:a}){let{currentWorkflow:b,currentStep:c,totalSteps:d,steps:e,workflowData:f,isLoading:g,nextStep:h,previousStep:i,finishWorkflow:j,cancelWorkflow:k,errors:n,isRecovering:p,getErrorSummary:q,handleAsyncOperation:r}=(0,ar.j)(),[s,t]=(0,m.useState)(!1),[u,v]=(0,m.useState)(null),[w,x]=(0,m.useState)(!1),y=q(),z=()=>{let a=e.slice(0,c).map(a=>a.title),b=e.slice(c+1).map(a=>a.title);return{currentStep:e[c]?.title||"Unknown",completedSteps:a,remainingSteps:b,workflowData:f,estimatedTimeRemaining:`${2*b.length} minutes`,suggestedActions:["Complete remaining steps with smart defaults","Auto-fill forms based on previous inputs","Skip optional steps to speed up completion","Generate summary and next action recommendations"]}},A=async()=>{u&&await r(async()=>(await new Promise(a=>setTimeout(a,1e3)),!0),u.step)},B=async()=>{let a=d-c-1;aq.oR.success("Mere is taking over the workflow...");for(let b=0;b<a;b++)await new Promise(a=>setTimeout(a,1500)),c<d-1&&(h(),aq.oR.success(`Mere completed: ${e[c+b]?.title}`));aq.oR.success("Workflow completed by Mere!"),setTimeout(()=>j(),1e3)};if(!b)return null;let C=e[c],D=(c+1)/d*100;return(0,l.jsxs)("div",{className:ap("bg-white border rounded-lg shadow-sm",a),children:[(0,l.jsxs)("div",{className:"p-4 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-medium",children:C?.title}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[y.hasErrors&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-sm text-red-600",children:[(0,l.jsx)(gu,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:[y.total," error",1!==y.total?"s":""]})]}),(0,l.jsxs)("span",{className:"text-sm text-muted-foreground",children:[c+1," of ",d]})]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:ap("h-2 rounded-full transition-all duration-300",y.hasErrors&&!y.canProceed?"bg-red-500":"bg-primary"),style:{width:`${D}%`}})}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[C?.aiAssisted&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[(0,l.jsx)(o,{className:"h-4 w-4 animate-spin"}),(0,l.jsx)("span",{children:"Mere is assisting"})]}),y.hasErrors&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[y.retryable>0&&(0,l.jsxs)("span",{className:"text-yellow-600",children:[y.retryable," retryable"]}),y.critical>0&&(0,l.jsxs)("span",{className:"text-red-600",children:[y.critical," critical"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[p&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[(0,l.jsx)(gy,{className:"h-4 w-4 animate-spin"}),(0,l.jsx)("span",{children:"Recovering..."})]}),(0,l.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",title:"Press M to open Mere assistant",children:[(0,l.jsx)(gz,{className:"h-4 w-4"}),"Ask Mere"]})]})]})]}),(0,l.jsxs)("div",{className:"p-4",children:[C?.description&&(0,l.jsx)("p",{className:"text-muted-foreground mb-4",children:C.description}),C?.component,g&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsx)(gy,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Processing..."})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-t bg-gray-50",children:[(0,l.jsx)("button",{onClick:i,disabled:0===c||p,className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:e.map((a,b)=>(0,l.jsx)("div",{className:ap("w-2 h-2 rounded-full",b<c?"bg-green-500":b===c?y.hasErrors&&!y.canProceed?"bg-red-500":"bg-primary":"bg-gray-300")},b))}),c===d-1?(0,l.jsxs)("button",{onClick:j,disabled:!y.canProceed||p,className:"px-3 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,l.jsx)(gA,{className:"h-4 w-4"}),"Complete"]}):(0,l.jsx)("button",{onClick:h,disabled:!y.canProceed||p,className:"px-3 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,l.jsxs)("div",{className:"px-4 py-2 text-xs text-muted-foreground border-t",children:["Progress auto-saved  Use   arrows to navigate  Press Esc to cancel  Press M for Mere",y.hasErrors&&(0,l.jsx)("span",{className:"text-red-600",children:"  Resolve errors to continue"})]}),(0,l.jsx)(iE,{isOpen:s,error:u,isRecovering:p,onRetry:A,onRollback:i,onSkip:()=>{c<d-1&&h()},onExit:k,onClose:()=>{t(!1),v(null)}}),(0,l.jsx)(iG,{isOpen:w,workflowTitle:b||"Unknown Workflow",workflowSummary:z(),onTakeover:B,onSummarize:()=>{let a=z(),c=`
Workflow Summary: ${b}

Progress: ${a.completedSteps.length}/${e.length} steps completed

 Completed:
${a.completedSteps.map(a=>` ${a}`).join("\n")}

 Remaining:
${a.remainingSteps.map(a=>` ${a}`).join("\n")}

 AI Recommendations:
${a.suggestedActions.map((a,b)=>`${b+1}. ${a}`).join("\n")}

Estimated completion time: ${a.estimatedTimeRemaining}
    `.trim();navigator.clipboard.writeText(c),aq.oR.success("Workflow summary copied to clipboard!")},onClose:()=>x(!1)})]})}let iI=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"}))}),iJ=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))});function iK(){let{updateWorkflowData:a,nextStep:b,handleAsyncOperation:c}=(0,ar.j)(),[d,e]=(0,m.useState)(""),f=[{id:"network",name:"Network Error",description:"Simulate a network connection failure",icon:iI,color:"text-yellow-600",bgColor:"bg-yellow-50"},{id:"permission",name:"Permission Error",description:"Simulate insufficient permissions",icon:iJ,color:"text-red-600",bgColor:"bg-red-50"},{id:"validation",name:"Validation Error",description:"Simulate invalid input data",icon:gu,color:"text-orange-600",bgColor:"bg-orange-50"},{id:"success",name:"Success Path",description:"Complete the step successfully",icon:gu,color:"text-green-600",bgColor:"bg-green-50"}],g=async()=>{d&&(a({errorDemo:d}),"success"===d?(await c(async()=>(await new Promise(a=>setTimeout(a,1e3)),{success:!0}),"Demo Step",{errorType:d})).success&&b():await c(async()=>{switch(await new Promise(a=>setTimeout(a,1e3)),d){case"network":throw Error("Network request failed: Unable to connect to server");case"permission":throw Error("Permission denied: Insufficient access rights");case"validation":throw Error("Validation failed: Invalid input data format");default:throw Error("Unknown error occurred")}},"Demo Step",{errorType:d}))};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Error Handling Demo"}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Select an error type to see how the workflow handles different failure scenarios. Each error type demonstrates different recovery options."})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-4",children:f.map(a=>(0,l.jsx)("button",{onClick:()=>e(a.id),className:`p-4 border-2 rounded-lg text-left transition-all ${d===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:`w-10 h-10 rounded-lg ${a.bgColor} flex items-center justify-center`,children:(0,l.jsx)(a.icon,{className:`h-5 w-5 ${a.color}`})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:a.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.description}),"network"===a.id&&(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Retryable  Max 3 attempts  Rollback available"}),"permission"===a.id&&(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Non-retryable  Rollback only  Exit available"}),"validation"===a.id&&(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Retryable  Max 1 attempt  No skip option"})]})]})},a.id))}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"How Error Recovery Works"}),(0,l.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,l.jsxs)("li",{children:[" ",(0,l.jsx)("strong",{children:"Retry:"})," Attempts the failed operation again (if retryable)"]}),(0,l.jsxs)("li",{children:[" ",(0,l.jsx)("strong",{children:"Rollback:"})," Returns to the previous step"]}),(0,l.jsxs)("li",{children:[" ",(0,l.jsx)("strong",{children:"Skip:"})," Continues without completing the step (when available)"]}),(0,l.jsxs)("li",{children:[" ",(0,l.jsx)("strong",{children:"Exit:"})," Cancels the entire workflow"]})]})]}),(0,l.jsx)("button",{onClick:g,disabled:!d,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"success"===d?"Continue Successfully":"Trigger Error"})]})}function iL(){let{updateWorkflowData:a,nextStep:b,finishWorkflow:c}=(0,ar.j)(),[d,e]=(0,m.useState)({id:Date.now().toString(),title:"",nodes:[],reasoning:""}),[f,g]=(0,m.useState)([]),[h,i]=(0,m.useState)(0),j=[{id:"1",title:"Project Meeting Notes",content:"Discussed Q4 goals and resource allocation",type:"source",connections:[],confidence:.9},{id:"2",title:"Budget Analysis",content:"Current budget allows for 3 new hires",type:"source",connections:[],confidence:.85},{id:"3",title:"Market Research",content:"Customer demand increased 25% this quarter",type:"source",connections:[],confidence:.8},{id:"4",title:"Team Feedback",content:"Engineering team needs additional support",type:"source",connections:[],confidence:.75}],k=d.nodes.length>0&&d.reasoning&&h<=4;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-medium text-blue-900",children:"Memory Chain Generation"}),(0,l.jsx)("p",{className:"text-sm text-blue-700",children:"Create reasoning flows in  4 actions"})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-blue-900",children:[h,"/",4]}),(0,l.jsx)("div",{className:"text-xs text-blue-600",children:"actions used"})]})]}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h/4*100}%`}})})})]}),(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),"Select Source Memories"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-3",children:j.map(a=>(0,l.jsx)("button",{onClick:()=>{var b;return b=a.id,void(!(h>=4)&&g(a=>{let c=a.includes(b),d=c?a.filter(a=>a!==b):[...a,b];return c?i(a=>a-1):i(a=>a+1),d}))},disabled:h>=4&&!f.includes(a.id),className:ap("p-3 border-2 rounded-lg text-left transition-all",f.includes(a.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300",h>=4&&!f.includes(a.id)?"opacity-50 cursor-not-allowed":""),children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:a.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.content})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[Math.round(100*a.confidence),"%"]}),f.includes(a.id)&&(0,l.jsx)(gA,{className:"h-4 w-4 text-blue-600"})]})]})},a.id))})]}),f.length>=2&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),"Generate Reasoning"]}),d.reasoning?(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-medium text-green-900 mb-2",children:"AI-Generated Reasoning"}),(0,l.jsx)("p",{className:"text-sm text-green-800 whitespace-pre-line",children:d.reasoning})]}):(0,l.jsxs)("button",{onClick:()=>{if(h>=4)return;let a=j.filter(a=>f.includes(a.id)),b=`Based on the selected memories, I can see a clear pattern:

1. ${a[0]?.title}: ${a[0]?.content}
2. ${a[1]?.title}: ${a[1]?.content}

These memories suggest that we should prioritize hiring to meet increased demand while staying within budget constraints.`;e(c=>({...c,reasoning:b,nodes:a})),i(a=>a+1)},disabled:h>=4,className:"w-full p-4 border-2 border-dashed border-green-300 rounded-lg text-green-700 hover:bg-green-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,l.jsx)(gz,{className:"h-5 w-5"}),"Generate AI Reasoning (",h+1,"/",4,")"]})]}),d.reasoning&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),"Add Conclusion"]}),d.nodes.some(a=>"conclusion"===a.type)?(0,l.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-medium text-purple-900 mb-2",children:"Strategic Conclusion"}),(0,l.jsx)("p",{className:"text-sm text-purple-800",children:d.nodes.find(a=>"conclusion"===a.type)?.content})]}):(0,l.jsxs)("button",{onClick:()=>{if(h>=4)return;let a={id:"conclusion-"+Date.now(),title:"Strategic Recommendation",content:"Hire 2 engineers and 1 designer to support Q4 goals while maintaining budget compliance",type:"conclusion",connections:f,confidence:.85};e(b=>({...b,nodes:[...b.nodes,a],title:"Q4 Hiring Strategy Chain"})),i(a=>a+1)},disabled:h>=4,className:"w-full p-4 border-2 border-dashed border-purple-300 rounded-lg text-purple-700 hover:bg-purple-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,l.jsx)(gl,{className:"h-5 w-5"}),"Add Strategic Conclusion (",h+1,"/",4,")"]})]}),d.nodes.length>0&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-gray-100 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"4"}),"Memory Chain Visualization"]}),(0,l.jsx)("div",{className:"space-y-3",children:d.nodes.map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:ap("w-3 h-3 rounded-full","source"===a.type?"bg-blue-500":"reasoning"===a.type?"bg-green-500":"bg-purple-500")}),(0,l.jsxs)("div",{className:"flex-1 p-3 bg-gray-50 rounded-lg",children:[(0,l.jsx)("h6",{className:"font-medium text-gray-900",children:a.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.content})]}),b<d.nodes.length-1&&(0,l.jsx)(gd,{className:"h-4 w-4 text-gray-400"})]},a.id))})]}),k&&(0,l.jsxs)("button",{onClick:()=>{a({memoryChain:d,actionCount:h}),c()},className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,l.jsx)(gw,{className:"h-5 w-5"}),"Complete Memory Chain (",h,"/",4," actions)"]}),(0,l.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Chain Progress"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("div",{className:ap("w-2 h-2 rounded-full",f.length>=2?"bg-green-500":"bg-gray-300")}),(0,l.jsxs)("span",{className:f.length>=2?"text-green-700":"text-gray-500",children:["Select source memories (",f.length,"/2+)"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("div",{className:ap("w-2 h-2 rounded-full",d.reasoning?"bg-green-500":"bg-gray-300")}),(0,l.jsx)("span",{className:d.reasoning?"text-green-700":"text-gray-500",children:"Generate AI reasoning"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("div",{className:ap("w-2 h-2 rounded-full",d.nodes.some(a=>"conclusion"===a.type)?"bg-green-500":"bg-gray-300")}),(0,l.jsx)("span",{className:d.nodes.some(a=>"conclusion"===a.type)?"text-green-700":"text-gray-500",children:"Add strategic conclusion"})]})]})]})]})}let iM=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}),iN=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))}),iO=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}),iP=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});function iQ(){let{updateWorkflowData:a,nextStep:b,handleAsyncOperation:c,finishWorkflow:d}=(0,ar.j)(),[e,f]=(0,m.useState)([]),[g,h]=(0,m.useState)(!1),[i,j]=(0,m.useState)(new Set),[k,n]=(0,m.useState)(new Map),[o,q]=(0,m.useState)(new Set),r=(0,m.useRef)(null),s={"application/pdf":{icon:gi,label:"PDF Document",color:"text-red-600"},"application/msword":{icon:gi,label:"Word Document",color:"text-blue-600"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{icon:gi,label:"Word Document",color:"text-blue-600"},"text/plain":{icon:gi,label:"Text File",color:"text-gray-600"},"text/markdown":{icon:gi,label:"Markdown File",color:"text-purple-600"},"image/jpeg":{icon:iM,label:"JPEG Image",color:"text-green-600"},"image/png":{icon:iM,label:"PNG Image",color:"text-green-600"},"audio/mpeg":{icon:iN,label:"MP3 Audio",color:"text-orange-600"},"audio/wav":{icon:iN,label:"WAV Audio",color:"text-orange-600"},"video/mp4":{icon:iO,label:"MP4 Video",color:"text-purple-600"},"video/quicktime":{icon:iO,label:"MOV Video",color:"text-purple-600"}},t=(0,m.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?h(!0):"dragleave"===a.type&&h(!1)},[]),u=(0,m.useCallback)(async a=>{a.preventDefault(),a.stopPropagation(),h(!1);let b=Array.from(a.dataTransfer.files);await w(b)},[]),v=async a=>{let b=Array.from(a.target.files||[]);await w(b)},w=async a=>{let b=a.map(a=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:a.name,size:a.size,type:a.type,lastModified:a.lastModified}));for(let c of(f(a=>[...a,...b]),b)){let b=a.find(a=>a.name===c.name&&a.size===c.size);b&&x(c,b)}},x=async(a,b)=>{j(b=>{let c=new Set(b);return c.add(a.id),c});let d=await c(async()=>{let c;if(await new Promise(a=>setTimeout(a,2e3+3e3*Math.random())),a.type.startsWith("text/")||a.type.includes("document")){let d="text/plain"===a.type?await b.text():`Extracted text content from ${a.name}. This would contain the actual document content after OCR/parsing.`;c={title:a.name.replace(/\.[^/.]+$/,""),content:d,metadata:{fileType:"document",wordCount:d.split(" ").length,language:"en",confidence:.92},tags:["document","uploaded","text"],summary:`Document summary: ${d.substring(0,150)}...`}}else if(a.type.startsWith("audio/"))c={title:`Transcript: ${a.name}`,content:`[Transcribed audio content from ${a.name}]

Speaker 1: Welcome to our meeting today.
Speaker 2: Thank you for joining us.
[AI would provide actual transcription here]`,metadata:{fileType:"audio",duration:"15:30",language:"en",confidence:.87},tags:["audio","transcript","meeting"],summary:"Audio transcript covering meeting discussion and key points."};else if(a.type.startsWith("image/"))c={title:`Image Analysis: ${a.name}`,content:`[OCR extracted text from ${a.name}]

Detected text content:
- Visual elements described
- Text extraction results
[AI would provide actual OCR results here]`,metadata:{fileType:"image",language:"en",confidence:.78},tags:["image","ocr","visual"],summary:"Image analysis with extracted text and visual content description."};else if(a.type.startsWith("video/"))c={title:`Video Analysis: ${a.name}`,content:`[Video content analysis from ${a.name}]

Video transcript:
[Extracted audio would be transcribed here]

Visual analysis:
[Scene descriptions and key frames]`,metadata:{fileType:"video",duration:"8:45",language:"en",confidence:.82},tags:["video","multimedia","analysis"],summary:"Video content analysis including transcript and visual elements."};else throw Error(`Unsupported file type: ${a.type}`);return c},`Parse ${a.name}`,{fileName:a.name,fileType:a.type});j(b=>{let c=new Set(b);return c.delete(a.id),c}),d.success&&d.data&&(n(b=>{let c=new Map(b);return c.set(a.id,d.data),c}),q(b=>{let c=new Set(b);return c.add(a.id),c}),aq.oR.success(`Successfully parsed ${a.name}`))};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:ap("border-2 border-dashed rounded-lg p-8 text-center transition-colors",g?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragEnter:t,onDragLeave:t,onDragOver:t,onDrop:u,children:[(0,l.jsx)("input",{ref:r,type:"file",multiple:!0,onChange:v,accept:".pdf,.doc,.docx,.txt,.md,.jpg,.jpeg,.png,.mp3,.wav,.mp4,.mov",className:"hidden"}),(0,l.jsx)(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Files for Auto-Processing"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to browse. Files will be automatically parsed and converted to memories."}),(0,l.jsx)("button",{onClick:()=>r.current?.click(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Choose Files"}),(0,l.jsx)("div",{className:"mt-4 text-sm text-gray-500",children:"Supported: PDF, Word, Text, Markdown, Images (JPG, PNG), Audio (MP3, WAV), Video (MP4, MOV)"})]}),e.length>0&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg overflow-hidden",children:[(0,l.jsxs)("div",{className:"px-6 py-4 border-b bg-gray-50",children:[(0,l.jsx)("h3",{className:"font-medium text-gray-900",children:"Uploaded Files"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.length," file",1!==e.length?"s":""," uploaded ",k.size," processed ",o.size," selected for memory creation"]})]}),(0,l.jsx)("div",{className:"divide-y",children:e.map(a=>{let b=(a=>{let b=s[a];return b?b.icon:gi})(a.type),c=i.has(a.id),d=k.get(a.id),e=o.has(a.id);return(0,l.jsx)("div",{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:ap("w-10 h-10 rounded-lg flex items-center justify-center",d?"bg-green-100":c?"bg-blue-100":"bg-gray-100"),children:c?(0,l.jsx)(gz,{className:"h-5 w-5 text-blue-600 animate-pulse"}):d?(0,l.jsx)(iP,{className:"h-5 w-5 text-green-600"}):(0,l.jsx)(b,{className:ap("h-5 w-5",(a=>{let b=s[a];return b?b.color:"text-gray-600"})(a.type))})}),(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:a.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[(a=>{let b=s[a];return b?b.label:"Unknown File"})(a.type),"  ",(a=>{if(0===a)return"0 B";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["B","KB","MB","GB"][b]})(a.size)]}),c&&(0,l.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-blue-600",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),(0,l.jsx)("span",{children:"Processing file..."})]}),d&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-600 mb-1",children:[(0,l.jsx)(iP,{className:"h-3 w-3"}),(0,l.jsxs)("span",{children:["Parsed successfully  ",Math.round(100*d.metadata.confidence),"% confidence"]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:d.summary}),(0,l.jsx)("div",{className:"flex gap-1 mt-2",children:d.tags.slice(0,3).map(a=>(0,l.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:a},a))})]})]}),d&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{let a=`Title: ${d.title}

Content:
${d.content}

Summary:
${d.summary}

Tags: ${d.tags.join(", ")}`;navigator.clipboard.writeText(a),aq.oR.success("Content copied to clipboard")},className:"p-1 text-gray-400 hover:text-gray-600",title:"Preview content",children:(0,l.jsx)(p,{className:"h-4 w-4"})}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:e,onChange:()=>{var b;return b=a.id,void q(a=>{let c=new Set(a);return c.has(b)?c.delete(b):c.add(b),c})},className:"sr-only"}),(0,l.jsx)("div",{className:ap("w-4 h-4 border-2 rounded flex items-center justify-center",e?"bg-blue-600 border-blue-600":"border-gray-300"),children:e&&(0,l.jsx)(iP,{className:"h-3 w-3 text-white"})})]})]})]})})]})},a.id)})})]}),k.size>0&&(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[o.size," file",1!==o.size?"s":""," selected for memory creation"]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>q(new Set(k.keys())),className:"px-4 py-2 text-sm text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Select All"}),(0,l.jsxs)("button",{onClick:()=>{let b=Array.from(o).map(a=>({id:a,...k.get(a)})).filter(a=>a.title);a({uploadedFiles:e.filter(a=>o.has(a.id)),parsedContent:b,memoryCount:b.length}),aq.oR.success(`Created ${b.length} memories from uploaded files`),d()},disabled:0===o.size,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(gz,{className:"h-4 w-4"}),"Create ",o.size," Memor",1!==o.size?"ies":"y"]})]})]}),(e.length>0||i.size>0)&&(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Processing Statistics"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-blue-600 font-medium",children:e.length}),(0,l.jsx)("div",{className:"text-blue-700",children:"Files Uploaded"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-blue-600 font-medium",children:i.size}),(0,l.jsx)("div",{className:"text-blue-700",children:"Currently Processing"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-blue-600 font-medium",children:k.size}),(0,l.jsx)("div",{className:"text-blue-700",children:"Successfully Parsed"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-blue-600 font-medium",children:o.size}),(0,l.jsx)("div",{className:"text-blue-700",children:"Ready for Memory"})]})]})]})]})}let iR=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}),iS=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}),iT=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))});function iU(){let{updateWorkflowData:a,nextStep:b,finishWorkflow:c,handleAsyncOperation:d}=(0,ar.j)(),[e,f]=(0,m.useState)({title:"",description:"",category:"general",privacy:"private",template:"blank",tags:[],color:"blue",collaborators:[]}),[g,h]=(0,m.useState)("setup"),[i,j]=(0,m.useState)(""),[k,n]=(0,m.useState)(!1),[o]=(0,m.useState)([{id:"blank",name:"Blank Notebook",description:"Start from scratch with a clean notebook",sections:["Notes"],icon:"\uD83D\uDCDD",color:"gray"},{id:"research",name:"Research Project",description:"Organize research with references, findings, and conclusions",sections:["Background","Research Notes","Sources","Analysis","Conclusions"],icon:"\uD83D\uDD0D",color:"blue"},{id:"meeting",name:"Meeting Notes",description:"Structure for meeting documentation and follow-ups",sections:["Agenda","Discussion Points","Decisions","Action Items"],icon:"\uD83E\uDD1D",color:"green"},{id:"learning",name:"Learning Journal",description:"Track learning progress with concepts, examples, and practice",sections:["Key Concepts","Examples","Practice Notes","Questions","Summary"],icon:"\uD83D\uDCDA",color:"purple"},{id:"project",name:"Project Planning",description:"Comprehensive project management and documentation",sections:["Overview","Requirements","Timeline","Resources","Progress","Review"],icon:"\uD83C\uDFAF",color:"orange"}]),q=[{id:"general",name:"General",icon:"\uD83D\uDCC4"},{id:"work",name:"Work",icon:"\uD83D\uDCBC"},{id:"personal",name:"Personal",icon:"\uD83D\uDC64"},{id:"education",name:"Education",icon:"\uD83C\uDF93"},{id:"research",name:"Research",icon:"\uD83D\uDD2C"},{id:"creative",name:"Creative",icon:"\uD83C\uDFA8"}],r=[{id:"blue",name:"Blue",class:"bg-blue-500"},{id:"green",name:"Green",class:"bg-green-500"},{id:"purple",name:"Purple",class:"bg-purple-500"},{id:"orange",name:"Orange",class:"bg-orange-500"},{id:"red",name:"Red",class:"bg-red-500"},{id:"gray",name:"Gray",class:"bg-gray-500"}],s=a=>{a.trim()&&!e.tags.includes(a.trim())&&f(b=>({...b,tags:[...b.tags,a.trim()]}))},t=()=>o.find(a=>a.id===e.template)||o[0],u=e.title.trim()&&e.template;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:["Setup","Template","Content","Sharing"].map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:ap("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",g===a.toLowerCase()?"bg-blue-600 text-white":["setup","template","content","sharing"].indexOf(g)>b?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:["setup","template","content","sharing"].indexOf(g)>b?(0,l.jsx)(gA,{className:"h-4 w-4"}):b+1}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:a}),b<3&&(0,l.jsx)("div",{className:"w-8 h-px bg-gray-300 mx-4"})]},a))}),"setup"===g&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gf,{className:"h-5 w-5 text-blue-600"}),"Notebook Setup"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notebook Title *"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",value:e.title,onChange:a=>f(b=>({...b,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter notebook title..."}),i&&i!==e.title&&(0,l.jsxs)("button",{onClick:()=>f(a=>({...a,title:i})),className:"absolute right-2 top-2 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:['Use: "',i.substring(0,20),'..."']})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("textarea",{value:e.description,onChange:a=>f(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Describe what this notebook will be used for..."}),k&&(0,l.jsxs)("div",{className:"absolute right-2 top-2 flex items-center gap-1 text-xs text-blue-600",children:[(0,l.jsx)(gz,{className:"h-3 w-3 animate-pulse"}),"Generating title..."]})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Adding a description will help generate a smart title suggestion"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:q.map(a=>(0,l.jsxs)("button",{onClick:()=>f(b=>({...b,category:a.id})),className:ap("p-3 border rounded-lg text-sm flex items-center gap-2 transition-colors",e.category===a.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"),children:[(0,l.jsx)("span",{children:a.icon}),a.name]},a.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Privacy"}),(0,l.jsx)("div",{className:"space-y-2",children:[{id:"private",name:"Private",desc:"Only you can access this notebook"},{id:"shared",name:"Shared",desc:"Share with specific people"},{id:"public",name:"Public",desc:"Anyone with the link can view"}].map(a=>(0,l.jsxs)("label",{className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,l.jsx)("input",{type:"radio",name:"privacy",value:a.id,checked:e.privacy===a.id,onChange:a=>f(b=>({...b,privacy:a.target.value})),className:"mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-gray-900",children:a.name}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:a.desc})]})]},a.id))})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{onClick:()=>h("template"),disabled:!e.title.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Template"})})]})]}),"template"===g&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gi,{className:"h-5 w-5 text-blue-600"}),"Choose Template"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(a=>(0,l.jsx)("button",{onClick:()=>f(b=>({...b,template:a.id})),className:ap("p-4 border-2 rounded-lg text-left transition-all",e.template===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"text-2xl",children:a.icon}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:a.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.description}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"Includes sections:"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[a.sections.slice(0,3).map(a=>(0,l.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:a},a)),a.sections.length>3&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",a.sections.length-3," more"]})]})]})]}),e.template===a.id&&(0,l.jsx)(gA,{className:"h-5 w-5 text-blue-600"})]})},a.id))}),e.template&&(0,l.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900 mb-2",children:"Template Preview"}),(0,l.jsx)("div",{className:"space-y-2",children:t().sections.map(a=>(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)(iR,{className:"h-4 w-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-gray-700",children:a})]},a))})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>h("setup"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,l.jsx)("button",{onClick:()=>h("content"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Continue to Content"})]})]})]}),"content"===g&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(iS,{className:"h-5 w-5 text-blue-600"}),"Customize Content"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notebook Color"}),(0,l.jsx)("div",{className:"flex gap-2",children:r.map(a=>(0,l.jsx)("button",{onClick:()=>f(b=>({...b,color:a.id})),className:ap("w-8 h-8 rounded-full border-2 transition-all",a.class,e.color===a.id?"border-gray-800 scale-110":"border-gray-300"),title:a.name},a.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(a=>(0,l.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[a,(0,l.jsx)("button",{onClick:()=>{f(b=>({...b,tags:b.tags.filter(b=>b!==a)}))},className:"text-blue-500 hover:text-blue-700",children:"\xd7"})]},a))}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Add tag...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",onKeyDown:a=>{"Enter"===a.key&&(s(a.currentTarget.value),a.currentTarget.value="")}}),(0,l.jsx)("button",{onClick:a=>{let b=a.currentTarget.previousElementSibling;b?.value&&(s(b.value),b.value="")},className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Add"})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>h("template"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,l.jsx)("button",{onClick:()=>h("sharing"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Continue to Sharing"})]})]})]}),"sharing"===g&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(iT,{className:"h-5 w-5 text-blue-600"}),"Sharing & Collaboration"]}),(0,l.jsxs)("div",{className:"space-y-4",children:["shared"===e.privacy&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collaborators"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("input",{type:"email",placeholder:"Enter email address...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",onKeyDown:a=>{"Enter"===a.key&&a.currentTarget.value&&(f(b=>({...b,collaborators:[...b.collaborators,a.currentTarget.value]})),a.currentTarget.value="")}}),(0,l.jsx)("div",{className:"space-y-1",children:e.collaborators.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,l.jsx)("span",{className:"text-sm text-gray-700",children:a}),(0,l.jsx)("button",{onClick:()=>f(b=>({...b,collaborators:b.collaborators.filter(b=>b!==a)})),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]},a))})]})]}),(0,l.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4",children:[(0,l.jsxs)("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[(0,l.jsx)(p,{className:"h-4 w-4"}),"Notebook Preview"]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:ap("w-4 h-4 rounded",(r.find(a=>a.id===e.color)||r[0]).class)}),(0,l.jsx)("span",{className:"font-medium text-gray-900",children:e.title}),(0,l.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded",children:q.find(a=>a.id===e.category)?.name})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.description||"No description"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,l.jsx)("span",{children:t().name}),(0,l.jsx)("span",{children:""}),(0,l.jsxs)("span",{children:[t().sections.length," sections"]}),(0,l.jsx)("span",{children:""}),(0,l.jsx)("span",{className:"capitalize",children:e.privacy}),e.tags.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:""}),(0,l.jsxs)("span",{children:[e.tags.length," tag",1!==e.tags.length?"s":""]})]})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>h("content"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,l.jsxs)("button",{onClick:()=>{let b=t();a({notebook:{...e,id:`notebook-${Date.now()}`,template:b,createdAt:new Date().toISOString(),sections:b.sections.map(a=>({id:`section-${Date.now()}-${a.toLowerCase().replace(/\s+/g,"-")}`,title:a,content:"",notes:[]}))}}),aq.oR.success(`Created notebook: ${e.title}`),c()},disabled:!u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(gf,{className:"h-4 w-4"}),"Create Notebook"]})]})]})]})]})}let iV=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))});function iW(){let{updateWorkflowData:a,finishWorkflow:b,handleAsyncOperation:c}=(0,ar.j)(),[d,e]=(0,m.useState)({id:`study-set-${Date.now()}`,title:"",description:"",category:"general",cards:[],studyMode:"flashcards",settings:{shuffleCards:!0,showHints:!0,repeatMissed:!0}}),[f,g]=(0,m.useState)("setup"),[h,i]=(0,m.useState)(""),[j,k]=(0,m.useState)(!1),[n,o]=(0,m.useState)({front:"",back:"",hint:""}),[q,r]=(0,m.useState)(0),[s,t]=(0,m.useState)(!1),u=async()=>{if(!h.trim())return;k(!0);let a=await c(async()=>{await new Promise(a=>setTimeout(a,3e3));let a=h.split(/[.!?]+/).filter(a=>a.trim().length>20),b=[];for(let c=0;c<Math.min(a.length,8);c++){let e,f,g,h=a[c].trim();if(h.includes("because")||h.includes("due to")){let a=h.split(/because|due to/i);e=`Why ${a[0].trim().toLowerCase()}?`,f=`Because ${a[1]?.trim()||"of specific reasons mentioned in the content"}`,g="Think about cause and effect relationships"}else if(h.includes("is")||h.includes("are")){let a=h.split(/\bis\b|\bare\b/i);a[0]&&a[1]?(e=`What ${a[0].trim().toLowerCase()}?`,f=a[1].trim(),g="Consider the definition or characteristics"):(e=`Complete: ${h.substring(0,h.length/2)}...`,f=h,g="Think about the complete statement")}else{let a=h.split(" ");if(a.length>5){let b=Math.floor(a.length/2),c=a[b];a[b]="____",e=a.join(" "),f=c,g="Think about what fits in the context"}else e=`What does this statement mean: "${h}"`,f="This refers to the concept explained in the source material",g="Consider the main idea being conveyed"}b.push({id:`card-${Date.now()}-${c}`,front:e,back:f,category:d.category,difficulty:"medium",tags:["auto-generated"],hint:g})}return b},"Generate flashcards from content",{contentLength:h.length});k(!1),a.success&&a.data&&(e(b=>({...b,cards:[...b.cards,...a.data]})),aq.oR.success(`Generated ${a.data.length} flashcards!`))},v=d.title.trim()&&d.cards.length>0;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:["Setup","Content","Preview"].map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:ap("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",f===a.toLowerCase()?"bg-purple-600 text-white":["setup","content","preview"].indexOf(f)>b?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:["setup","content","preview"].indexOf(f)>b?(0,l.jsx)(gA,{className:"h-4 w-4"}):b+1}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:a}),b<2&&(0,l.jsx)("div",{className:"w-8 h-px bg-gray-300 mx-4"})]},a))}),"setup"===f&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gs,{className:"h-5 w-5 text-purple-600"}),"Study Set Setup"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Study Set Title *"}),(0,l.jsx)("input",{type:"text",value:d.title,onChange:a=>e(b=>({...b,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter study set title..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,l.jsx)("textarea",{value:d.description,onChange:a=>e(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Describe what this study set covers..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[{id:"general",name:"General Knowledge",icon:"\uD83D\uDCDA"},{id:"language",name:"Language",icon:"\uD83C\uDF0D"},{id:"science",name:"Science",icon:"\uD83D\uDD2C"},{id:"history",name:"History",icon:"\uD83C\uDFDB"},{id:"math",name:"Mathematics",icon:"\uD83D\uDCD0"},{id:"technology",name:"Technology",icon:"\uD83D\uDCBB"},{id:"business",name:"Business",icon:"\uD83D\uDCBC"},{id:"medical",name:"Medical",icon:"\uD83C\uDFE5"}].map(a=>(0,l.jsxs)("button",{onClick:()=>e(b=>({...b,category:a.id})),className:ap("p-3 border rounded-lg text-sm flex items-center gap-2 transition-colors",d.category===a.id?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-gray-300"),children:[(0,l.jsx)("span",{children:a.icon}),a.name]},a.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Study Mode"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"flashcards",name:"Flashcards",desc:"Classic card review"},{id:"quiz",name:"Quiz Mode",desc:"Multiple choice questions"},{id:"review",name:"Review",desc:"Spaced repetition"}].map(a=>(0,l.jsxs)("label",{className:"flex flex-col p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,l.jsx)("input",{type:"radio",name:"studyMode",value:a.id,checked:d.studyMode===a.id,onChange:a=>e(b=>({...b,studyMode:a.target.value})),className:"sr-only"}),(0,l.jsx)("div",{className:ap("font-medium",d.studyMode===a.id?"text-purple-700":"text-gray-900"),children:a.name}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:a.desc}),d.studyMode===a.id&&(0,l.jsx)(gA,{className:"h-4 w-4 text-purple-600 mt-1 self-end"})]},a.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Study Settings"}),(0,l.jsx)("div",{className:"space-y-2",children:[{key:"shuffleCards",label:"Shuffle cards during study",desc:"Randomize card order"},{key:"showHints",label:"Show hints when available",desc:"Display helpful hints on cards"},{key:"repeatMissed",label:"Repeat missed cards",desc:"Show incorrect answers again"}].map(a=>(0,l.jsxs)("label",{className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,l.jsx)("input",{type:"checkbox",checked:d.settings[a.key],onChange:b=>e(c=>({...c,settings:{...c.settings,[a.key]:b.target.checked}})),className:"mt-0.5"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-gray-900",children:a.label}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:a.desc})]})]},a.key))})]}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{onClick:()=>g("content"),disabled:!d.title.trim(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Content"})})]})]}),"content"===f&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gz,{className:"h-5 w-5 text-purple-600"}),"Auto-Generate from Content"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Content"}),(0,l.jsx)("textarea",{value:h,onChange:a=>i(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:6,placeholder:"Paste your study material here and we'll automatically generate flashcards..."}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"AI will analyze your content and create relevant flashcards automatically"})]}),(0,l.jsx)("button",{onClick:u,disabled:!h.trim()||j,className:"w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(iA,{className:"h-5 w-5 animate-spin"}),"Generating Flashcards..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(gz,{className:"h-5 w-5"}),"Generate Flashcards (Step 1 of 3)"]})})]})]}),(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gl,{className:"h-5 w-5 text-purple-600"}),"Add Manual Cards"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Front (Question) *"}),(0,l.jsx)("textarea",{value:n.front,onChange:a=>o(b=>({...b,front:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Enter the question or prompt..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Back (Answer) *"}),(0,l.jsx)("textarea",{value:n.back,onChange:a=>o(b=>({...b,back:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Enter the answer or explanation..."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hint (Optional)"}),(0,l.jsx)("input",{type:"text",value:n.hint,onChange:a=>o(b=>({...b,hint:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Add a helpful hint..."})]}),(0,l.jsxs)("button",{onClick:()=>{if(!n.front.trim()||!n.back.trim())return void aq.oR.error("Both front and back are required");let a={id:`card-${Date.now()}`,front:n.front.trim(),back:n.back.trim(),hint:n.hint.trim()||void 0,category:d.category,difficulty:"medium",tags:["manual"]};e(b=>({...b,cards:[...b.cards,a]})),o({front:"",back:"",hint:""}),aq.oR.success("Flashcard added!")},disabled:!n.front.trim()||!n.back.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(gl,{className:"h-4 w-4"}),"Add Card"]})]})]}),d.cards.length>0&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,l.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,l.jsx)(gi,{className:"h-5 w-5 text-purple-600"}),"Current Cards (",d.cards.length,")"]})}),(0,l.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.cards.map((a,b)=>(0,l.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Front:"}),(0,l.jsx)("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:a.front})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Back:"}),(0,l.jsx)("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:a.back})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,l.jsxs)("select",{value:a.difficulty,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void e(a=>({...a,cards:a.cards.map(a=>a.id===c?{...a,difficulty:d}:a)}))},className:"text-xs border rounded px-2 py-1",children:[(0,l.jsx)("option",{value:"easy",children:"Easy"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"hard",children:"Hard"})]}),(0,l.jsx)("button",{onClick:()=>{var b;return b=a.id,void(e(a=>({...a,cards:a.cards.filter(a=>a.id!==b)})),aq.oR.success("Flashcard removed"))},className:"text-red-500 hover:text-red-700 p-1",title:"Remove card",children:(0,l.jsx)(iV,{className:"h-4 w-4"})})]})]}),a.hint&&(0,l.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,l.jsx)("strong",{children:"Hint:"})," ",a.hint]})]},a.id))})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>g("setup"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,l.jsx)("button",{onClick:()=>g("preview"),disabled:0===d.cards.length,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Preview"})]})]}),"preview"===f&&d.cards.length>0&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(p,{className:"h-5 w-5 text-purple-600"}),"Study Set Preview"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:d.cards.length}),(0,l.jsx)("div",{className:"text-sm text-purple-700",children:"Total Cards"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:d.cards.filter(a=>"easy"===a.difficulty).length}),(0,l.jsx)("div",{className:"text-sm text-green-700",children:"Easy Cards"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:d.cards.filter(a=>"hard"===a.difficulty).length}),(0,l.jsx)("div",{className:"text-sm text-red-700",children:"Hard Cards"})]})]}),(0,l.jsxs)("div",{className:"border-2 border-purple-200 rounded-lg p-6 bg-purple-50",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h5",{className:"font-medium text-gray-900",children:["Card Preview (",q+1," of ",d.cards.length,")"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>r(Math.max(0,q-1)),disabled:0===q,className:"px-2 py-1 text-sm border rounded disabled:opacity-50",children:"Previous"}),(0,l.jsx)("button",{onClick:()=>r(Math.min(d.cards.length-1,q+1)),disabled:q===d.cards.length-1,className:"px-2 py-1 text-sm border rounded disabled:opacity-50",children:"Next"})]})]}),(0,l.jsx)("div",{className:"bg-white border rounded-lg p-6 min-h-32",children:s?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Back:"}),(0,l.jsx)("div",{className:"text-lg text-gray-900",children:d.cards[q]?.back})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Front:"}),(0,l.jsx)("div",{className:"text-lg text-gray-900",children:d.cards[q]?.front}),d.cards[q]?.hint&&d.settings.showHints&&(0,l.jsxs)("div",{className:"mt-3 text-sm text-gray-600 italic",children:["\uD83D\uDCA1 Hint: ",d.cards[q].hint]})]})}),(0,l.jsx)("div",{className:"flex justify-center mt-4",children:(0,l.jsxs)("button",{onClick:()=>t(!s),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[(0,l.jsx)(iA,{className:"h-4 w-4"}),s?"Show Front":"Show Back"]})})]})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>g("content"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Edit"}),(0,l.jsxs)("button",{onClick:()=>{a({studySet:{...d,createdAt:new Date().toISOString()}}),aq.oR.success(`Created study set with ${d.cards.length} flashcards!`),b()},disabled:!v,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(gs,{className:"h-4 w-4"}),"Create Study Set"]})]})]})]})}let iX=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}),iY=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}),iZ=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))});function i$(){let{updateWorkflowData:a,finishWorkflow:b,handleAsyncOperation:c}=(0,ar.j)(),[d,e]=(0,m.useState)({id:`voice-note-${Date.now()}`,title:"",duration:0,transcript:"",summary:"",tags:[],confidence:0}),[f,g]=(0,m.useState)("record"),[h,i]=(0,m.useState)(!1),[j,k]=(0,m.useState)(!1),[n,o]=(0,m.useState)(!1),[p,q]=(0,m.useState)(!1),[r,s]=(0,m.useState)(0),t=(0,m.useRef)(null),u=(0,m.useRef)(null),v=(0,m.useRef)(null),w=(0,m.useRef)(null),x=async()=>{try{let a=await navigator.mediaDevices.getUserMedia({audio:!0});v.current=a;let b=new MediaRecorder(a);t.current=b;let c=[];b.ondataavailable=a=>{c.push(a.data)},b.onstop=()=>{let a=new Blob(c,{type:"audio/wav"}),b=URL.createObjectURL(a);e(c=>({...c,audioBlob:a,audioUrl:b,duration:r}))},b.start(),i(!0),s(0),w.current=setInterval(()=>{s(a=>a+1)},1e3),aq.oR.success("Recording started")}catch(a){aq.oR.error("Failed to access microphone")}},y=async()=>{if(!d.audioBlob)return;o(!0);let a=await c(async()=>(await new Promise(a=>setTimeout(a,4e3)),{transcript:`Speaker 1: Welcome to our meeting today. I'd like to discuss the quarterly results and our plans for the next phase.

Speaker 2: Thank you for organizing this. I've been looking at the numbers and we're showing strong growth in the mobile segment.

Speaker 1: That's excellent news. Can you share more details about the mobile metrics?

Speaker 2: Certainly. We've seen a 35% increase in mobile engagement and our conversion rates have improved by 12% compared to last quarter.

Speaker 1: Those are impressive results. What do you think is driving this improvement?

Speaker 2: I believe it's the combination of our new UI updates and the enhanced onboarding flow we implemented.`,speakers:[{id:"speaker-1",name:"Speaker 1",segments:[{start:0,end:8,text:"Welcome to our meeting today. I'd like to discuss the quarterly results and our plans for the next phase."},{start:15,end:22,text:"That's excellent news. Can you share more details about the mobile metrics?"},{start:35,end:42,text:"Those are impressive results. What do you think is driving this improvement?"}]},{id:"speaker-2",name:"Speaker 2",segments:[{start:8,end:15,text:"Thank you for organizing this. I've been looking at the numbers and we're showing strong growth in the mobile segment."},{start:22,end:35,text:"Certainly. We've seen a 35% increase in mobile engagement and our conversion rates have improved by 12% compared to last quarter."},{start:42,end:50,text:"I believe it's the combination of our new UI updates and the enhanced onboarding flow we implemented."}]}],confidence:.89,title:`Meeting Notes - ${new Date().toLocaleDateString()}`}),"Transcribe audio with speaker detection",{duration:d.duration});if(o(!1),a.success&&a.data){let b=a.data;e(a=>({...a,transcript:b.transcript,speakers:b.speakers,confidence:b.confidence,title:b.title})),aq.oR.success("Transcription completed with speaker detection!"),g("enhance")}},z=async()=>{if(!d.transcript)return;q(!0);let a=await c(async()=>(await new Promise(a=>setTimeout(a,2500)),{summary:"Meeting focused on quarterly results review with strong mobile segment performance. Key highlights include 35% increase in mobile engagement, 12% improvement in conversion rates, driven by UI updates and enhanced onboarding flow. Discussion covered growth metrics and strategic improvements for mobile platform.",tags:["meeting","quarterly-results","mobile-growth","conversion-rates","ui-updates","business-review"],title:d.title||`Enhanced Voice Note - ${new Date().toLocaleDateString()}`}),"AI-powered enhancement and formatting",{transcriptLength:d.transcript.length});if(q(!1),a.success&&a.data){let b=a.data;e(a=>({...a,summary:b.summary,tags:b.tags,title:b.title})),aq.oR.success("Voice note enhanced!")}},A=a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`};return d.audioUrl||d.transcript,(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:["Record","Transcribe","Enhance"].map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:ap("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",f===a.toLowerCase()?"bg-purple-600 text-white":["record","transcribe","enhance"].indexOf(f)>b?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:["record","transcribe","enhance"].indexOf(f)>b?(0,l.jsx)(gA,{className:"h-4 w-4"}):b+1}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:a}),b<2&&(0,l.jsx)("div",{className:"w-8 h-px bg-gray-300 mx-4"})]},a))}),"record"===f&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gh,{className:"h-5 w-5 text-purple-600"}),"Record Voice Note"]}),(0,l.jsxs)("div",{className:"text-center space-y-6",children:[(0,l.jsx)("div",{className:"flex justify-center",children:h?(0,l.jsx)("button",{onClick:()=>{t.current&&h&&(t.current.stop(),i(!1),w.current&&clearInterval(w.current),v.current&&v.current.getTracks().forEach(a=>a.stop()),aq.oR.success("Recording stopped"),setTimeout(()=>g("transcribe"),1e3))},className:"w-24 h-24 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center transition-colors animate-pulse",children:(0,l.jsx)(iX,{className:"h-12 w-12 text-white"})}):(0,l.jsx)("button",{onClick:x,disabled:void 0!==d.audioUrl,className:"w-24 h-24 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 rounded-full flex items-center justify-center transition-colors",children:(0,l.jsx)(gh,{className:"h-12 w-12 text-white"})})}),(0,l.jsx)("div",{children:h?(0,l.jsxs)("div",{className:"text-lg font-medium text-red-600 flex items-center justify-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-600 rounded-full animate-pulse"}),"Recording: ",A(r)]}):d.audioUrl?(0,l.jsxs)("div",{className:"text-lg font-medium text-green-600 flex items-center justify-center gap-2",children:[(0,l.jsx)(gA,{className:"h-5 w-5"}),"Recording Complete: ",A(d.duration)]}):(0,l.jsx)("div",{className:"text-lg font-medium text-gray-600",children:"Press to start recording"})}),d.audioUrl&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("audio",{ref:u,src:d.audioUrl,onEnded:()=>k(!1),onPlay:()=>k(!0),onPause:()=>k(!1)}),(0,l.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,l.jsxs)("button",{onClick:()=>{u.current&&d.audioUrl&&(j?(u.current.pause(),k(!1)):(u.current.play(),k(!0)))},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[j?(0,l.jsx)(iY,{className:"h-4 w-4"}):(0,l.jsx)(iF,{className:"h-4 w-4"}),j?"Pause":"Play"]}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["Duration: ",A(d.duration)]})]}),(0,l.jsx)("button",{onClick:()=>g("transcribe"),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Continue to Transcription"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 max-w-md mx-auto",children:"Record your voice note by speaking clearly. The recording will be automatically transcribed and enhanced with AI."})]})]}),"transcribe"===f&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gi,{className:"h-5 w-5 text-purple-600"}),"Transcribe Audio"]}),(0,l.jsx)("div",{className:"space-y-4",children:d.transcript?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(gA,{className:"h-4 w-4 text-green-600"}),(0,l.jsxs)("span",{className:"font-medium text-green-900",children:["Transcription Complete (",Math.round(100*d.confidence),"% confidence)"]})]}),d.speakers&&d.speakers.length>1&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(gq,{className:"h-4 w-4 text-blue-600"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["Speaker Detection: ",d.speakers.length," speakers identified"]})]}),(0,l.jsx)("div",{className:"flex gap-2",children:d.speakers.map(a=>(0,l.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[(0,l.jsx)(iZ,{className:"h-3 w-3"}),a.name]},a.id))})]}),(0,l.jsx)("div",{className:"max-h-40 overflow-y-auto",children:(0,l.jsx)("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:d.transcript})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>g("record"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Recording"}),(0,l.jsx)("button",{onClick:()=>g("enhance"),className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Continue to Enhancement"})]})]}):(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("div",{className:"text-gray-600",children:"Convert your recording to text with AI-powered transcription and speaker detection."}),(0,l.jsx)("button",{onClick:y,disabled:n,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(gy,{className:"h-4 w-4 animate-spin"}),"Transcribing with AI..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(gz,{className:"h-4 w-4"}),"Start Transcription"]})}),n&&(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Analyzing audio, detecting speakers, and generating transcript..."})]})})]}),"enhance"===f&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gz,{className:"h-5 w-5 text-purple-600"}),"AI Enhancement"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,l.jsx)("input",{type:"text",value:d.title,onChange:a=>e(b=>({...b,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter a title for your voice note..."})]}),d.summary?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Summary"}),(0,l.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,l.jsx)("div",{className:"text-sm text-green-800",children:d.summary})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Smart Tags"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:d.tags.map(a=>(0,l.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:a},a))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Transcript"}),(0,l.jsx)("div",{className:"bg-gray-50 border rounded-lg p-3 max-h-40 overflow-y-auto",children:(0,l.jsx)("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:d.transcript})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>g("transcribe"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Transcript"}),(0,l.jsxs)("button",{onClick:()=>{a({voiceNote:{...d,createdAt:new Date().toISOString()}}),aq.oR.success("Voice note created successfully!"),b()},disabled:!d.title.trim(),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(gA,{className:"h-4 w-4"}),"Complete Voice Note"]})]})]}):(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("div",{className:"text-gray-600",children:"Enhance your voice note with AI-powered summarization and smart tagging."}),(0,l.jsx)("button",{onClick:z,disabled:p,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto",children:p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(gy,{className:"h-4 w-4 animate-spin"}),"Enhancing with AI..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(gz,{className:"h-4 w-4"}),"Enhance Voice Note"]})})]})]})]})]})}let i_=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});function i0(){let{updateWorkflowData:a,finishWorkflow:b,handleAsyncOperation:c}=(0,ar.j)(),[d,e]=(0,m.useState)({id:`kb-${Date.now()}`,title:"",description:"",sources:[],categories:["general"],totalDocuments:0,isPublic:!1}),[f,g]=(0,m.useState)("setup"),[h,i]=(0,m.useState)(!1),[j,k]=(0,m.useState)(new Set),[n,o]=(0,m.useState)(new Set),[q,r]=(0,m.useState)(""),s=(0,m.useRef)(null),t={"application/pdf":{icon:gi,label:"PDF Document",color:"text-red-600"},"application/msword":{icon:gi,label:"Word Document",color:"text-blue-600"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{icon:gi,label:"Word Document",color:"text-blue-600"},"text/plain":{icon:gi,label:"Text File",color:"text-gray-600"},"text/markdown":{icon:gi,label:"Markdown File",color:"text-purple-600"}},u=(0,m.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?i(!0):"dragleave"===a.type&&i(!1)},[]),v=(0,m.useCallback)(async a=>{a.preventDefault(),a.stopPropagation(),i(!1);let b=Array.from(a.dataTransfer.files);await x(b)},[]),w=async a=>{let b=Array.from(a.target.files||[]);await x(b)},x=async a=>{for(let b of a){let a={id:`source-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:b.name,type:b.name.split(".").pop()?.toLowerCase()||"txt",size:b.size,content:"",extractedData:{title:b.name.replace(/\.[^/.]+$/,""),summary:"",keyTopics:[],wordCount:0,sections:[]},tags:[],category:"general",searchable:!0,processed:!1};e(b=>({...b,sources:[...b.sources,a]})),y(a,b)}},y=async(a,b)=>{k(b=>{let c=new Set(b);return c.add(a.id),c});let d=await c(async()=>{let c;await new Promise(a=>setTimeout(a,2e3+3e3*Math.random()));let d="";return"pdf"===a.type?(d=`[Extracted PDF content from ${a.name}]

This document contains detailed information about knowledge management systems and best practices for document organization.

SECTION 1: Introduction to Knowledge Management
Knowledge management is the process of creating, sharing, using and managing the knowledge and information of an organization...

SECTION 2: Document Classification Systems
Effective classification enables quick retrieval and proper categorization of documents based on content, purpose, and audience...

SECTION 3: Search and Discovery
Modern knowledge bases implement semantic search capabilities that understand context and meaning beyond keyword matching...`,c={title:`Knowledge Management Guide - ${a.name.replace(".pdf","")}`,summary:"Comprehensive guide covering knowledge management systems, document classification, and search optimization for organizational knowledge bases.",keyTopics:["knowledge management","document classification","semantic search","information architecture","content organization"],pageCount:45,wordCount:12500,sections:[{title:"Introduction to Knowledge Management",content:"Overview of KM principles and methodologies",page:1},{title:"Document Classification Systems",content:"Taxonomies and categorization strategies",page:15},{title:"Search and Discovery",content:"Semantic search and findability techniques",page:28}]}):"docx"===a.type||"doc"===a.type?(d=`[Extracted Word document content from ${a.name}]

PROJECT PROPOSAL: Enterprise Knowledge Portal

EXECUTIVE SUMMARY
This proposal outlines the development of a centralized knowledge portal to improve information sharing and collaboration across departments.

OBJECTIVES
- Centralize scattered documentation
- Improve search and discovery capabilities  
- Enable collaborative content creation
- Establish knowledge retention processes

TECHNICAL REQUIREMENTS
- Document management system with version control
- Full-text search with advanced filtering
- User access controls and permissions
- Integration with existing tools and workflows`,c={title:`Project Proposal - ${a.name.replace(/\.(docx?)/g,"")}`,summary:"Enterprise knowledge portal proposal covering centralized documentation, search capabilities, and collaborative features for organizational knowledge sharing.",keyTopics:["project proposal","knowledge portal","document management","collaboration","enterprise systems"],wordCount:3200,sections:[{title:"Executive Summary",content:"High-level project overview and goals"},{title:"Objectives",content:"Specific aims and success criteria"},{title:"Technical Requirements",content:"System specifications and integration needs"}]}):(d=await b.text(),c={title:a.name.replace(/\.(txt|md)$/g,""),summary:`Text document containing ${Math.floor(d.length/5)} words of content. ${d.includes("\n#")?"Contains structured headings and sections.":"Plain text format."}`,keyTopics:["text document","notes","reference"],wordCount:d.split(/\s+/).length,sections:d.includes("\n#")?[{title:"Main Content",content:"Structured document with multiple sections"}]:[{title:"Content",content:"Plain text content"}]}),{content:d,extractedData:c,tags:["uploaded","document",a.type],category:d.toLowerCase().includes("project")?"business":d.toLowerCase().includes("guide")||d.toLowerCase().includes("manual")?"documentation":d.toLowerCase().includes("policy")?"policies":"general"}},`Process knowledge source: ${a.name}`,{fileName:a.name,fileSize:a.size});if(k(b=>{let c=new Set(b);return c.delete(a.id),c}),d.success&&d.data){let b=d.data;e(c=>({...c,sources:c.sources.map(c=>c.id===a.id?{...c,content:b.content,extractedData:b.extractedData,tags:b.tags,category:b.category,processed:!0}:c)})),aq.oR.success(`Processed ${a.name}`)}},z=d.sources.filter(a=>a.name.toLowerCase().includes(q.toLowerCase())||a.extractedData.title.toLowerCase().includes(q.toLowerCase())||a.extractedData.keyTopics.some(a=>a.toLowerCase().includes(q.toLowerCase()))),A=d.title.trim()&&d.sources.length>0;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:["Setup","Upload","Organize","Review"].map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:ap("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",f===a.toLowerCase()?"bg-blue-600 text-white":["setup","upload","organize","review"].indexOf(f)>b?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:["setup","upload","organize","review"].indexOf(f)>b?(0,l.jsx)(gA,{className:"h-4 w-4"}):b+1}),(0,l.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:a}),b<3&&(0,l.jsx)("div",{className:"w-8 h-px bg-gray-300 mx-4"})]},a))}),"setup"===f&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gf,{className:"h-5 w-5 text-blue-600"}),"Knowledge Base Setup"]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Knowledge Base Title *"}),(0,l.jsx)("input",{type:"text",value:d.title,onChange:a=>e(b=>({...b,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter knowledge base title..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,l.jsx)("textarea",{value:d.description,onChange:a=>e(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Describe what this knowledge base contains..."})]}),(0,l.jsx)("div",{children:(0,l.jsxs)("label",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{type:"checkbox",checked:d.isPublic,onChange:a=>e(b=>({...b,isPublic:a.target.checked})),className:"rounded"}),(0,l.jsx)("span",{className:"text-sm text-gray-700",children:"Make this knowledge base publicly searchable"})]})}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{onClick:()=>g("upload"),disabled:!d.title.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Upload"})})]})]}),"upload"===f&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(gr,{className:"h-5 w-5 text-blue-600"}),"Upload Knowledge Sources"]}),(0,l.jsxs)("div",{className:ap("border-2 border-dashed rounded-lg p-8 text-center transition-colors",h?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:v,children:[(0,l.jsx)("input",{ref:s,type:"file",multiple:!0,onChange:w,accept:".pdf,.doc,.docx,.txt,.md",className:"hidden"}),(0,l.jsx)(gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Knowledge Documents"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag and drop your PDFs, Word documents, and notes here, or click to browse."}),(0,l.jsx)("button",{onClick:()=>s.current?.click(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Choose Files"}),(0,l.jsx)("div",{className:"mt-4 text-sm text-gray-500",children:"Supported: PDF, Word Documents (.doc, .docx), Text Files (.txt, .md)"})]})]}),d.sources.length>0&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4",children:["Uploaded Sources (",d.sources.length,")"]}),(0,l.jsx)("div",{className:"space-y-3",children:d.sources.map(a=>{let b=(a=>{let b=t[`text/${a}`];return b?b.icon:gi})(a.type),c=j.has(a.id);return(0,l.jsx)("div",{className:"border rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:ap("w-10 h-10 rounded-lg flex items-center justify-center",a.processed?"bg-green-100":c?"bg-blue-100":"bg-gray-100"),children:c?(0,l.jsx)(gz,{className:"h-5 w-5 text-blue-600 animate-pulse"}):a.processed?(0,l.jsx)(gA,{className:"h-5 w-5 text-green-600"}):(0,l.jsx)(b,{className:"h-5 w-5 text-gray-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900",children:a.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[a.type.toUpperCase(),"  ",(a=>{if(0===a)return"0 B";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["B","KB","MB","GB"][b]})(a.size)]}),c&&(0,l.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-blue-600",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),(0,l.jsx)("span",{children:"Processing document..."})]}),a.processed&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsxs)("div",{className:"text-sm text-green-600 mb-1",children:[" Processed  ",a.extractedData.wordCount.toLocaleString()," words"]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.extractedData.summary})]})]})]})},a.id)})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>g("setup"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,l.jsx)("button",{onClick:()=>g("organize"),disabled:0===d.sources.filter(a=>a.processed).length,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue to Organization"})]})]}),"organize"===f&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(iR,{className:"h-5 w-5 text-blue-600"}),"Organize Knowledge Sources"]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:d.categories.map(a=>(0,l.jsxs)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center gap-1",children:[a,"general"!==a&&(0,l.jsx)("button",{onClick:()=>{e(b=>({...b,categories:b.categories.filter(b=>b!==a)}))},className:"text-blue-500 hover:text-blue-700",children:(0,l.jsx)(iz,{className:"h-3 w-3"})})]},a))}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsxs)("select",{onChange:a=>{var b;return a.target.value&&void((b=a.target.value).trim()&&!d.categories.includes(b.trim())&&e(a=>({...a,categories:[...a.categories,b.trim()]})))},value:"",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[(0,l.jsx)("option",{value:"",children:"Add predefined category..."}),["general","research","documentation","legal","technical","business","education","reference","policies","procedures","templates","guides"].filter(a=>!d.categories.includes(a)).map(a=>(0,l.jsx)("option",{value:a,children:a},a))]})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Sources"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(i_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,l.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by filename, title, or topics..."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h5",{className:"font-medium text-gray-900 mb-3",children:["Organize Sources (",z.length,")"]}),(0,l.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:z.map(a=>(0,l.jsx)("div",{className:"border rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h6",{className:"font-medium text-gray-900",children:a.extractedData.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.extractedData.summary}),a.extractedData.keyTopics.length>0&&(0,l.jsxs)("div",{className:"flex gap-1 mt-2",children:[a.extractedData.keyTopics.slice(0,3).map(a=>(0,l.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:a},a)),a.extractedData.keyTopics.length>3&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",a.extractedData.keyTopics.length-3," more"]})]})]}),(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)("select",{value:a.category,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void e(a=>({...a,sources:a.sources.map(a=>a.id===c?{...a,category:d}:a)}))},className:"text-sm border rounded px-2 py-1",children:d.categories.map(a=>(0,l.jsx)("option",{value:a,children:a},a))})})]})},a.id))})]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>g("upload"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,l.jsx)("button",{onClick:()=>g("review"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Continue to Review"})]})]}),"review"===f&&(0,l.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,l.jsx)(p,{className:"h-5 w-5 text-blue-600"}),"Review Knowledge Base"]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,l.jsx)("h5",{className:"font-medium text-blue-900 mb-2",children:"Knowledge Base Overview"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.sources.filter(a=>a.processed).length}),(0,l.jsx)("div",{className:"text-sm text-blue-700",children:"Documents"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.sources.reduce((a,b)=>a+b.extractedData.wordCount,0).toLocaleString()}),(0,l.jsx)("div",{className:"text-sm text-blue-700",children:"Total Words"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.categories.length}),(0,l.jsx)("div",{className:"text-sm text-blue-700",children:"Categories"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.isPublic?"Public":"Private"}),(0,l.jsx)("div",{className:"text-sm text-blue-700",children:"Visibility"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"font-medium text-gray-900 mb-3",children:"Categories & Distribution"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:d.categories.map(a=>{let b=d.sources.filter(b=>b.category===a).length;return(0,l.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-3 text-center",children:[(0,l.jsx)("div",{className:"font-medium text-gray-900 capitalize",children:a}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[b," document",1!==b?"s":""]})]},a)})})]}),(0,l.jsx)("div",{className:"border-t pt-6",children:(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("button",{onClick:()=>g("organize"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Organization"}),(0,l.jsxs)("button",{onClick:()=>{let c=d.sources.filter(a=>a.processed);a({knowledgeBase:{...d,sources:c,totalDocuments:c.length,createdAt:new Date().toISOString()}}),aq.oR.success(`Created knowledge base with ${c.length} sources!`),b()},disabled:!A,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,l.jsx)(gf,{className:"h-4 w-4"}),"Create Knowledge Base"]})]})})]})]})]})}let i1=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}),i2=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}),i3=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});function i4(){let{nextStep:a,addError:b,updateWorkflowData:c}=(0,ar.j)(),[d,e]=(0,m.useState)(!1),[f,g]=(0,m.useState)(!1),[h,i]=(0,m.useState)(0),[j,k]=(0,m.useState)(0),[n,o]=(0,m.useState)(0),[p,q]=(0,m.useState)([]),[r,s]=(0,m.useState)([{id:"speaker1",name:"Speaker 1",color:"bg-blue-500",segments:0,totalDuration:0,averageConfidence:0},{id:"speaker2",name:"Speaker 2",color:"bg-green-500",segments:0,totalDuration:0,averageConfidence:0},{id:"speaker3",name:"Speaker 3",color:"bg-purple-500",segments:0,totalDuration:0,averageConfidence:0}]),[t,u]=(0,m.useState)([]),[v,w]=(0,m.useState)(!1),[x,y]=(0,m.useState)(""),[z,A]=(0,m.useState)(new Date),[B,C]=(0,m.useState)(.7),[D,E]=(0,m.useState)(!0),[F,G]=(0,m.useState)(new Date),[H,I]=(0,m.useState)(!1),[J,K]=(0,m.useState)(null),[L,M]=(0,m.useState)({overall:0,bySpeaker:{},recentChanges:[]}),[N,O]=(0,m.useState)([]),[P,Q]=(0,m.useState)([]),[R,S]=(0,m.useState)([]),T=(0,m.useRef)(null),U=(0,m.useRef)([]),V=(0,m.useRef)(null),W=(0,m.useRef)(null),X=(0,m.useRef)(null),Y=a=>{let b=Math.floor(a/60),c=Math.floor(a%60);return`${b}:${c.toString().padStart(2,"0")}`},Z=(0,m.useCallback)(()=>{let a={segments:p,speakers:r,bookmarks:t,timestamp:new Date().toISOString()};localStorage.setItem("voice-transcript-autosave",JSON.stringify(a)),A(new Date),c(a)},[p,r,t,c]),$=a=>{let b=["good","great","excellent","happy","love","amazing","wonderful","fantastic","perfect","awesome"],c=["bad","terrible","awful","hate","horrible","disappointing","frustrated","angry","sad","worried"],d=["what","how","when","where","why","who","can","could","would","should"],e=["urgent","emergency","asap","immediately","critical","important","quick","fast","now","help"],f=["thank","thanks","appreciate","grateful","excellent","outstanding","impressed"],g=["problem","issue","wrong","broken","error","bug","complaint","dissatisfied"],h=a.toLowerCase().split(/\s+/),i=0,j={happy:0,angry:0,worried:0,confused:0,excited:0,neutral:0},k={request:0,complaint:0,praise:0,confusion:0,urgency:0,neutral:0};h.forEach(a=>{b.includes(a)&&(i+=.1,j.happy++),c.includes(a)&&(i-=.1,j.angry++),d.includes(a)&&(j.confused++,k.confusion++),e.includes(a)&&(j.excited++,k.urgency++),f.includes(a)&&(k.praise++,j.happy++),g.includes(a)&&(k.complaint++,j.angry++)}),i=Math.max(-1,Math.min(1,i));let l=Object.entries(j).reduce((a,b)=>j[a[0]]>j[b[0]]?a:b)[0],m=Object.entries(k).reduce((a,b)=>k[a[0]]>k[b[0]]?a:b)[0];return{sentiment:i,emotion:l,intent:m}},_=async()=>{try{y("Requesting microphone access...");let a=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}}),b=new MediaRecorder(a,{mimeType:"audio/webm;codecs=opus"});T.current=b,U.current=[],b.ondataavailable=a=>{a.data.size>0&&(U.current.push(a.data),aa(a.data))},b.onstop=()=>{let a=new Blob(U.current,{type:"audio/webm"});ac(a)},b.start(1e3),e(!0),o(0),y("Recording and transcribing...")}catch(a){b({id:"recording-error",type:"permission",step:"start-recording",message:"Failed to access microphone. Please check permissions.",timestamp:new Date().toISOString(),recoverable:!1,retryCount:0,maxRetries:0,context:{error:a instanceof Error?a.message:String(a)}})}},aa=(0,m.useCallback)(a=>{setTimeout(()=>{let a=["Thank you for joining today's meeting.","Let's start by reviewing our quarterly progress.","The metrics show significant improvement this quarter.","We need to discuss the upcoming project timeline.","I have some questions about the implementation strategy.","Could you elaborate on that point?","I think we should consider alternative approaches.","The deadline seems aggressive given our current resources."],b=a[Math.floor(Math.random()*a.length)],c=Math.random()>.5?"speaker1":"speaker2",d=.75+.2*Math.random(),e=.8+.15*Math.random();if(d>=B){let a=b.toLowerCase().replace(/[.,!?]/g,""),f=ab(a),g=3+4*Math.random(),h=$(f),i={id:`segment-${Date.now()}`,speaker:c,speakerConfidence:e,startTime:n-g,endTime:n,text:f,confidence:d,isLive:!0,punctuationCorrected:!0,originalText:a,sentimentScore:h.sentiment,emotionalTone:h.emotion,intentCategory:h.intent};q(a=>[...a,i]),s(a=>a.map(a=>{if(a.id===c){let b=a.segments+1,c=a.totalDuration+g,d=(a.averageConfidence*a.segments+e)/b;return{...a,segments:b,totalDuration:c,averageConfidence:d}}return a}))}},800)},[n,B]),ab=a=>{let b=a.charAt(0).toUpperCase()+a.slice(1);return b=(b=b.replace(/\b(however|therefore|meanwhile|furthermore)\b/gi,". $1")).replace(/\b(what|how|why|when|where|who|could|would|should|can|will|do|does|did|is|are|was|were)\b([^.!?]*?)$/gi,"$1$2?"),/[.!?]$/.test(b)||(b+="."),b},ac=async a=>{w(!0),y("Running Whisper model locally..."),setTimeout(()=>{q(a=>a.map(a=>({...a,isLive:!1,confidence:Math.min(a.confidence+.1,1)}))),w(!1),y("Transcription complete!"),Z()},Math.min(.3*j,3e4))},ad=(0,m.useCallback)(()=>{let a=d?n:h,b={id:`bookmark-${Date.now()}`,timestamp:a,label:`Bookmark at ${Y(a)}`};if(u(a=>[...a,b]),p.length>0){let a=p[p.length-1];q(b=>b.map(b=>b.id===a.id?{...b,isBookmarked:!0}:b))}},[d,n,h,p]),ae=a=>{V.current&&(V.current.currentTime=a,i(a))};return(0,l.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Voice Transcription"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Record live audio or upload files for real-time AI transcription with Whisper"})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(i1,{className:"h-5 w-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:d?"Live Recording":v?"Processing":"Ready"})]}),x&&(0,l.jsx)("span",{className:"text-sm text-gray-600",children:x})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,l.jsxs)("span",{children:["Auto-saved: ",Y(Math.floor((Date.now()-z.getTime())/1e3))," ago"]}),(0,l.jsxs)("span",{children:["Confidence: ",Math.floor(100*B),"%+"]})]})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,l.jsx)(gh,{className:"h-5 w-5 mr-2"}),"Audio Input"]}),d&&(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,l.jsx)("span",{className:"font-mono",children:Y(n)})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Live Recording"}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[d?(0,l.jsxs)("button",{onClick:()=>{T.current&&d&&(T.current.stop(),T.current.stream.getTracks().forEach(a=>a.stop()),e(!1),y("Processing final audio..."))},className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,l.jsx)(iX,{className:"h-4 w-4 mr-2"}),"Stop Recording"]}):(0,l.jsxs)("button",{onClick:_,disabled:v,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[(0,l.jsx)(gh,{className:"h-4 w-4 mr-2"}),"Start Recording"]}),(0,l.jsxs)("button",{onClick:ad,disabled:!d,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",title:"Ctrl+B",children:[(0,l.jsx)(i2,{className:"h-4 w-4 mr-2"}),"Bookmark"]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Upload Audio/Video"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[(0,l.jsx)("input",{ref:X,type:"file",accept:"audio/*,video/*,.mp3,.wav,.m4a,.mp4,.mov,.webm",onChange:a=>{let c=a.target.files?.[0];if(!c)return;if(!c.type.match(/(audio|video)\/(mp3|wav|m4a|mp4|mov|webm)/))return void b({id:"unsupported-format",type:"validation",step:"file-upload",message:"Unsupported file format. Please use MP3, WAV, M4A, MP4, MOV, or WebM.",timestamp:new Date().toISOString(),recoverable:!0,retryCount:0,maxRetries:1});y(`Processing ${c.name}...`),w(!0);let d=URL.createObjectURL(c);V.current&&(V.current.src=d,V.current.load()),setTimeout(()=>{var a=c;let b=Math.min(a.size/1e5,600);setTimeout(()=>{let a=["Welcome everyone to today's presentation. We have several important topics to cover.","Thank you for the introduction. I'm excited to share our recent findings with the team.","Let's begin with the quarterly metrics. As you can see on slide one, we've exceeded our targets."].map((a,b)=>{let c=$(a);return{id:`upload-${b+1}`,speaker:b%2==0?"speaker1":"speaker2",startTime:15*b,endTime:(b+1)*15,text:a,confidence:.92-.02*b,isLive:!1,speakerConfidence:.9-.02*b,punctuationCorrected:!0,originalText:a.toLowerCase(),sentimentScore:c.sentiment,emotionalTone:c.emotion,intentCategory:c.intent}});q(a),k(b),w(!1),y("File processed successfully!"),s(b=>b.map(b=>({...b,segments:a.filter(a=>a.speaker===b.id).length})))},Math.min(.3*b,3e4))},2e3)},className:"hidden"}),(0,l.jsxs)("button",{onClick:()=>X.current?.click(),disabled:d||v,className:"flex items-center justify-center w-full px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 transition-colors",children:[(0,l.jsx)(i3,{className:"h-5 w-5 mr-2"}),"Upload File (MP3, WAV, M4A, MP4, MOV)"]})]})]})]})]}),j>0&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,l.jsx)(gq,{className:"h-5 w-5 mr-2"}),"Playback"]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,l.jsx)(gy,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:[Y(h)," / ",Y(j)]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("button",{onClick:()=>{V.current&&(f?V.current.pause():V.current.play(),g(!f))},className:"flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:f?(0,l.jsx)(iY,{className:"h-5 w-5"}):(0,l.jsx)(iF,{className:"h-5 w-5 ml-1"})}),(0,l.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2 cursor-pointer",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h/j*100}%`}})})]}),(0,l.jsx)("audio",{ref:V,onTimeUpdate:a=>i(a.target.currentTime),onLoadedMetadata:a=>k(a.target.duration),className:"hidden"})]}),r.some(a=>a.segments>0)&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,l.jsx)(iZ,{className:"h-5 w-5 mr-2"}),"Speaker Identification & Analytics"]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Speakers"}),r.filter(a=>a.segments>0).map(a=>(0,l.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:`w-4 h-4 rounded-full ${a.color}`}),(0,l.jsx)("input",{type:"text",value:a.name,onChange:b=>s(c=>c.map(c=>c.id===a.id?{...c,name:b.target.value}:c)),className:"flex-1 px-2 py-1 border-b border-gray-300 focus:border-blue-500 focus:outline-none"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:a.segments})," segments"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium",children:Y(a.totalDuration)})," duration"]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{className:"font-medium",children:[Math.round(100*a.averageConfidence),"%"]})," ID confidence"]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{className:"font-medium",children:[Math.round(a.totalDuration/p.reduce((a,b)=>a+(b.endTime-b.startTime),0)*100),"%"]})," talk time"]})]})]},a.id))]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Talk Time Distribution"}),(0,l.jsx)("div",{className:"space-y-2",children:r.filter(a=>a.segments>0).map(a=>{let b=r.reduce((a,b)=>a+b.totalDuration,0),c=b>0?a.totalDuration/b*100:0;return(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:`w-3 h-3 rounded-full ${a.color}`}),(0,l.jsx)("span",{children:a.name})]}),(0,l.jsxs)("span",{children:[Math.round(c),"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:`h-2 rounded-full ${a.color.replace("bg-","bg-")}`,style:{width:`${c}%`}})})]},a.id)})})]})]})]}),t.length>0&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,l.jsx)(i2,{className:"h-5 w-5 mr-2"}),"Bookmarks (",t.length,")"]}),(0,l.jsx)("div",{className:"space-y-2",children:t.map(a=>(0,l.jsxs)("button",{onClick:()=>ae(a.timestamp),className:"w-full text-left p-2 hover:bg-gray-50 rounded border flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm",children:a.label}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:Y(a.timestamp)})]},a.id))})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,l.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold",children:["Live Transcript (",p.length," segments)"]}),(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("label",{className:"text-sm text-gray-600",children:["Confidence threshold:",(0,l.jsxs)("select",{value:B,onChange:a=>C(Number(a.target.value)),className:"ml-2 border rounded px-2 py-1",children:[(0,l.jsx)("option",{value:.5,children:"50%"}),(0,l.jsx)("option",{value:.7,children:"70%"}),(0,l.jsx)("option",{value:.8,children:"80%"}),(0,l.jsx)("option",{value:.9,children:"90%"})]})]})})]}),(0,l.jsx)("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:0===p.length?(0,l.jsx)("div",{className:"text-center text-gray-500 py-8",children:d?"Listening...":"Start recording or upload a file to begin transcription"}):(0,l.jsxs)(l.Fragment,{children:[p.map(a=>(r.find(b=>b.id===a.speaker),(0,l.jsxs)("div",{className:`border-l-4 pl-4 ${a.isLive?"border-green-400 bg-green-50":"border-gray-200"} hover:bg-gray-50 group`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("select",{value:a.speaker,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void(q(a=>a.map(a=>a.id===c?{...a,speaker:d}:a)),s(a=>a.map(a=>({...a,segments:p.filter(b=>b.speaker===a.id).length}))))},className:"text-sm border rounded px-2 py-1 bg-white",children:r.map(a=>(0,l.jsx)("option",{value:a.id,children:a.name},a.id))}),(0,l.jsx)("button",{onClick:()=>ae(a.startTime),className:"text-xs text-blue-600 hover:text-blue-800",children:Y(a.startTime)}),a.isLive&&(0,l.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded",children:"LIVE"}),a.punctuationCorrected&&(0,l.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",title:"Auto-corrected punctuation",children:"CORRECTED"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",title:"Transcription confidence",children:[Math.round(100*a.confidence),"%"]}),(0,l.jsxs)("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded",title:"Speaker ID confidence",children:["ID: ",Math.round(100*a.speakerConfidence),"%"]}),(0,l.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:(0,l.jsx)("button",{onClick:()=>((a,b)=>{let c=p.find(b=>b.id===a);if(!c||b<=c.startTime||b>=c.endTime)return;let d=c.text.split(" "),e=Math.floor(d.length/2),f={...c,id:`${c.id}-part1`,endTime:b,text:d.slice(0,e).join(" ")},g={...c,id:`${c.id}-part2`,startTime:b,text:d.slice(e).join(" ")};q(b=>[...b.filter(b=>b.id!==a),f,g])})(a.id,a.startTime+(a.endTime-a.startTime)/2),className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded hover:bg-yellow-200",title:"Split segment",children:"Split"})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("textarea",{value:a.text,onChange:b=>q(c=>c.map(c=>c.id===a.id?{...c,text:b.target.value}:c)),className:"w-full text-gray-800 leading-relaxed bg-transparent border-none resize-none focus:outline-none focus:ring-1 focus:ring-blue-500 rounded p-1",rows:Math.max(1,Math.ceil(a.text.length/80))}),a.originalText&&a.originalText!==a.text&&(0,l.jsxs)("details",{className:"text-xs text-gray-500",children:[(0,l.jsx)("summary",{className:"cursor-pointer hover:text-gray-700",children:"Original text"}),(0,l.jsx)("p",{className:"mt-1 italic",children:a.originalText})]})]})]},a.id))),(0,l.jsx)("div",{ref:W})]})})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[p.length," segments  ",r.filter(a=>a.segments>0).length," speakers  ",t.length," bookmarks"]}),(0,l.jsxs)("button",{onClick:()=>{Z(),a()},disabled:d||v,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,l.jsx)(gr,{className:"h-5 w-5 mr-2"}),"Complete Transcription"]})]})]})}let i5=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}),i6=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}),i7=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}),i8=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))});function i9(){let a,{nextStep:b,addError:c,updateWorkflowData:d}=(0,ar.j)(),[e,f]=(0,m.useState)([]),[g,h]=(0,m.useState)(new Set),[i,j]=(0,m.useState)({}),[k,n]=(0,m.useState)(""),[o,p]=(0,m.useState)([]),[q,r]=(0,m.useState)(!1),[s,t]=(0,m.useState)("gpt-4"),[u,v]=(0,m.useState)("comprehensive"),[w,x]=(0,m.useState)([]),[y,z]=(0,m.useState)([]),[A,B]=(0,m.useState)([]),[C,D]=(0,m.useState)(!1),[E,F]=(0,m.useState)(null),[G,H]=(0,m.useState)(!1),[I,J]=(0,m.useState)([]),[K,L]=(0,m.useState)(""),[M,N]=(0,m.useState)(""),[O,P]=(0,m.useState)([]),[Q,R]=(0,m.useState)([]),[S,T]=(0,m.useState)([]),[U,V]=(0,m.useState)([]),[W,X]=(0,m.useState)(!1),[Y,Z]=(0,m.useState)(!1),[$,_]=(0,m.useState)("qa"),aa=(0,m.useRef)(null),[ab,ac]=(0,m.useState)("academic"),[ad,ae]=(0,m.useState)("medium"),[af,ag]=(0,m.useState)(""),[ah,ai]=(0,m.useState)("intermediate"),[aj,ak]=(0,m.useState)(""),[al,am]=(0,m.useState)("automatic"),[an,ao]=(0,m.useState)("table"),[ap,aq]=(0,m.useState)(null),[as,at]=(0,m.useState)([]),[au,av]=(0,m.useState)(new Set),[aw,ax]=(0,m.useState)("all"),[ay,az]=(0,m.useState)("medium"),[aA,aB]=(0,m.useState)([{id:"gpt-4",name:"GPT-4",description:"Most capable model for complex reasoning",status:"available"},{id:"claude",name:"Claude",description:"Excellent for analysis and writing",status:"available"},{id:"gemini",name:"Gemini",description:"Fast and efficient for general tasks",status:"available"},{id:"llama",name:"Llama 2",description:"Open source alternative",status:"available"}]),[aC,aD]=(0,m.useState)({}),aE=(0,m.useCallback)(a=>[{id:"concept-1",term:"Transformer Architecture",definition:"A neural network architecture that relies entirely on attention mechanisms",frequency:15,importance:.95,category:"technical",relatedTerms:["attention mechanism","self-attention","encoder-decoder"]},{id:"concept-2",term:"Attention Mechanism",definition:"A technique that allows models to focus on relevant parts of input",frequency:23,importance:.88,category:"technical",relatedTerms:["transformer","neural networks","deep learning"]},{id:"concept-3",term:"Natural Language Processing",definition:"Field of AI focused on interaction between computers and human language",frequency:31,importance:.92,category:"academic",relatedTerms:["machine learning","linguistics","AI"]}],[]),aF=(0,m.useCallback)(a=>[{id:"entity-1",name:"Google",type:"organization",mentions:8,contexts:["developed the Transformer architecture","published research on attention"],confidence:.94},{id:"entity-2",name:"BERT",type:"technology",mentions:12,contexts:["bidirectional encoder","pre-trained language model"],confidence:.91},{id:"entity-3",name:"2017",type:"date",mentions:5,contexts:["Attention is All You Need paper","transformer introduction"],confidence:.89}],[]),aG=(0,m.useCallback)(async a=>{f(b=>b.map(b=>b.id===a.id?{...b,processingStatus:"processing"}:b)),await new Promise(a=>setTimeout(a,2e3));let b=aE(a),c=aF(a),d=[{id:"rel-1",fromConcept:"Transformer Architecture",toConcept:"Attention Mechanism",relationshipType:"requires",strength:.95,evidence:["Transformers rely entirely on attention mechanisms"]}];f(e=>e.map(e=>e.id===a.id?{...e,processingStatus:"indexed",extractedConcepts:b,entities:c,relationships:d}:e)),x(a=>[...a,...b]),z(a=>[...a,...c]),B(a=>[...a,...d])},[aE,aF]),aH=a=>{a&&Array.from(a).forEach(async a=>{if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","text/markdown"].includes(a.type)&&!a.name.match(/\.(pdf|doc|docx|txt|md)$/i))return void c({id:"unsupported-format",type:"validation",step:"file-upload",message:`Unsupported file format: ${a.name}. Please use PDF, DOC, DOCX, TXT, or MD files.`,timestamp:new Date().toISOString(),recoverable:!0,retryCount:0,maxRetries:1});let b={id:`source-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:a.name,type:a.name.split(".").pop()?.toLowerCase(),content:"",uploadedAt:new Date,pages:"application/pdf"===a.type?Math.ceil(a.size/5e4):void 0,size:a.size,processingStatus:"uploading"};f(a=>[...a,b]),h(a=>new Set([...Array.from(a),b.id])),j(a=>({...a,[b.id]:0}));let d=new FileReader;d.onprogress=a=>{if(a.lengthComputable){let c=a.loaded/a.total*100;j(a=>({...a,[b.id]:c}))}},d.onload=async a=>{let c={...b,content:a.target?.result,processingStatus:"processing"};f(a=>a.map(a=>a.id===b.id?c:a)),await aG(c),j(a=>{let c={...a};return delete c[b.id],c})},d.readAsText(a)})},aI=(a,b)=>{let c={id:`note-${Date.now()}`,userId:"user-1",userName:"You",content:a,timestamp:new Date,type:b};J(a=>[...a,c])},aJ=async()=>{k.trim()&&0!==g.size&&(r(!0),setTimeout(()=>{let a=Array.from(g),b=a.slice(0,2).map((a,b)=>{let c=e.find(b=>b.id===a);return{sourceId:a,sourceName:c?.name||"Unknown",pageNumber:Math.floor(10*Math.random())+1,paragraph:b+1,confidence:.85+.15*Math.random(),text:`This section discusses ${k.toLowerCase().includes("transformer")?"transformer architectures and their applications":"the relevant concepts"} in detail...`,context:"The surrounding context provides additional insights about the methodology and implications.",highlightedTerms:["transformer","attention","architecture"],conceptsReferenced:["Transformer Architecture","Attention Mechanism"]}}),c={id:`insight-${Date.now()}`,topic:k,sources:a,agreements:["All sources agree on the importance of attention mechanisms"],contradictions:["Sources differ on optimal model size"],gaps:["Limited discussion of computational efficiency"],synthesisScore:.78},f=`Based on analysis across ${g.size} sources, ${k.toLowerCase().includes("transformer")?"Transformer architectures represent a paradigm shift in NLP":"the topic demonstrates significant complexity"}. Key concepts identified include: ${w.slice(0,3).map(a=>a.term).join(", ")}. ${"concise"===u?"The evidence strongly supports this conclusion.":"analytical"===u?"From multiple analytical perspectives, we can identify several key patterns and relationships.":"This comprehensive analysis reveals nuanced insights across technical, practical, and theoretical dimensions."}`,h={id:`qa-${Date.now()}`,question:k,answer:f,citations:b,timestamp:new Date,model:s,tone:u,isPinned:!1,conceptsDiscussed:w.slice(0,5).map(a=>a.term),crossSourceInsights:[c],confidence:.85+.15*Math.random(),unusedSources:e.filter(a=>!Array.from(g).includes(a.id)).map(a=>a.name),auditTrail:[{id:`audit-${Date.now()}`,timestamp:new Date,action:"answer_generated",model:s,prompt:k,sources:Array.from(g),metadata:{tokensUsed:Math.floor(1e3*Math.random())+500,responseTime:2500,confidence:.85+.15*Math.random(),retrievalMethod:"semantic_search"}}],followUpSuggestions:[`What are the implications of ${w[0]?.term||"this"}?`,`How does ${w[1]?.term||"this"} compare to other approaches?`,`What are the limitations of ${w[2]?.term||"this"}?`],exportFormats:[]};p(a=>[h,...a]),R(a=>[...a,c]),n(""),r(!1),G&&E&&F(a=>a?{...a,sharedQuestions:[...a.sharedQuestions,k]}:null),d({sources:e.length,qaHistory:o.length+1,pinnedInsights:U.length,conceptsExtracted:w.length,entitiesExtracted:y.length})},2500))},aK=a=>{let b=o.find(b=>b.id===a);b&&(b.isPinned?V(b=>b.filter(b=>b.id!==a)):V(a=>[...a,{...b,isPinned:!0}]),p(b=>b.map(b=>b.id===a?{...b,isPinned:!b.isPinned}:b)))},aL=async(a,b)=>{if(t(a),b){let c=o.find(a=>a.id===b);if(c){let d={id:`audit-${Date.now()}`,timestamp:new Date,action:"model_switched",model:a,sources:c.citations.map(a=>a.sourceId),metadata:{tokensUsed:0,responseTime:0,confidence:.85,retrievalMethod:"model_switch"}};p(a=>a.map(a=>a.id===b?{...a,auditTrail:[...a.auditTrail||[],d]}:a))}}let c=Date.now();setTimeout(()=>{let b=Date.now()-c;aD(c=>({...c,[a]:{avgResponseTime:b,avgConfidence:.85}}))},1e3)};return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Junction - Semantic Research"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Upload documents and ask AI questions with precise citations and analysis"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,l.jsx)(gf,{className:"h-5 w-5 mr-2"}),"Knowledge Sources (",e.length,")"]}),(0,l.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${W?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragOver:a=>{a.preventDefault(),X(!0)},onDragLeave:a=>{a.preventDefault(),X(!1)},onDrop:a=>{a.preventDefault(),X(!1),aH(a.dataTransfer.files)},children:[(0,l.jsx)("input",{ref:aa,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.md",onChange:a=>aH(a.target.files),className:"hidden"}),(0,l.jsx)(i3,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Drag files here or"," ",(0,l.jsx)("button",{onClick:()=>aa.current?.click(),className:"text-blue-600 hover:text-blue-700 underline",children:"browse to upload"})]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, TXT, MD files"})]}),(0,l.jsx)("div",{className:"mt-6 space-y-3 max-h-64 overflow-y-auto",children:e.map(a=>{var b;return(0,l.jsx)("div",{className:`p-3 border rounded-lg transition-colors ${g.has(a.id)?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer flex-1",children:[(0,l.jsx)("input",{type:"checkbox",checked:g.has(a.id),onChange:b=>{let c=new Set(g);b.target.checked?c.add(a.id):c.delete(a.id),h(c)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"text-sm font-medium truncate",children:a.name}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:[(b=a.size)<1024?`${b} B`:b<1048576?`${(b/1024).toFixed(1)} KB`:`${(b/1048576).toFixed(1)} MB`,a.pages&&`  ${a.pages} pages`]})]})]})})},a.id)})})]})}),(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("button",{onClick:()=>_("qa"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"qa"===$?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[(0,l.jsx)(gm,{className:"h-4 w-4 inline mr-2"}),"Q&A"]}),(0,l.jsxs)("button",{onClick:()=>_("concepts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"concepts"===$?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[(0,l.jsx)(gt,{className:"h-4 w-4 inline mr-2"}),"Concepts (",w.length,")"]}),(0,l.jsxs)("button",{onClick:()=>_("collaborate"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"collaborate"===$?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[(0,l.jsx)(gw,{className:"h-4 w-4 inline mr-2"}),"Collaborate",G&&(0,l.jsx)("span",{className:"ml-1 w-2 h-2 bg-green-500 rounded-full inline-block"})]})]}),(0,l.jsxs)("button",{onClick:()=>Z(!Y),className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[(0,l.jsx)(i5,{className:"h-4 w-4 mr-1"}),"Settings"]})]}),"qa"===$&&(0,l.jsxs)(l.Fragment,{children:[Y&&(0,l.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI Model"}),(0,l.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[(0,l.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,l.jsx)("option",{value:"claude",children:"Claude"}),(0,l.jsx)("option",{value:"gemini",children:"Gemini"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Tone"}),(0,l.jsxs)("select",{value:u,onChange:a=>v(a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[(0,l.jsx)("option",{value:"comprehensive",children:"Comprehensive"}),(0,l.jsx)("option",{value:"analytical",children:"Analytical"}),(0,l.jsx)("option",{value:"concise",children:"Concise"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Selected Sources"}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 py-2",children:[g.size," of ",e.length," sources"]})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Summary Customization"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,l.jsxs)("select",{value:ab,onChange:a=>ac(a.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,l.jsx)("option",{value:"academic",children:"Academic"}),(0,l.jsx)("option",{value:"business",children:"Business"}),(0,l.jsx)("option",{value:"casual",children:"Casual"}),(0,l.jsx)("option",{value:"technical",children:"Technical"}),(0,l.jsx)("option",{value:"creative",children:"Creative"})]}),(0,l.jsxs)("select",{value:ah,onChange:a=>ai(a.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,l.jsx)("option",{value:"expert",children:"Expert"}),(0,l.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,l.jsx)("option",{value:"beginner",children:"Beginner"})]})]}),(0,l.jsx)("input",{type:"text",value:aj,onChange:a=>ak(a.target.value),placeholder:"Custom focus area...",className:"w-full mt-2 border border-gray-300 rounded px-2 py-1 text-sm"})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comparison Settings"}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("select",{value:al,onChange:a=>am(a.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,l.jsx)("option",{value:"automatic",children:"Automatic"}),(0,l.jsx)("option",{value:"manual",children:"Manual"})]}),(0,l.jsxs)("select",{value:an,onChange:a=>ao(a.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,l.jsx)("option",{value:"table",children:"Table"}),(0,l.jsx)("option",{value:"venn",children:"Venn Diagram"}),(0,l.jsx)("option",{value:"timeline",children:"Timeline"}),(0,l.jsx)("option",{value:"radar",children:"Radar Chart"})]})]})]}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI Model Selection"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:aA.map(a=>(0,l.jsxs)("button",{onClick:()=>aL(a.id),className:`p-2 border rounded text-sm text-left transition-colors ${s===a.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[(0,l.jsx)("div",{className:"font-medium",children:a.name}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:a.description}),aC[a.id]&&(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Math.round(aC[a.id].avgResponseTime),"ms avg"]})]},a.id))})]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("textarea",{value:k,onChange:a=>n(a.target.value),placeholder:"Ask a question about your uploaded documents...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3,disabled:0===g.size})}),(0,l.jsx)("div",{className:"flex flex-col space-y-2",children:(0,l.jsx)("button",{onClick:aJ,disabled:!k.trim()||0===g.size||q,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:q?"Processing...":"Ask"})})]}),0===g.size&&(0,l.jsx)("p",{className:"text-sm text-amber-600 mt-2",children:"Please select at least one knowledge source to ask questions."})]}),(0,l.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Search"}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("input",{type:"text",value:M,onChange:a=>N(a.target.value),placeholder:"Search across all sources...",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,l.jsx)("button",{onClick:()=>{M.trim()&&P(e.filter(a=>Array.from(g).includes(a.id)).flatMap(a=>[{sourceId:a.id,sourceName:a.name,pageNumber:Math.floor(10*Math.random())+1,paragraph:Math.floor(5*Math.random())+1,confidence:.8+.2*Math.random(),text:`...${M} appears in this context with relevant information about the topic...`,context:"Additional context surrounding the search term provides deeper insights.",highlightedTerms:[M],conceptsReferenced:w.slice(0,2).map(a=>a.term)}]))},disabled:!M.trim(),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 disabled:opacity-50 transition-colors",children:(0,l.jsx)(i_,{className:"h-4 w-4"})})]}),O.length>0&&(0,l.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Search Results (",O.length,")"]}),O.slice(0,3).map((a,b)=>(0,l.jsxs)("div",{className:"p-2 bg-white rounded border text-sm",children:[(0,l.jsx)("p",{className:"text-gray-800",children:a.text}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[a.sourceName,"  Page ",a.pageNumber,"  ",Math.round(100*a.confidence),"% match"]})]},b))]})]})]}),"concepts"===$&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Extracted Concepts & Entities"}),(0,l.jsxs)("button",{onClick:()=>D(!C),className:"text-sm text-blue-600 hover:text-blue-700",children:[C?"Hide":"Show"," Concept Map"]})]}),C&&(0,l.jsx)("div",{className:"p-6 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:(0,l.jsxs)("div",{className:"text-center text-gray-500",children:[(0,l.jsx)(gt,{className:"h-12 w-12 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-lg font-medium",children:"Concept Relationship Map"}),(0,l.jsx)("p",{className:"text-sm",children:"Visual representation of concept relationships would appear here"}),(0,l.jsxs)("div",{className:"mt-4 flex justify-center space-x-4 text-xs",children:[(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-1"}),"Technical Concepts"]}),(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-1"}),"Academic Concepts"]}),(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-1"}),"Business Concepts"]})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Key Concepts (",w.length,")"]}),(0,l.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:w.map(a=>(0,l.jsxs)("div",{className:"p-3 bg-white border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h5",{className:"font-medium text-sm text-gray-900",children:a.term}),(0,l.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${"technical"===a.category?"bg-blue-100 text-blue-800":"academic"===a.category?"bg-green-100 text-green-800":"business"===a.category?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:a.category})]}),(0,l.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:a.definition}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Frequency: ",a.frequency]}),(0,l.jsxs)("span",{children:["Importance: ",Math.round(100*a.importance),"%"]})]})]},a.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Entities (",y.length,")"]}),(0,l.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:y.map(a=>(0,l.jsxs)("div",{className:"p-3 bg-white border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h5",{className:"font-medium text-sm text-gray-900",children:a.name}),(0,l.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${"organization"===a.type?"bg-blue-100 text-blue-800":"technology"===a.type?"bg-green-100 text-green-800":"person"===a.type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:a.type})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Mentions: ",a.mentions]}),(0,l.jsxs)("span",{children:["Confidence: ",Math.round(100*a.confidence),"%"]})]})]},a.id))})]})]}),Q.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Cross-Source Insights"}),(0,l.jsx)("div",{className:"space-y-3",children:Q.map(a=>(0,l.jsxs)("div",{className:"p-4 bg-white border rounded-lg",children:[(0,l.jsx)("h5",{className:"font-medium text-sm text-gray-900 mb-2",children:a.topic}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-green-700",children:"Agreements:"}),(0,l.jsx)("ul",{className:"mt-1 space-y-1",children:a.agreements.map((a,b)=>(0,l.jsxs)("li",{className:"text-gray-600",children:[" ",a]},b))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-red-700",children:"Contradictions:"}),(0,l.jsx)("ul",{className:"mt-1 space-y-1",children:a.contradictions.map((a,b)=>(0,l.jsxs)("li",{className:"text-gray-600",children:[" ",a]},b))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-medium text-amber-700",children:"Gaps:"}),(0,l.jsx)("ul",{className:"mt-1 space-y-1",children:a.gaps.map((a,b)=>(0,l.jsxs)("li",{className:"text-gray-600",children:[" ",a]},b))})]})]}),(0,l.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:["Synthesis Score: ",Math.round(100*a.synthesisScore),"%"]})})]},a.id))})]})]}),"collaborate"===$&&(0,l.jsx)("div",{className:"space-y-6",children:G?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("h3",{className:"font-semibold text-green-800",children:"Active Collaborative Session"}),(0,l.jsxs)("span",{className:"flex items-center text-sm text-green-700",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Live"]})]}),(0,l.jsx)("p",{className:"text-sm text-green-700 mb-3",children:E?.name}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"text",value:K,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-green-300 rounded text-sm"}),(0,l.jsx)("button",{onClick:()=>navigator.clipboard.writeText(K),className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Copy"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Participants (",E?.participants.length||0,")"]}),(0,l.jsx)("div",{className:"flex space-x-2",children:E?.participants.map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 rounded-lg",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:a.charAt(0)}),(0,l.jsx)("span",{className:"text-sm font-medium",children:a})]},b))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Shared Notes"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)("input",{type:"text",placeholder:"Add a collaborative note...",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:a=>{"Enter"===a.key&&a.currentTarget.value.trim()&&(aI(a.currentTarget.value,"annotation"),a.currentTarget.value="")}}),(0,l.jsx)("button",{onClick:()=>{let a=document.querySelector('input[placeholder="Add a collaborative note..."]');a&&a.value.trim()&&(aI(a.value,"annotation"),a.value="")},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add"})]}),I.map(a=>(0,l.jsxs)("div",{className:"p-3 bg-white border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"font-medium text-sm",children:a.userName}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:a.timestamp.toLocaleTimeString()})]}),(0,l.jsx)("p",{className:"text-sm text-gray-800",children:a.content})]},a.id)),0===I.length&&(0,l.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No collaborative notes yet"})]})]})]}):(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(gw,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start Collaborative Session"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"Share your research session with others for real-time collaboration"}),(0,l.jsx)("button",{onClick:()=>{let a=`session-${Date.now()}`;F({id:a,name:`Junction Session ${new Date().toLocaleString()}`,participants:["You"],sharedQuestions:[],sharedInsights:[],isActive:!0}),H(!0),L(`https://junction.example.com/session/${a}`)},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Shareable Link"})]})})]})})]}),U.length>0&&(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center text-yellow-800",children:[(0,l.jsx)(i6,{className:"h-5 w-5 mr-2"}),"Pinned Insights (",U.length,")"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:U.map(a=>(0,l.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,l.jsx)("p",{className:"font-medium text-sm text-gray-900 mb-2",children:a.question}),(0,l.jsxs)("p",{className:"text-sm text-gray-700 mb-3",children:[a.answer.substring(0,150),"..."]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:[a.citations.length," citations"]}),(0,l.jsx)("button",{onClick:()=>aK(a.id),className:"text-yellow-600 hover:text-yellow-700",children:"Unpin"})]})]},a.id))})]}),as.length>0&&(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold flex items-center text-blue-800",children:[(0,l.jsx)(i6,{className:"h-5 w-5 mr-2"}),"Enhanced Insights (",as.length,")"]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("select",{value:aw,onChange:a=>ax(a.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,l.jsx)("option",{value:"all",children:"All Categories"}),Array.from(au).map(a=>(0,l.jsx)("option",{value:a,children:a},a))]}),(0,l.jsxs)("select",{value:ay,onChange:a=>az(a.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,l.jsx)("option",{value:"low",children:"Low"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"high",children:"High"}),(0,l.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(a=as,"all"!==aw&&(a=a.filter(a=>a.category===aw)),"medium"!==ay&&(a=a.filter(a=>a.importance===ay)),a).map(a=>(0,l.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"critical"===a.importance?"bg-red-100 text-red-800":"high"===a.importance?"bg-orange-100 text-orange-800":"medium"===a.importance?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.importance}),(0,l.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:a.category})]}),(0,l.jsx)("p",{className:"font-medium text-sm text-gray-900 mb-2",children:a.question}),(0,l.jsxs)("p",{className:"text-sm text-gray-700 mb-3",children:[a.answer.substring(0,150),"..."]}),a.tags.length>0&&(0,l.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:a.tags.map(a=>(0,l.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:a},a))}),a.notes&&(0,l.jsxs)("p",{className:"text-xs text-gray-600 mb-3 italic",children:['"',a.notes,'"']}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:[a.exportHistory.length," exports"]}),(0,l.jsx)("span",{children:a.pinnedAt.toLocaleDateString()})]})]},a.id))})]}),ap&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold flex items-center text-green-800",children:[(0,l.jsx)(gt,{className:"h-5 w-5 mr-2"}),"Cross-Source Comparison: ",ap.topic]}),(0,l.jsx)("button",{onClick:()=>aq(null),className:"text-green-600 hover:text-green-700 text-sm",children:"Close"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ap.comparisonMatrix&&(0,l.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Comparison Matrix"}),(0,l.jsx)("div",{className:"space-y-2",children:ap.comparisonMatrix.comparisonPoints.map((a,b)=>(0,l.jsxs)("div",{className:"border-b pb-2",children:[(0,l.jsx)("div",{className:"font-medium text-sm text-gray-700 mb-1",children:a.aspect}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,l.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"font-medium",children:ap.comparisonMatrix.sources[0]}),(0,l.jsx)("div",{className:"text-gray-600",children:a.source1Value})]}),(0,l.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,l.jsx)("div",{className:"font-medium",children:ap.comparisonMatrix.sources[1]}),(0,l.jsx)("div",{className:"text-gray-600",children:a.source2Value})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,l.jsx)("span",{className:`text-xs px-2 py-1 rounded ${a.agreement?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.agreement?"Agreement":"Disagreement"}),(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(100*a.confidence),"% confidence"]})]})]},b))})]}),ap.visualComparison&&(0,l.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["venn"===ap.visualComparison.type&&"Venn Diagram","timeline"===ap.visualComparison.type&&"Timeline View","radar"===ap.visualComparison.type&&"Radar Chart","table"===ap.visualComparison.type&&"Comparison Table"]}),(0,l.jsxs)("div",{className:"bg-gray-50 p-4 rounded text-center",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Visualization: ",ap.visualComparison.type]}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:ap.visualComparison.highlights.map((a,b)=>(0,l.jsxs)("div",{className:"mb-1",children:[" ",a]},b))})]})]})]}),(0,l.jsx)("div",{className:"mt-4 p-3 bg-white rounded border",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:"Synthesis Score"}),(0,l.jsxs)("span",{className:"text-lg font-bold text-green-600",children:[Math.round(100*ap.synthesisScore),"%"]})]})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,l.jsx)("div",{className:"p-6 border-b",children:(0,l.jsxs)("h3",{className:"text-lg font-semibold",children:["Conversation History (",o.length,")"]})}),(0,l.jsx)("div",{className:"p-6 space-y-6 max-h-96 overflow-y-auto",children:0===o.length?(0,l.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,l.jsx)(i7,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),(0,l.jsx)("p",{children:"Ask your first question to get started"}),(0,l.jsx)("p",{className:"text-sm mt-2",children:'Try: "What are the main themes in these documents?"'})]}):o.map(a=>(0,l.jsxs)("div",{className:"border-l-4 border-blue-500 pl-6 py-4 bg-blue-50 rounded-r-lg",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("h4",{className:"font-medium text-gray-900",children:["Q: ",a.question]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("button",{onClick:()=>aK(a.id),className:`p-1 rounded ${a.isPinned?"text-yellow-500":"text-gray-400 hover:text-yellow-500"}`,title:a.isPinned?"Unpin":"Pin insight",children:(0,l.jsx)(i6,{className:"h-4 w-4"})}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[a.model,"  ",a.tone]})]})]})}),(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)("p",{className:"text-gray-800 leading-relaxed",children:a.answer})}),a.citations.length>0&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("h5",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,l.jsx)(gw,{className:"h-4 w-4 mr-1"}),"Citations (",a.citations.length,")"]}),(0,l.jsx)("div",{className:"space-y-2",children:a.citations.map((a,b)=>(0,l.jsxs)("div",{className:"bg-white p-3 rounded border text-sm",children:[(0,l.jsxs)("p",{className:"text-gray-800 mb-1",children:['"',a.text,'"']}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:[a.sourceName,a.pageNumber&&`  Page ${a.pageNumber}`,"  Paragraph ",a.paragraph]}),(0,l.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[Math.round(100*a.confidence),"% confidence"]})]})]},b))})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,l.jsx)("button",{onClick:()=>{n(`Following up on "${a.question}": Can you elaborate on this?`),setTimeout(()=>aJ(),100)},className:"text-blue-600 hover:text-blue-700",children:"Follow up"}),(0,l.jsx)("button",{onClick:()=>((a,b)=>{t(b);let c=o.find(b=>b.id===a);c&&(n(c.question),setTimeout(()=>{aJ(),t(s)},100))})(a.id,"gpt-4"===a.model?"claude":"gpt-4"),className:"text-blue-600 hover:text-blue-700",children:"Try different model"}),(0,l.jsx)("span",{className:"text-gray-500 text-xs",children:a.timestamp.toLocaleTimeString()})]})]},a.id))})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[e.length," sources  ",o.length," questions  ",U.length," pinned"]}),(0,l.jsxs)("button",{onClick:()=>{d({totalSources:e.length,totalQuestions:o.length,pinnedInsights:U.length,searchQueries:+(O.length>0)}),b()},className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,l.jsx)(i8,{className:"h-5 w-5 mr-2"}),"Complete Research Session"]})]})]})}let ja=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),jb=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))});function jc(){let{nextStep:a,updateWorkflowData:b}=(0,ar.j)(),[c,d]=(0,m.useState)({topics:[],entities:[],sentiment:"neutral",intent:"",previousQueries:[]}),[e,f]=(0,m.useState)(null),[g,h]=(0,m.useState)([]),[i,j]=(0,m.useState)(!1),[k,n]=(0,m.useState)(new Date),[o]=(0,m.useState)([{id:"gpt-4",name:"GPT-4",provider:"OpenAI",status:"online",speed:"fast"},{id:"claude-3",name:"Claude 3",provider:"Anthropic",status:"online",speed:"medium"},{id:"gemini-pro",name:"Gemini Pro",provider:"Google",status:"online",speed:"fast"},{id:"llama-local",name:"Llama (Local)",provider:"Meta",status:"offline",speed:"slow"}]),[p,q]=(0,m.useState)([{id:"mem-1",title:"Project Planning Best Practices",relevanceScore:.9,snippet:"Key strategies for effective project planning include stakeholder mapping, risk assessment...",source:"notebook"},{id:"mem-2",title:"Team Meeting Notes - Q4 Strategy",relevanceScore:.8,snippet:"Discussion about automation workflows and productivity improvements...",source:"voice-note"}]),[r,s]=(0,m.useState)(""),[t,u]=(0,m.useState)(!1),[v,w]=(0,m.useState)(!1),[x,y]=(0,m.useState)(!1),[z,A]=(0,m.useState)({}),[B,C]=(0,m.useState)(!1),[D,E]=(0,m.useState)([]),[F,G]=(0,m.useState)("gpt-4"),[H,I]=(0,m.useState)("friendly"),[J,K]=(0,m.useState)("balanced"),L=(0,m.useRef)(null),M=(0,m.useRef)(null),N=(0,m.useCallback)((a,b)=>{d(c=>{let d=a.toLowerCase().match(/\b(workflow|automation|transcription|research|planning|meeting|project)\w*\b/g)||[],e=b.toLowerCase().match(/\b(workflow|automation|transcription|research|planning|meeting|project)\w*\b/g)||[],f=[...a.match(/\b[A-Z][a-z]+\b/g)||[],...b.match(/\b[A-Z][a-z]+\b/g)||[]],g=["good","great","excellent","perfect","amazing","helpful"].some(b=>a.toLowerCase().includes(b)),h=["bad","terrible","awful","wrong","problem","issue","error"].some(b=>a.toLowerCase().includes(b)),i="neutral";return g&&!h?i="positive":h&&!g&&(i="negative"),{topics:Array.from(new Set([...c.topics,...d,...e])).slice(-10),entities:Array.from(new Set([...c.entities,...f])).slice(-20),sentiment:i,intent:a.toLowerCase().includes("?")?"question":"statement",previousQueries:[...c.previousQueries,a].slice(-5)}})},[]),O=(a=!1)=>{let b={id:`session-${Date.now()}`,title:a?"Welcome to Mere":"New Chat",timestamp:new Date,messages:a?[{id:"welcome",type:"assistant",content:"Hello! I'm Mere, your AI assistant. I can help you with research, writing, planning, and managing your workflows across the Ntu platform. Here are some things you can try:",timestamp:new Date,model:F,appSuggestions:[{action:"Create a voice note and transcribe it",app:"Yonder",description:"Record and automatically transcribe audio",permission:"ask"},{action:"Research a topic with document upload",app:"Junction",description:"Upload documents and ask semantic questions",permission:"ask"},{action:"Build an automation workflow",app:"Marathon",description:"Create automated workflows and triggers",permission:"ask"}]}]:[],settings:{tone:H,verbosity:J,model:F,memoryBinding:x,appIntegration:!0},memoryAware:x};h(a=>[b,...a]),f(b)},P=(0,m.useCallback)(a=>{if(!x)return[];let b=a.toLowerCase().split(" ").filter(a=>a.length>2);return p.map(a=>{let c=a.title.toLowerCase().split(" "),d=a.snippet.toLowerCase().split(" "),e=(2*c.filter(a=>b.some(b=>a.includes(b))).length+d.filter(a=>b.some(b=>a.includes(b))).length)/b.length;return{...a,relevanceScore:e}}).filter(a=>a.relevanceScore>.1).sort((a,b)=>b.relevanceScore-a.relevanceScore).slice(0,3)},[p,x]),Q=(0,m.useCallback)(async a=>{w(!0);let b=P(a);c.topics.join(", "),c.previousQueries.slice(-2).join("; "),c.sentiment,b.length>0&&b.map(a=>a.snippet).join("; ");let d="llama-local"===F?3e3:"claude-3"===F?1500:1200;await new Promise(a=>setTimeout(a,d));let e="",f=[];if(a.toLowerCase().includes("transcribe")||a.toLowerCase().includes("voice"))e=`I can help you with voice transcription! ${b.length>0?`Based on your previous work with "${b[0].title}", `:""}The Yonder app provides real-time transcription with speaker identification and confidence scoring.`,c.previousQueries.some(a=>a.includes("meeting"))&&(e+=" Since you mentioned meetings earlier, you might find the speaker diarization feature particularly useful."),f=[{action:"Start voice transcription",app:"Yonder",description:"Open Yonder for real-time voice transcription",permission:"ask"}];else if(a.toLowerCase().includes("research")||a.toLowerCase().includes("document"))e=`For research and document analysis, Junction offers semantic Q&A capabilities. ${b.length>0?`I can see you've worked on "${b[0].title}" before - `:""}You can upload multiple documents and ask questions with precise citations.`,c.topics.includes("project")&&(e+=" This would be perfect for your project research needs."),f=[{action:"Start research session",app:"Junction",description:"Open Junction for semantic document research",permission:"ask"}];else if(a.toLowerCase().includes("automat")||a.toLowerCase().includes("workflow"))e=`Marathon is perfect for creating automated workflows! ${b.length>0?`Building on your previous work with "${b[0].title}", `:""}You can build visual automation flows with drag-and-drop nodes, triggers, and actions.`,"positive"===c.sentiment&&(e+=" I can tell you're excited about automation - Marathon will definitely help streamline your processes!"),f=[{action:"Create automation workflow",app:"Marathon",description:"Open Marathon workflow builder",permission:"ask"}];else{let a=[];b.length>0&&a.push(`building on your previous work with "${b[0].title}"`),c.topics.length>0&&a.push(`considering your interest in ${c.topics.slice(-2).join(" and ")}`);let d=a.length>0?`${a.join(", ")}, `:"",f=[`That's an interesting question! ${d}${"detailed"===J?"Let me provide a comprehensive analysis. ":"concise"===J?"Here's a quick answer: ":""}Based on current best practices, I'd recommend...`,`I can help you with that! ${d}${"analytical"===H?"From an analytical perspective,":"creative"===H?"Here's a creative approach:":"professional"===H?"Professionally speaking,":""} this is what I suggest...`,`Great question! ${d}${"detailed"===J?"Let me break this down into several key components.":"Here's what you need to know."}`];e=f[Math.floor(Math.random()*f.length)]}w(!1);let g={id:`msg-${Date.now()}`,type:"assistant",content:e,timestamp:new Date,model:F,tokenCount:Math.floor(e.length/4),memoryContext:x,conversationContext:c.topics,memoryReferences:b,appSuggestions:f};return N(a,e),g},[F,J,H,x,c,P,N]),R=async()=>{if(!r.trim()||!e)return;let a={id:`msg-${Date.now()}-user`,type:"user",content:r,timestamp:new Date,model:F},b={...e,messages:[...e.messages,a]};f(b),h(a=>a.map(a=>a.id===e.id?b:a)),s(""),u(!0);try{let a=await Q(r),c={...b,messages:[...b.messages,a]};f(c),h(a=>a.map(a=>a.id===e.id?c:a)),u(!1)}catch(a){u(!1)}},S=a=>{let b={id:`system-${Date.now()}`,type:"system",content:` ${a.action} initiated in ${a.app}`,timestamp:new Date,model:F};if(e){let a={...e,messages:[...e.messages,b]};f(a),h(b=>b.map(b=>b.id===e.id?a:b))}};return e?(0,l.jsxs)("div",{className:"max-w-6xl mx-auto h-screen flex flex-col",children:[(0,l.jsxs)("div",{className:"text-center py-6 border-b bg-white",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mere - AI Assistant"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Your intelligent companion for research, planning, and workflow automation"})]}),(0,l.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,l.jsxs)("div",{className:"w-80 bg-gray-50 border-r flex flex-col",children:[(0,l.jsx)("div",{className:"p-4 border-b",children:(0,l.jsxs)("button",{onClick:()=>O(),className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,l.jsx)(gl,{className:"h-4 w-4 mr-2"}),"New Chat"]})}),(0,l.jsxs)("div",{className:"p-4 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:"Settings"}),(0,l.jsx)("button",{onClick:()=>C(!B),className:"p-1 text-gray-500 hover:text-gray-700",children:(0,l.jsx)(ja,{className:"h-5 w-5"})})]}),B&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Memory Context"}),(0,l.jsx)("button",{onClick:()=>y(!x),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${x?"bg-blue-600":"bg-gray-200"}`,children:(0,l.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x?"translate-x-6":"translate-x-1"}`})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI Model"}),(0,l.jsx)("select",{value:F,onChange:a=>G(a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:o.map(a=>(0,l.jsxs)("option",{value:a.id,disabled:"offline"===a.status,children:[a.name," (",a.provider,") - ",a.speed]},a.id))}),(0,l.jsxs)("div",{className:"mt-2 flex items-center text-xs",children:[(0,l.jsx)("div",{className:`w-2 h-2 rounded-full mr-2 ${o.find(a=>a.id===F)?.status==="online"?"bg-green-500":"bg-red-500"}`}),(0,l.jsx)("span",{className:"text-gray-600",children:o.find(a=>a.id===F)?.status==="online"?"Online":"Offline"}),i&&(0,l.jsx)("span",{className:"ml-2 text-blue-600",children:"Auto-saving..."})]})]}),x&&(0,l.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)(jb,{className:"h-4 w-4 text-green-600 mr-2"}),(0,l.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Memory Context Active"})]}),(0,l.jsxs)("div",{className:"text-xs text-green-700 space-y-1",children:[(0,l.jsxs)("div",{children:["Available memories: ",p.length]}),c.topics.length>0&&(0,l.jsxs)("div",{children:["Active topics: ",c.topics.slice(-3).join(", ")]}),(0,l.jsxs)("div",{children:["Last saved: ",k.toLocaleTimeString()]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Tone"}),(0,l.jsxs)("select",{value:H,onChange:a=>I(a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[(0,l.jsx)("option",{value:"friendly",children:"Friendly"}),(0,l.jsx)("option",{value:"professional",children:"Professional"}),(0,l.jsx)("option",{value:"analytical",children:"Analytical"}),(0,l.jsx)("option",{value:"creative",children:"Creative"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Length"}),(0,l.jsxs)("select",{value:J,onChange:a=>K(a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[(0,l.jsx)("option",{value:"concise",children:"Concise"}),(0,l.jsx)("option",{value:"balanced",children:"Balanced"}),(0,l.jsx)("option",{value:"detailed",children:"Detailed"})]})]})]})]}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3",children:["Sessions (",g.length,")"]}),(0,l.jsx)("div",{className:"space-y-2",children:g.map(a=>(0,l.jsxs)("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${e?.id===a.id?"bg-blue-100 border border-blue-300":"bg-white border border-gray-200 hover:bg-gray-50"}`,onClick:()=>f(a),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("p",{className:"font-medium text-sm truncate",children:a.title}),(0,l.jsx)("button",{onClick:b=>{b.stopPropagation();var c=a.id;if(confirm("Are you sure you want to delete this session?")&&(h(a=>a.filter(a=>a.id!==c)),e?.id===c)){let a=g.filter(a=>a.id!==c);f(a[0]||null),0===a.length&&O()}},className:"text-gray-400 hover:text-red-500 text-xs",children:"\xd7"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:[a.messages.length," messages"]}),(0,l.jsx)("span",{children:a.timestamp.toLocaleDateString()})]}),a.memoryAware&&(0,l.jsx)("div",{className:"mt-1",children:(0,l.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:[(0,l.jsx)(jb,{className:"h-3 w-3 mr-1"}),"Memory-aware"]})})]},a.id))})]})})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col bg-white",children:[(0,l.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(jb,{className:"h-4 w-4 mr-1"}),F]}),(0,l.jsxs)("span",{children:[e.messages.length," messages"]}),D.length>0&&(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(i6,{className:"h-4 w-4 mr-1"}),D.length," pinned"]})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-2",children:x&&(0,l.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:[(0,l.jsx)(iP,{className:"h-4 w-4 mr-1"}),"Memory Active"]})})]}),(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.messages.map(a=>(0,l.jsx)("div",{className:`flex ${"user"===a.type?"justify-end":"justify-start"}`,children:(0,l.jsxs)("div",{className:`max-w-3xl ${"user"===a.type?"bg-blue-600 text-white":"system"===a.type?"bg-gray-100 text-gray-700 border":"bg-gray-100 text-gray-900"} rounded-lg p-4 relative group`,children:["assistant"===a.type&&(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs text-gray-500",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("span",{className:"flex items-center",children:[(0,l.jsx)(jb,{className:"h-3 w-3 mr-1"}),a.model]}),a.tokenCount&&(0,l.jsxs)("span",{children:[a.tokenCount," tokens"]}),a.memoryContext&&(0,l.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,l.jsx)(gg,{className:"h-3 w-3 mr-1"}),"Memory"]}),a.conversationContext&&a.conversationContext.length>0&&(0,l.jsxs)("span",{className:"flex items-center text-blue-600",children:[(0,l.jsx)(gv,{className:"h-3 w-3 mr-1"}),"Context"]})]}),(0,l.jsx)("button",{onClick:()=>(a=>{if(!e)return;let b=e.messages.find(b=>b.id===a);b&&(D.some(b=>b.id===a)?E(b=>b.filter(b=>b.id!==a)):E(a=>[...a,{...b,isPinned:!0}]))})(a.id),className:`opacity-0 group-hover:opacity-100 transition-opacity ${D.some(b=>b.id===a.id)?"text-yellow-500":"text-gray-400 hover:text-yellow-500"}`,children:(0,l.jsx)(i6,{className:"h-4 w-4"})})]}),(0,l.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,l.jsx)("p",{className:"whitespace-pre-wrap",children:a.content})}),a.memoryReferences&&a.memoryReferences.length>0&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-green-800 mb-2 flex items-center",children:[(0,l.jsx)(jb,{className:"h-4 w-4 mr-1"}),"Referenced from your memory:"]}),(0,l.jsx)("div",{className:"space-y-2",children:a.memoryReferences.map(a=>(0,l.jsxs)("div",{className:"text-xs",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"font-medium text-green-900",children:a.title}),(0,l.jsx)("span",{className:"text-green-600 bg-green-100 px-2 py-1 rounded text-xs",children:a.source})]}),(0,l.jsx)("p",{className:"text-green-700 mt-1",children:a.snippet}),(0,l.jsxs)("div",{className:"text-green-500 mt-1",children:["Relevance: ",Math.round(100*a.relevanceScore),"%"]})]},a.id))})]}),a.conversationContext&&a.conversationContext.length>0&&(0,l.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:a.conversationContext.map(a=>(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:a},a))}),a.appSuggestions&&a.appSuggestions.length>0&&(0,l.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Suggested actions:"}),a.appSuggestions.map((a,b)=>(0,l.jsx)("button",{onClick:()=>(a=>{let b=z[a.app]||a.permission;if("never"!==b){if("always"===b)return void S(a);if(confirm(`${a.description}

Would you like to:
- Allow this once
- Always allow for ${a.app}
- Never allow for ${a.app}`))switch(prompt("Choose permission level:\n1. Once\n2. Always\n3. Never","1")){case"1":S(a);break;case"2":A(b=>({...b,[a.app]:"always"})),S(a);break;case"3":A(b=>({...b,[a.app]:"never"}))}}})(a),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-sm text-gray-900",children:a.action}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:a.description})]}),(0,l.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:a.app})]})},b))]}),(0,l.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:a.timestamp.toLocaleTimeString()})]})},a.id)),t&&(0,l.jsx)("div",{className:"flex justify-start",children:(0,l.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 max-w-xs",children:(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,l.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),(0,l.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"Mere is thinking..."})]})})}),(0,l.jsx)("div",{ref:L})]}),(0,l.jsx)("div",{className:"p-4 border-t",children:(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("textarea",{ref:M,value:r,onChange:a=>s(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),R())},placeholder:x?"Ask me anything about your memories and workflows...":"Ask me anything...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3,disabled:v}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[(0,l.jsx)("span",{children:"Press Shift+Enter for new line, Enter to send"}),(0,l.jsxs)("span",{children:[r.length," characters"]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)("button",{onClick:R,disabled:!r.trim()||v,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"Sending...":"Send"}),(0,l.jsx)("button",{className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Voice input (coming soon)",disabled:!0,children:(0,l.jsx)(gh,{className:"h-4 w-4 text-gray-400"})})]})]})})]})]}),(0,l.jsxs)("div",{className:"p-4 border-t bg-gray-50 flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[g.length," sessions  ",g.reduce((a,b)=>a+b.messages.length,0)," total messages  ",D.length," pinned"]}),(0,l.jsxs)("button",{onClick:()=>{b({totalSessions:g.length,totalMessages:g.reduce((a,b)=>a+b.messages.length,0),pinnedInsights:D.length,memoryAware:x}),a()},className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,l.jsx)(iP,{className:"h-4 w-4 mr-2"}),"Complete Session"]})]})]}):null}let jd=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}),je=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}),jf=m.forwardRef(function({title:a,titleId:b,...c},d){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":b},c),a?m.createElement("title",{id:b},a):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))});function jg(){let{nextStep:a,updateWorkflowData:b}=(0,ar.j)(),[c,d]=(0,m.useState)([]),[e,f]=(0,m.useState)([]),[g,h]=(0,m.useState)(null),[i,j]=(0,m.useState)(null),[k,n]=(0,m.useState)({x:0,y:0}),[o,p]=(0,m.useState)(1),[q,r]=(0,m.useState)({x:0,y:0}),[s,t]=(0,m.useState)(!1),[u,v]=(0,m.useState)({x:0,y:0}),[w,x]=(0,m.useState)(null),[y,z]=(0,m.useState)(!1),[A,B]=(0,m.useState)("realtime"),[C,D]=(0,m.useState)(""),[E,F]=(0,m.useState)(!0),[G,H]=(0,m.useState)(!1),[I,J]=(0,m.useState)("all"),[K,L]=(0,m.useState)(!1),[M,N]=(0,m.useState)("1.0.0"),[O,P]=(0,m.useState)(!1),[Q,R]=(0,m.useState)(null),[S,T]=(0,m.useState)(null),[U,V]=(0,m.useState)([]),[W,X]=(0,m.useState)("info"),[Y,Z]=(0,m.useState)([]),[$,_]=(0,m.useState)(!1),[aa,ab]=(0,m.useState)({id:`workflow-${Date.now()}`,name:"Untitled Workflow",description:"",createdBy:"current-user",createdAt:new Date,updatedAt:new Date,permissions:{visibility:"private",allowedRoles:["admin","editor"],allowedUsers:[],canEdit:["current-user"],canExecute:["current-user"],canView:["current-user"]},tags:[],category:"general",version:"1.0.0",versionHistory:[]}),[ac,ad]=(0,m.useState)(!1),[ae,af]=(0,m.useState)("editor"),ag=a=>{let b=aa.permissions,c="current-user";if(!b.allowedRoles.includes(ae))return!1;switch(a){case"view":return b.canView.includes(c)||b.canView.includes("*");case"edit":return b.canEdit.includes(c)||b.canEdit.includes("*");case"execute":return b.canExecute.includes(c)||b.canExecute.includes("*");default:return!1}},ah=(0,m.useRef)(null);(0,m.useRef)(null);let[ai,aj]=(0,m.useState)(null),[ak,al]=(0,m.useState)(null),[am,an]=(0,m.useState)({x:0,y:0}),[ao,ap]=(0,m.useState)(null),[aq,as]=(0,m.useState)([]),[at,au]=(0,m.useState)([]),av=(0,m.useCallback)(()=>{as(a=>[...a,{nodes:c,connections:e}]),au([])},[c,e]),aw=(a,b)=>{if(!ag("edit"))return void console.error("User does not have permission to edit this workflow");av(),d(c=>c.map(c=>c.id===a?{...c,...b}:c)),ab(a=>({...a,updatedAt:new Date}))},ax=(a,b,c)=>{let d=document.getElementById(`node-${a.id}`),e=document.getElementById(`port-${b}`);if(d&&e&&ah.current){let a=d.getBoundingClientRect(),b=e.getBoundingClientRect(),c=ah.current.getBoundingClientRect();return{x:a.left-c.left+(b.left-a.left)+b.width/2,y:a.top-c.top+(b.top-a.top)+b.height/2}}return{x:a.position.x,y:a.position.y}},ay=(a,b)=>({x:20*Math.round(a/20),y:20*Math.round(b/20)}),az=async()=>{if(!ag("execute"))return void console.error("User does not have permission to execute this workflow");z(!0);let a={id:`exec-${Date.now()}`,status:"running",startTime:new Date,executedNodes:[],errors:[]};x(a),d(a=>a.map(a=>({...a,status:"idle"})));try{let b=c.filter(a=>"trigger"===a.type).map(b=>aA(b.id,{},a));await Promise.allSettled(b),a.status=a.errors.length>0?"failed":"completed",a.endTime=new Date}catch(b){a.errors.push({nodeId:"system",message:`Workflow execution failed: ${b}`,timestamp:new Date}),a.status="failed",a.endTime=new Date}finally{x(a),z(!1),setTimeout(()=>{d(a=>a.map(a=>({...a,status:"idle"})))},3e3)}},aA=async(a,b,f)=>{let g=c.find(b=>b.id===a);if(!g)return;d(b=>b.map(b=>b.id===a?{...b,status:"running"}:b)),f.executedNodes.push(a),await new Promise(a=>setTimeout(a,1e3));let h=b,i=[];try{switch(g.type){case"condition":let c=await aB(g,b,f);h=c.data,i=c.outputPorts;break;case"action":h=await aD(g,b),i=g.ports.outputs.map(a=>a.id);break;case"trigger":h={...b,triggered:!0,timestamp:Date.now()},i=g.ports.outputs.map(a=>a.id);break;default:i=g.ports.outputs.map(a=>a.id)}d(b=>b.map(b=>b.id===a?{...b,status:"success"}:b));let j=[];for(let b of i){let c=e.filter(c=>c.sourceNodeId===a&&c.sourcePortId===b).map(a=>a.targetNodeId).map(a=>aA(a,h,f));j.push(...c)}return j.length>0&&await Promise.allSettled(j),h}catch(b){throw d(b=>b.map(b=>b.id===a?{...b,status:"error"}:b)),b}},aB=async(a,b,c)=>{switch(a.id){case"if-else":let d=aC(a.config.condition,b);return{data:b,outputPorts:d?["true"]:["false"]};case"switch":let f=b?.value||b,g=a.config.cases?.find(a=>a.value===f);return{data:b,outputPorts:g?[`case${a.config.cases.indexOf(g)+1}`]:["default"]};case"for-loop":let h=b?.array||[],i=[];for(let d=0;d<h.length;d++){let f={...b,item:h[d],index:d};for(let b of(i.push(f),e.filter(b=>b.sourceNodeId===a.id&&"item"===b.sourcePortId).map(a=>a.targetNodeId)))await aA(b,f,c)}return{data:{...b,results:i,completed:!0},outputPorts:["complete"]};case"while-loop":let j=a.config.maxIterations||100,k=0,l=b;for(;aC(a.config.condition,l)&&k<j;){let b={...l,iteration:k};for(let d of e.filter(b=>b.sourceNodeId===a.id&&"loop"===b.sourcePortId).map(a=>a.targetNodeId))l=await aA(d,b,c);k++}return{data:{...l,iterations:k},outputPorts:["exit"]};default:return{data:b,outputPorts:a.ports.outputs.map(a=>a.id)}}},aC=(a,b)=>{try{return!!Function("data",`return ${a}`)(b)}catch{return!1}},aD=async(a,b)=>({...b,processed:!0,nodeId:a.id}),aE=async(a={})=>{P(!0);try{Date.now(),await az(),T({success:w?.status==="completed",execution:w,timestamp:new Date})}catch(a){T({success:!1,error:a instanceof Error?a.message:"Unknown error",timestamp:new Date})}finally{P(!1)}},aF=(a,b,c)=>{let d={id:`log-${Date.now()}`,executionId:w?.id||"manual",nodeId:"system",timestamp:new Date,level:a,message:b,data:c};V(a=>[...a,d])},aG=async(a,b)=>{let c=Y.find(b=>b.id===a);if(c&&c.enabled)try{let d=await fetch(c.url,{method:c.method,headers:{"Content-Type":"application/json",...c.headers},body:"GET"!==c.method?JSON.stringify(b):void 0});return Z(b=>b.map(b=>b.id===a?{...b,triggerCount:b.triggerCount+1,lastTriggered:new Date}:b)),aF("info",`Webhook triggered: ${c.name}`,{endpointId:a,status:d.status,success:d.ok}),d.ok}catch(d){let b=d instanceof Error?d.message:"Unknown error";return aF("error",`Webhook failed: ${c.name}`,{endpointId:a,error:b}),!1}},aH={triggers:[{id:"memory-created",type:"trigger",title:"Memory Created",description:"Triggers when a new memory is created",position:{x:0,y:0},ports:{inputs:[],outputs:[{id:"memory",type:"output",dataType:"object",connected:!1}]},config:{eventType:"memory.created",filters:{memoryType:"any",tags:[]}},status:"idle",category:"triggers",icon:gi,color:"bg-blue-500"},{id:"note-tagged",type:"trigger",title:"Note Tagged",description:"Triggers when a note is tagged with specific tags",position:{x:0,y:0},ports:{inputs:[],outputs:[{id:"note",type:"output",dataType:"object",connected:!1},{id:"tags",type:"output",dataType:"array",connected:!1}]},config:{eventType:"note.tagged",filters:{tags:["important","review"],matchType:"any"}},status:"idle",category:"triggers",icon:gi,color:"bg-green-500"},{id:"file-uploaded",type:"trigger",title:"File Uploaded",description:"Triggers when a file is uploaded to the system",position:{x:0,y:0},ports:{inputs:[],outputs:[{id:"file",type:"output",dataType:"object",connected:!1},{id:"metadata",type:"output",dataType:"object",connected:!1}]},config:{eventType:"file.uploaded",filters:{fileTypes:["pdf","txt","md"],maxSize:0xa00000}},status:"idle",category:"triggers",icon:gi,color:"bg-purple-500"},{id:"schedule-trigger",type:"trigger",title:"Schedule Trigger",description:"Triggers on a specific schedule or time interval",position:{x:0,y:0},ports:{inputs:[],outputs:[{id:"timestamp",type:"output",dataType:"number",connected:!1}]},config:{eventType:"schedule.trigger",schedule:{type:"recurring",interval:"daily",time:"09:00"}},status:"idle",category:"triggers",icon:gy,color:"bg-orange-500"},{id:"webhook-trigger",type:"trigger",title:"Webhook Trigger",description:"Triggers when a webhook endpoint receives data",position:{x:0,y:0},ports:{inputs:[],outputs:[{id:"payload",type:"output",dataType:"object",connected:!1},{id:"headers",type:"output",dataType:"object",connected:!1}]},config:{eventType:"webhook.received",endpoint:"/webhook/marathon",method:"POST",authentication:"token"},status:"idle",category:"triggers",icon:gg,color:"bg-yellow-500"}],actions:[{id:"create-note",type:"action",title:"Create Note in Notebook",description:"Creates a new note in a specified notebook section",position:{x:0,y:0},ports:{inputs:[{id:"title",type:"input",dataType:"string",connected:!1},{id:"content",type:"input",dataType:"string",connected:!1},{id:"section",type:"input",dataType:"string",connected:!1}],outputs:[{id:"note",type:"output",dataType:"object",connected:!1},{id:"success",type:"output",dataType:"boolean",connected:!1}]},config:{notebookId:"",sectionId:"",defaultTitle:"New Note",tags:[],template:"basic"},status:"idle",category:"actions",icon:gi,color:"bg-blue-500"},{id:"tag-memory",type:"action",title:"Tag Memory",description:"Adds tags to a memory with dynamic input from prior node",position:{x:0,y:0},ports:{inputs:[{id:"memory",type:"input",dataType:"object",connected:!1},{id:"tags",type:"input",dataType:"array",connected:!1},{id:"metadata",type:"input",dataType:"object",connected:!1}],outputs:[{id:"taggedMemory",type:"output",dataType:"object",connected:!1},{id:"success",type:"output",dataType:"boolean",connected:!1}]},config:{defaultTags:["workflow-generated"],overwriteExisting:!1,tagSource:"dynamic",staticTags:[]},status:"idle",category:"actions",icon:gi,color:"bg-purple-500"},{id:"send-notification",type:"action",title:"Send Notification",description:"Sends push, email, and in-app notifications",position:{x:0,y:0},ports:{inputs:[{id:"message",type:"input",dataType:"string",connected:!1},{id:"recipients",type:"input",dataType:"array",connected:!1},{id:"metadata",type:"input",dataType:"object",connected:!1}],outputs:[{id:"sent",type:"output",dataType:"object",connected:!1},{id:"failed",type:"output",dataType:"object",connected:!1}]},config:{channels:["push","email","in-app"],priority:"normal",template:"default",schedule:"immediate",retryCount:3},status:"idle",category:"actions",icon:jd,color:"bg-red-500"},{id:"action-print",type:"action",title:"Print Message",description:"Outputs a message to the console.",position:{x:100,y:300},ports:{inputs:[{id:"input-1",type:"input",dataType:"String",connected:!1}],outputs:[]},config:{message:"Hello, World!"},status:"idle",category:"actions",icon:gg,color:"bg-green-500"},{id:"action-api-call",type:"action",title:"API Call",description:"Makes an HTTP request to a specified URL.",position:{x:100,y:400},ports:{inputs:[{id:"input-1",type:"input",dataType:"String",connected:!1}],outputs:[]},config:{url:"https://jsonplaceholder.typicode.com/posts/1",method:"GET"},status:"idle",category:"actions",icon:jd,color:"bg-purple-500"}],ai:[{id:"summarize-memory",type:"action",title:"Summarize Memory",description:"Uses AI to generate a summary of memory content",position:{x:0,y:0},ports:{inputs:[{id:"memory",type:"input",dataType:"object",connected:!1},{id:"options",type:"input",dataType:"object",connected:!1}],outputs:[{id:"summary",type:"output",dataType:"string",connected:!1},{id:"metadata",type:"output",dataType:"object",connected:!1}]},config:{llmEngine:"gpt-4",summaryLength:"medium",tone:"neutral",includeKeyPoints:!0,includeEntities:!1},status:"idle",category:"ai",icon:gg,color:"bg-indigo-500"},{id:"ask-mere",type:"action",title:"Ask Mere",description:"Sends a prompt to Mere AI with chaining support",position:{x:0,y:0},ports:{inputs:[{id:"prompt",type:"input",dataType:"string",connected:!1},{id:"context",type:"input",dataType:"object",connected:!1},{id:"previousResponse",type:"input",dataType:"string",connected:!1}],outputs:[{id:"response",type:"output",dataType:"string",connected:!1},{id:"metadata",type:"output",dataType:"object",connected:!1},{id:"citations",type:"output",dataType:"array",connected:!1}]},config:{model:"gpt-4",temperature:.7,maxTokens:1e3,enableChaining:!0,includeMemoryContext:!0,systemPrompt:""},status:"idle",category:"ai",icon:iZ,color:"bg-teal-500"},{id:"generate-summary",type:"action",title:"Generate Summary",description:"Creates AI-powered summaries with LLM selection",position:{x:0,y:0},ports:{inputs:[{id:"content",type:"input",dataType:"string",connected:!1},{id:"instructions",type:"input",dataType:"string",connected:!1}],outputs:[{id:"summary",type:"output",dataType:"string",connected:!1},{id:"keyPoints",type:"output",dataType:"array",connected:!1}]},config:{llmEngine:"gpt-4",outputFormat:"paragraph",focusAreas:[],wordLimit:200},status:"idle",category:"ai",icon:gg,color:"bg-cyan-500"}],data:[{id:"set-variable",type:"data",title:"Set Variable",description:"Stores temporary data for use in the workflow",position:{x:0,y:0},ports:{inputs:[{id:"value",type:"input",dataType:"any",connected:!1},{id:"name",type:"input",dataType:"string",connected:!1}],outputs:[{id:"variable",type:"output",dataType:"any",connected:!1}]},config:{variableName:"",variableType:"string",persistent:!1,scope:"workflow"},status:"idle",category:"data",icon:je,color:"bg-gray-500"},{id:"merge-streams",type:"data",title:"Merge Streams",description:"Combines multiple data streams with field selection",position:{x:0,y:0},ports:{inputs:[{id:"stream1",type:"input",dataType:"object",connected:!1},{id:"stream2",type:"input",dataType:"object",connected:!1},{id:"stream3",type:"input",dataType:"object",connected:!1}],outputs:[{id:"merged",type:"output",dataType:"object",connected:!1}]},config:{mergeStrategy:"combine",fieldMapping:{},conflictResolution:"last-wins",includeMetadata:!0},status:"idle",category:"data",icon:iA,color:"bg-orange-500"},{id:"filter-by-field",type:"data",title:"Filter By Field",description:"Filters data based on conditional expressions",position:{x:0,y:0},ports:{inputs:[{id:"data",type:"input",dataType:"array",connected:!1},{id:"condition",type:"input",dataType:"string",connected:!1}],outputs:[{id:"filtered",type:"output",dataType:"array",connected:!1},{id:"rejected",type:"output",dataType:"array",connected:!1}]},config:{filterExpression:"",outputRejected:!1,caseSensitive:!0,allowEmpty:!1},status:"idle",category:"data",icon:gx,color:"bg-yellow-500"}],integrations:[{id:"http-request",type:"action",title:"HTTP Request",description:"Makes HTTP requests to external APIs",position:{x:0,y:0},ports:{inputs:[{id:"url",type:"input",dataType:"string",connected:!1},{id:"method",type:"input",dataType:"string",connected:!1},{id:"headers",type:"input",dataType:"object",connected:!1},{id:"body",type:"input",dataType:"object",connected:!1}],outputs:[{id:"response",type:"output",dataType:"object",connected:!1},{id:"error",type:"output",dataType:"object",connected:!1}]},config:{method:"GET",timeout:3e4,retryCount:3,followRedirects:!0,validateSSL:!0,authentication:{type:"none",credentials:{}}},status:"idle",category:"integrations",icon:gg,color:"bg-green-600"}],conditions:[{id:"if-else",type:"condition",title:"If/Else",description:"Branch execution based on condition",position:{x:0,y:0},ports:{inputs:[{id:"condition",type:"input",dataType:"boolean",connected:!1},{id:"data",type:"input",dataType:"any",connected:!1}],outputs:[{id:"true",type:"output",dataType:"any",connected:!1},{id:"false",type:"output",dataType:"any",connected:!1}]},config:{condition:"data.value > 10",description:"Branch execution based on condition"},status:"idle",category:"conditions",icon:i5,color:"bg-orange-500"},{id:"switch",type:"condition",title:"Switch",description:"Multi-branch execution based on value",position:{x:0,y:0},ports:{inputs:[{id:"value",type:"input",dataType:"any",connected:!1}],outputs:[{id:"case1",type:"output",dataType:"any",connected:!1},{id:"case2",type:"output",dataType:"any",connected:!1},{id:"default",type:"output",dataType:"any",connected:!1}]},config:{cases:[{value:"option1",label:"Case 1"},{value:"option2",label:"Case 2"}],description:"Multi-branch execution based on value"},status:"idle",category:"conditions",icon:i5,color:"bg-orange-500"},{id:"for-loop",type:"condition",title:"For Loop",description:"Iterate over array items",position:{x:0,y:0},ports:{inputs:[{id:"array",type:"input",dataType:"array",connected:!1}],outputs:[{id:"item",type:"output",dataType:"any",connected:!1},{id:"complete",type:"output",dataType:"array",connected:!1}]},config:{variable:"item",description:"Iterate over array items"},status:"idle",category:"conditions",icon:iA,color:"bg-purple-500"},{id:"while-loop",type:"condition",title:"While Loop",description:"Loop while condition is true",position:{x:0,y:0},ports:{inputs:[{id:"condition",type:"input",dataType:"boolean",connected:!1},{id:"data",type:"input",dataType:"any",connected:!1}],outputs:[{id:"loop",type:"output",dataType:"any",connected:!1},{id:"exit",type:"output",dataType:"any",connected:!1}]},config:{condition:"data.count < 10",maxIterations:100,description:"Loop while condition is true"},status:"idle",category:"conditions",icon:iA,color:"bg-purple-500"}]},[aI,aJ]=(0,m.useState)([]),[aK,aL]=(0,m.useState)(!1);return(0,l.jsxs)("div",{className:"h-screen flex flex-col bg-gray-100",children:[(0,l.jsx)("div",{className:"bg-white border-b p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Marathon - Visual Workflow Builder"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Create powerful automation flows with drag-and-drop nodes"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mode:"}),(0,l.jsxs)("select",{value:A,onChange:a=>B(a.target.value),className:"border border-gray-300 rounded px-3 py-1 text-sm",children:[(0,l.jsx)("option",{value:"realtime",children:"Real-time"}),(0,l.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("button",{onClick:az,disabled:y||0===c.length,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[(0,l.jsx)(iF,{className:"h-4 w-4 mr-2"}),y?"Running...":"Run Workflow"]}),(0,l.jsxs)("button",{onClick:()=>aE(),disabled:y||0===c.length,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,l.jsx)(iP,{className:"h-4 w-4 mr-2"}),"Test Workflow"]}),(0,l.jsxs)("button",{onClick:()=>L(!K),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[(0,l.jsx)(jf,{className:"h-4 w-4 mr-2"}),"Versions"]}),(0,l.jsxs)("button",{onClick:()=>_(!$),className:"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[(0,l.jsx)(gg,{className:"h-4 w-4 mr-2"}),"Webhooks"]}),(0,l.jsxs)("button",{onClick:()=>H(!G),className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,l.jsx)(gi,{className:"h-4 w-4 mr-2"}),"Logs"]})]})]})]})}),(0,l.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[E&&(0,l.jsxs)("div",{className:"w-80 bg-white border-r overflow-y-auto",children:[(0,l.jsxs)("div",{className:"p-4 border-b",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:"Node Palette"}),(0,l.jsx)("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(iz,{className:"h-5 w-5"})})]}),(0,l.jsxs)("select",{value:I,onChange:a=>J(a.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[(0,l.jsx)("option",{value:"all",children:"All Categories"}),(0,l.jsx)("option",{value:"triggers",children:"Triggers"}),(0,l.jsx)("option",{value:"actions",children:"Actions"}),(0,l.jsx)("option",{value:"conditions",children:"Conditions"}),(0,l.jsx)("option",{value:"data",children:"Data"})]})]}),(0,l.jsx)("div",{className:"p-4 space-y-4",children:Object.entries(aH).map(([a,b])=>"all"!==I&&I!==a?null:(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-2 capitalize",children:a}),(0,l.jsx)("div",{className:"space-y-2",children:b.map(a=>(0,l.jsx)("div",{draggable:!0,onDragStart:b=>{j(a),b.dataTransfer.effectAllowed="copy"},className:"p-3 border border-gray-200 rounded-lg cursor-move hover:bg-gray-50 transition-colors",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:`p-2 rounded ${a.color}`,children:(0,l.jsx)(a.icon,{className:"h-4 w-4 text-white"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("p",{className:"font-medium text-sm text-gray-900",children:a.title}),(0,l.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.description})]})]})},a.id))})]},a))})]}),(0,l.jsxs)("div",{className:"flex-1 relative overflow-hidden",onMouseMove:a=>{if(ak&&d(b=>b.map(b=>b.id===ak?{...b,position:ay(a.clientX-am.x,a.clientY-am.y)}:b)),ai&&ah.current){let b=ah.current.getBoundingClientRect();aj({...ai,toPosition:{x:a.clientX-b.left,y:a.clientY-b.top}})}if(ai&&ah.current){let b=ah.current.getBoundingClientRect();aj({...ai,toPosition:{x:a.clientX-b.left,y:a.clientY-b.top}})}},onMouseUp:()=>{al(null)},onClick:()=>{aj(null)},children:[(0,l.jsxs)("div",{ref:ah,className:"w-full h-full bg-gray-50 relative cursor-grab",onDrop:a=>{if(a.preventDefault(),i){let b=ah.current.getBoundingClientRect(),c=ay(a.clientX-b.left,a.clientY-b.top),e={...i,id:`${i.id}-${Date.now()}`,position:{x:(c.x-q.x)/o,y:(c.y-q.y)/o},ports:{inputs:i.ports.inputs.map(a=>({...a,id:`${a.id}-${Date.now()}`})),outputs:i.ports.outputs.map(a=>({...a,id:`${a.id}-${Date.now()}`}))}};d(a=>[...a,e]),j(null)}},onDragOver:a=>a.preventDefault(),onMouseDown:a=>{var b,c;(1===a.button||0===a.button&&a.altKey)&&(b=a.clientX,c=a.clientY,t(!0),v({x:b-q.x,y:c-q.y}))},onMouseMove:a=>{var b,c;return b=a.clientX,c=a.clientY,void(s&&r({x:b-u.x,y:c-u.y}))},onMouseUp:()=>{t(!1)},onWheel:a=>{a.preventDefault(),((a,b,c)=>{if(!ah.current)return;let d=ah.current.getBoundingClientRect(),e=b-d.left,f=c-d.top,g=Math.max(.1,Math.min(3,o+.1*a)),h=g/o;p(g),r({x:e-(e-q.x)*h,y:f-(f-q.y)*h})})(-a.deltaY/1e3,a.clientX,a.clientY)},style:{transform:`translate(${q.x}px, ${q.y}px) scale(${o})`,transformOrigin:"0 0"},children:[(0,l.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{transform:`translate(${q.x}px, ${q.y}px) scale(${o})`},children:[(0,l.jsx)("defs",{children:(0,l.jsx)("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,l.jsx)("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e5e7eb",strokeWidth:"1"})})}),(0,l.jsx)("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]}),c.map(a=>(0,l.jsxs)("div",{id:`node-${a.id}`,className:`absolute bg-white border-2 rounded-lg shadow-sm cursor-pointer transition-all ${g===a.id?"border-blue-500 shadow-lg":"border-gray-200"} ${"running"===a.status?"animate-pulse":""}`,style:{left:a.position.x,top:a.position.y,width:200,minHeight:80,zIndex:ak===a.id?10:1},onClick:()=>h(a.id),onMouseDown:b=>((a,b)=>{b.stopPropagation();let d=c.find(b=>b.id===a);d&&(al(a),an({x:b.clientX-d.position.x,y:b.clientY-d.position.y}))})(a.id,b),children:[(0,l.jsx)("div",{className:`p-3 rounded-t-lg ${a.color} text-white`,children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a.icon,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"font-medium text-sm",children:a.title})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:["running"===a.status&&(0,l.jsx)("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),"success"===a.status&&(0,l.jsx)(iP,{className:"h-4 w-4 text-green-400"}),"error"===a.status&&(0,l.jsx)(iz,{className:"h-4 w-4 text-red-400"})]})]})}),(0,l.jsxs)("div",{className:"p-3",children:[(0,l.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:a.description}),a.ports.inputs.length>0&&(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Inputs:"}),a.ports.inputs.map(b=>(0,l.jsxs)("div",{id:`port-${b.id}`,className:"flex items-center text-xs text-gray-600 mb-1",onMouseUp:ai?e=>{var g,h;return g=a.id,h=b.id,void(e.stopPropagation(),ai&&(((a,b,e,g)=>{let h=c.find(b=>b.id===a),i=c.find(a=>a.id===e);if(!h||!i)return;let j=[...h.ports.inputs,...h.ports.outputs].find(a=>a.id===b),k=[...i.ports.inputs,...i.ports.outputs].find(a=>a.id===g);if(!j||!k)return;if(j.type===k.type||"input"===k.type&&k.connected||"any"!==j.dataType&&"any"!==k.dataType&&j.dataType!==k.dataType)return console.warn("Invalid connection attempt:",{fromPort:j,toPort:k});let l={id:`${a}-${b}-${e}-${g}`,sourceNodeId:a,sourcePortId:b,targetNodeId:e,targetPortId:g,dataType:j.dataType};d(c=>c.map(c=>c.id===a?{...c,ports:{...c.ports,outputs:c.ports.outputs.map(a=>a.id===b?{...a,connected:!0}:a)}}:c.id===e?{...c,ports:{...c.ports,inputs:c.ports.inputs.map(a=>a.id===g?{...a,connected:!0}:a)}}:c)),f(a=>[...a,l]),av()})(ai.fromNodeId,ai.fromPortId,g,h),aj(null)))}:void 0,style:{cursor:ai?"pointer":"default"},children:[(0,l.jsx)("div",{className:`w-3 h-3 rounded-full mr-2 border-2 ${b.connected?"bg-green-500 border-green-700":"bg-gray-300 border-gray-400"}`}),b.dataType]},b.id))]}),a.ports.outputs.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Outputs:"}),a.ports.outputs.map(b=>(0,l.jsxs)("div",{id:`port-${b.id}`,className:"flex items-center text-xs text-gray-600 mb-1",onMouseDown:d=>((a,b,d)=>{d.stopPropagation();let e=c.find(b=>b.id===a);if(!e)return;let f=ax(e,b,"output");aj({fromNodeId:a,fromPortId:b,fromPosition:f,toPosition:f})})(a.id,b.id,d),style:{cursor:"crosshair"},children:[(0,l.jsx)("div",{className:`w-3 h-3 rounded-full mr-2 border-2 ${b.connected?"bg-green-500 border-green-700":"bg-gray-300 border-gray-400"}`}),b.dataType]},b.id))]})]})]},a.id)),(0,l.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:0},children:[e.map(a=>{let b=c.find(b=>b.id===a.sourceNodeId),d=c.find(b=>b.id===a.targetNodeId);if(!b||!d)return null;let e=b.ports.outputs.find(b=>b.id===a.sourcePortId),f=d.ports.inputs.find(b=>b.id===a.targetPortId);if(!e||!f)return null;let g=ax(b,e.id,"output"),h=ax(d,f.id,"input"),i=`M${g.x},${g.y} C${g.x+50},${g.y} ${h.x-50},${h.y} ${h.x},${h.y}`;return(0,l.jsx)("path",{d:i,stroke:"#6366f1",strokeWidth:3,fill:"none",markerEnd:"url(#arrowhead)"},a.id)}),(0,l.jsx)("defs",{children:(0,l.jsx)("marker",{id:"arrowhead",markerWidth:"8",markerHeight:"8",refX:"8",refY:"4",orient:"auto",markerUnits:"strokeWidth",children:(0,l.jsx)("path",{d:"M0,0 L8,4 L0,8 Z",fill:"#6366f1"})})}),ai&&(0,l.jsx)("path",{d:`M${ai.fromPosition.x},${ai.fromPosition.y} C${ai.fromPosition.x+50},${ai.fromPosition.y} ${ai.toPosition.x-50},${ai.toPosition.y} ${ai.toPosition.x},${ai.toPosition.y}`,stroke:"#6366f1",strokeWidth:2,fill:"none",strokeDasharray:"4 2"})]})]}),(0,l.jsxs)("div",{className:"absolute bottom-4 right-4 flex flex-col space-y-2",children:[(0,l.jsx)("button",{onClick:()=>p(1),className:"px-3 py-2 bg-white border border-gray-300 rounded shadow text-sm hover:bg-gray-50",children:"Reset Zoom"}),(0,l.jsxs)("button",{onClick:()=>F(!E),className:"px-3 py-2 bg-white border border-gray-300 rounded shadow text-sm hover:bg-gray-50",children:[E?"Hide":"Show"," Palette"]})]}),(0,l.jsxs)("div",{className:"absolute bottom-4 left-4 px-3 py-2 bg-white border border-gray-300 rounded shadow text-sm",children:[Math.round(100*o),"%"]})]})]}),G&&w&&(0,l.jsxs)("div",{className:"bg-white border-t p-4 max-h-64 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:"Execution Log"}),(0,l.jsx)("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(iz,{className:"h-5 w-5"})})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,l.jsxs)("span",{children:["Status: ",(0,l.jsx)("span",{className:`font-medium ${"completed"===w.status?"text-green-600":"failed"===w.status?"text-red-600":"running"===w.status?"text-blue-600":"text-gray-600"}`,children:w.status})]}),(0,l.jsxs)("span",{children:["Duration: ",w.endTime?`${Math.round((w.endTime.getTime()-w.startTime.getTime())/1e3)}s`:"Running..."]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-medium text-gray-700",children:["Executed Nodes: ",w.executedNodes.length]}),w.errors.map((a,b)=>(0,l.jsxs)("div",{className:"text-red-600 text-xs mt-1",children:["Node ",a.nodeId,": ",a.message]},b))]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,l.jsxs)("button",{onClick:az,disabled:y,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50",children:[(0,l.jsx)(iF,{className:"w-4 h-4"}),y?"Running...":"Run Workflow"]}),(0,l.jsxs)("button",{onClick:()=>aL(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[(0,l.jsx)(gy,{className:"w-4 h-4"}),"Schedule"]}),aI.length>0&&(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[aI.filter(a=>a.enabled).length," scheduled"]})]}),aK&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg w-96",children:[(0,l.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Schedule Workflow"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Schedule Type"}),(0,l.jsxs)("select",{className:"w-full p-2 border rounded",children:[(0,l.jsx)("option",{value:"once",children:"Run Once"}),(0,l.jsx)("option",{value:"recurring",children:"Recurring"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Interval"}),(0,l.jsxs)("select",{className:"w-full p-2 border rounded",children:[(0,l.jsx)("option",{value:"hourly",children:"Hourly"}),(0,l.jsx)("option",{value:"daily",children:"Daily"}),(0,l.jsx)("option",{value:"weekly",children:"Weekly"}),(0,l.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>(a=>{let b={id:`schedule-${Date.now()}`,name:`Workflow Schedule ${aI.length+1}`,schedule:a,enabled:!0,nextRun:(a=>{let b=new Date;if("once"===a.type&&a.datetime)return a.datetime;if("recurring"===a.type&&a.interval)switch(a.interval){case"hourly":default:break;case"daily":return new Date(b.getTime()+864e5);case"weekly":return new Date(b.getTime()+6048e5);case"monthly":return new Date(b.getTime()+2592e6)}return new Date(b.getTime()+36e5)})(a)};aJ(a=>[...a,b]),aL(!1)})({type:"recurring",interval:"daily"}),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Schedule"}),(0,l.jsx)("button",{onClick:()=>aL(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Cancel"})]})]})]})}),aI.length>0&&(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Scheduled Workflows"}),(0,l.jsx)("div",{className:"space-y-2",children:aI.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:a.name}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[a.schedule.type," - ",a.schedule.interval,a.nextRun&&` (Next: ${a.nextRun.toLocaleString()})`]})]}),(0,l.jsx)("button",{onClick:()=>aJ(b=>b.filter(b=>b.id!==a.id)),className:"text-red-500 hover:text-red-700",children:(0,l.jsx)(iz,{className:"w-4 h-4"})})]},a.id))})]}),ao&&(0,l.jsxs)("div",{className:"fixed top-0 right-0 w-96 h-full bg-white shadow-lg z-50 p-6 flex flex-col",children:[(0,l.jsx)("button",{className:"self-end text-gray-400 hover:text-gray-700",onClick:()=>ap(null),children:"\xd7"}),(0,l.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Node Configuration"}),(()=>{let a=c.find(a=>a.id===ao);return a?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Label"}),(0,l.jsx)("input",{className:"mt-1 block w-full border rounded px-2 py-1",value:a.title||"",onChange:b=>aw(a.id,{title:b.target.value})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:"Description"}),(0,l.jsx)("input",{className:"mt-1 block w-full border rounded px-2 py-1",value:a.description||"",onChange:b=>aw(a.id,{description:b.target.value})})]}),a.config&&Object.keys(a.config).map(b=>(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:b}),(0,l.jsx)("input",{className:"mt-1 block w-full border rounded px-2 py-1",value:a.config[b],onChange:c=>aw(a.id,{config:{...a.config,[b]:c.target.value}})})]},b))]}):(0,l.jsx)("div",{children:"Node not found"})})()]}),K&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96 max-h-96 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Version History"}),(0,l.jsx)("button",{onClick:()=>L(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(iz,{className:"w-5 h-5"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Version description",className:"flex-1 border border-gray-300 rounded px-3 py-2",id:"version-description"}),(0,l.jsx)("button",{onClick:()=>{((a,b=!1)=>{let d={id:`version-${Date.now()}`,version:(a=>{let b=a.split("."),c=parseInt(b[0]),d=parseInt(b[1]),e=parseInt(b[2]);return`${c}.${d}.${e+1}`})(M),timestamp:new Date,createdBy:"current-user",description:a,nodes:[...c],connections:[...e],metadata:{...aa},isRollbackPoint:b};return ab(a=>({...a,version:d.version,versionHistory:[...a.versionHistory,d]})),N(d.version)})(document.getElementById("version-description")?.value||"New version",!0)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Create Version"})]}),(0,l.jsx)("div",{className:"space-y-2",children:aa.versionHistory.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"font-medium",children:["v",a.version]}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:a.description}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:a.timestamp.toLocaleString()})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[a.isRollbackPoint&&(0,l.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Rollback Point"}),(0,l.jsx)("button",{onClick:()=>(a=>{let b=aa.versionHistory.find(b=>b.id===a);b&&(d([...b.nodes]),f([...b.connections]),ab(a=>({...a,version:b.version,updatedAt:new Date})),N(b.version))})(a.id),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Rollback"})]})]},a.id))})]})]})}),S&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96 max-h-96 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Test Results"}),(0,l.jsx)("button",{onClick:()=>T(null),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(iz,{className:"w-5 h-5"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:`p-3 rounded ${S.success?"bg-green-100":"bg-red-100"}`,children:[(0,l.jsx)("div",{className:"font-medium",children:S.success?"Test Passed":"Test Failed"}),S.duration&&(0,l.jsxs)("div",{className:"text-sm",children:["Duration: ",S.duration,"ms"]}),S.error&&(0,l.jsx)("div",{className:"text-sm text-red-600",children:S.error})]}),S.input&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Input:"}),(0,l.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-x-auto",children:JSON.stringify(S.input,null,2)})]}),S.output&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium mb-2",children:"Output:"}),(0,l.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-x-auto",children:JSON.stringify(S.output,null,2)})]})]})]})}),$&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96 max-h-96 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Webhook Endpoints"}),(0,l.jsx)("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(iz,{className:"w-5 h-5"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("button",{onClick:()=>{aG((a=>{let b={...a,id:`webhook-${Date.now()}`,triggerCount:0};return Z(a=>[...a,b]),b})({name:"New Webhook",url:"https://api.example.com/webhook",method:"POST",headers:{},enabled:!0}).id,{test:!0,timestamp:Date.now()})},className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Create Test Webhook"}),(0,l.jsx)("div",{className:"space-y-2",children:Y.map(a=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:a.name}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:a.url}),(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:[a.method,"  ",a.triggerCount," triggers",a.lastTriggered&&`  Last: ${a.lastTriggered.toLocaleString()}`]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>aG(a.id,{test:!0,timestamp:Date.now()}),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Test"}),(0,l.jsx)("button",{onClick:()=>{var b;return b=a.id,void Z(a=>a.filter(a=>a.id!==b))},className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]},a.id))})]})]})}),G&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-96 max-h-96 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Execution Logs"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("select",{value:W,onChange:a=>X(a.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[(0,l.jsx)("option",{value:"info",children:"Info"}),(0,l.jsx)("option",{value:"warning",children:"Warning"}),(0,l.jsx)("option",{value:"error",children:"Error"}),(0,l.jsx)("option",{value:"debug",children:"Debug"})]}),(0,l.jsx)("button",{onClick:()=>{V([])},className:"text-red-600 hover:text-red-800 text-sm",children:"Clear"}),(0,l.jsx)("button",{onClick:()=>{let a=new Blob([JSON.stringify(U.map(a=>({...a,timestamp:a.timestamp.toISOString()})),null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`workflow-logs-${Date.now()}.json`,c.click(),URL.revokeObjectURL(b)},className:"text-blue-600 hover:text-blue-800 text-sm",children:"Export"}),(0,l.jsx)("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:(0,l.jsx)(iz,{className:"w-5 h-5"})})]})]}),(0,l.jsx)("div",{className:"space-y-2",children:U.filter(a=>"info"===W||a.level===W).map(a=>(0,l.jsxs)("div",{className:`p-2 rounded text-sm ${"error"===a.level?"bg-red-100":"warning"===a.level?"bg-yellow-100":"debug"===a.level?"bg-gray-100":"bg-blue-100"}`,children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"font-medium",children:a.message}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:a.timestamp.toLocaleTimeString()})]}),a.data&&(0,l.jsx)("pre",{className:"text-xs mt-1 overflow-x-auto",children:JSON.stringify(a.data,null,2)})]},a.id))})]})}),(0,l.jsxs)("div",{className:"bg-white border-t p-4 flex justify-between items-center",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[c.length," nodes  ",e.length," connections  ",w?.executedNodes.length||0," executed"]}),(0,l.jsxs)("button",{onClick:()=>{b({totalNodes:c.length,totalConnections:e.length,hasExecuted:null!==w,executionMode:A}),a()},className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,l.jsx)(iP,{className:"h-4 w-4 mr-2"}),"Complete Workflow"]})]})]})}function jh(){let{startWorkflow:a,currentWorkflow:b}=(0,ar.j)(),[c,d]=(0,m.useState)(null),e=[{id:"memory-creation",title:"Create Memory",description:"Build memory from transcription + summarization in one flow",icon:gi,color:"bg-blue-500",steps:[{id:"input",title:"Capture Content",description:"Add your content via text or voice"},{id:"transcription",title:"Process Audio",description:"Converting audio to text",aiAssisted:!0},{id:"summarization",title:"Generate Summary",description:"AI-powered content summarization",aiAssisted:!0},{id:"tagging",title:"Add Tags",description:"Organize with smart tags"}]},{id:"notebook-creation",title:"Create Notebook",description:"Organize notes and memories into structured notebooks",icon:gf,color:"bg-green-500",steps:[{id:"notebook-creation",title:"Create Notebook",description:"Set up your new notebook with templates and organization",component:(0,l.jsx)(iU,{})}]},{id:"voice-note",title:"Voice Note",description:"Record and transcribe voice notes instantly",icon:gh,color:"bg-purple-500",steps:[{id:"voice-workflow",title:"Voice Note Creation",description:"Record, transcribe and enhance voice notes instantly",component:(0,l.jsx)(i$,{}),aiAssisted:!0}]},{id:"voice-transcription",title:"Real-time Voice Transcription",description:"Advanced live transcription with Whisper, speaker detection, and export",icon:gq,color:"bg-green-500",steps:[{id:"transcription-workflow",title:"Voice Transcription",description:"Real-time transcription with AI speaker identification",component:(0,l.jsx)(i4,{}),aiAssisted:!0}]},{id:"file-processing",title:"File Processing",description:"Upload and auto-parse files into memories (PDF, Word, audio, video)",icon:gr,color:"bg-orange-500",steps:[{id:"upload",title:"Upload Files",description:"Drag and drop or select files to upload",component:(0,l.jsx)(iQ,{})}]},{id:"flashcard-creation",title:"Create Flashcards",description:"Convert notes to flashcards and study materials in 3 steps",icon:gs,color:"bg-purple-500",steps:[{id:"flashcard-workflow",title:"Create Study Set",description:"Build flashcards from content or create manually",component:(0,l.jsx)(iW,{}),aiAssisted:!0}]},{id:"knowledge-upload",title:"Knowledge Upload",description:"Upload PDFs, docs, and notes as searchable knowledge sources",icon:gf,color:"bg-indigo-500",steps:[{id:"knowledge-workflow",title:"Upload Knowledge Sources",description:"Create searchable knowledge base from documents",component:(0,l.jsx)(i0,{}),aiAssisted:!0}]},{id:"semantic-research",title:"Semantic Research & Q&A",description:"NotebookLM-style research with multi-file Q&A, citations, and AI analysis",icon:gt,color:"bg-purple-500",steps:[{id:"junction-workflow",title:"Semantic Research Session",description:"Upload documents and ask AI questions with precise citations",component:(0,l.jsx)(i9,{}),aiAssisted:!0}]},{id:"error-demo",title:"Error Handling Demo",description:"Showcase error recovery with retry, rollback, and exit options",icon:gu,color:"bg-red-500",steps:[{id:"demo",title:"Error Demo",description:"Simulate different error scenarios",component:(0,l.jsx)(iK,{})},{id:"recovery",title:"Recovery Success",description:"Workflow completed successfully"}]},{id:"mere-assistant",title:"Mere AI Assistant",description:"Chat with your intelligent AI assistant with memory awareness and app integration",icon:gv,color:"bg-blue-500",steps:[{id:"mere-chat",title:"AI Chat Session",description:"Intelligent conversation with memory context and workflow integration",component:(0,l.jsx)(jc,{}),aiAssisted:!0}]},{id:"memory-chain",title:"Memory Chain Generation",description:"Create reasoning flows in  4 actions with AI assistance",icon:gw,color:"bg-indigo-500",steps:[{id:"chain-builder",title:"Build Memory Chain",description:"Connect memories to create reasoning flows",component:(0,l.jsx)(iL,{}),aiAssisted:!0}]},{id:"marathon-builder",title:"Marathon Workflow Builder",description:"Visual automation platform with drag-and-drop nodes, triggers, and execution",icon:gx,color:"bg-indigo-500",steps:[{id:"workflow-builder",title:"Visual Workflow Builder",description:"Create automation flows with drag-and-drop interface",component:(0,l.jsx)(jg,{}),aiAssisted:!0}]}],f=b=>{a(b.id,b.title,b.steps)};return b?(0,l.jsx)("div",{className:"min-h-screen overflow-y-auto p-6",children:(0,l.jsx)(iH,{})}):(0,l.jsxs)("div",{className:"min-h-screen overflow-y-auto p-6 space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Ntu Workflows"}),(0,l.jsx)("p",{className:"mt-2 text-gray-600",children:"AI-powered workflows for seamless productivity and memory management"})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-6 text-white",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Quick Start"}),(0,l.jsx)("p",{className:"mb-4 opacity-90",children:"Complete any common task in  3 steps with auto-save progress and AI assistance"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)("button",{onClick:()=>f(e[0]),className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:"Create Memory"}),(0,l.jsx)("button",{onClick:()=>f(e[2]),className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:"Voice Note"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Available Workflows"}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(a=>(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>f(a),children:[(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:`${a.color} p-3 rounded-lg`,children:(0,l.jsx)(a.icon,{className:"h-6 w-6 text-white"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:a.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:[a.steps.length," steps  ",a.steps.filter(a=>a.aiAssisted).length," AI-assisted"]}),(0,l.jsxs)("div",{className:"space-y-1",children:[a.steps.slice(0,3).map((a,b)=>(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("div",{className:"w-4 h-4 bg-gray-100 rounded-full flex items-center justify-center text-xs",children:b+1}),(0,l.jsx)("span",{className:"text-gray-600",children:a.title}),a.aiAssisted&&(0,l.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-1 rounded",children:"AI"})]},a.id)),a.steps.length>3&&(0,l.jsxs)("div",{className:"text-xs text-gray-400",children:["+",a.steps.length-3," more steps"]})]})]}),(0,l.jsxs)("button",{className:"w-full mt-4 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,l.jsx)(gl,{className:"h-4 w-4"}),"Start Workflow"]})]},a.id))})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Workflow Features"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,l.jsx)("span",{className:"text-green-600 font-semibold",children:"3"})}),(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"3-Step Completion"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Complete any common task in 3 steps or less"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,l.jsx)("span",{className:"text-blue-600 font-semibold",children:"\uD83D\uDCBE"})}),(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"Auto-Save"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Progress automatically saved at each step"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-2",children:(0,l.jsx)("span",{className:"text-purple-600 font-semibold",children:"\uD83E\uDD16"})}),(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:"AI Assistance"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Mere helps with complex processing steps"})]})]})]})]})}function ji(){let[a,b]=(0,m.useState)("dashboard"),{currentWorkflow:c}=(0,ar.j)();return c?(0,l.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,l.jsx)(gp,{onViewChange:b,currentView:a}),(0,l.jsx)("main",{className:"flex-1 overflow-hidden",children:(0,l.jsxs)("div",{className:"flex h-full",children:[(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsx)(jh,{})}),(0,l.jsx)("div",{className:"w-96 border-l",children:(0,l.jsx)(as,{})})]})})]}):(0,l.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,l.jsx)(gp,{onViewChange:b,currentView:a}),(0,l.jsx)("main",{className:"flex-1 overflow-y-auto",children:"dashboard"===a?(0,l.jsx)(jh,{}):(0,l.jsx)(as,{})})]})}},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},6895:(a,b,c)=>{"use strict";a.exports=c(3567)},8193:(a,b,c)=>{Promise.resolve().then(c.bind(c,1204))},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[985,206,753],()=>b(b.s=2599));module.exports=c})();